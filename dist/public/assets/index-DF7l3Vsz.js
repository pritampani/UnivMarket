var W4=t=>{throw TypeError(t)};var bx=(t,e,n)=>e.has(t)||W4("Cannot "+n);var pe=(t,e,n)=>(bx(t,e,"read from private field"),n?n.call(t):e.get(t)),kt=(t,e,n)=>e.has(t)?W4("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ft=(t,e,n,r)=>(bx(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),un=(t,e,n)=>(bx(t,e,"access private method"),n);var Ry=(t,e,n,r)=>({set _(s){ft(t,e,s,n)},get _(){return pe(t,e,r)}});function Y9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var pue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qI={exports:{}},E2={},$I={exports:{}},sn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv=Symbol.for("react.element"),Q9=Symbol.for("react.portal"),X9=Symbol.for("react.fragment"),Z9=Symbol.for("react.strict_mode"),J9=Symbol.for("react.profiler"),eV=Symbol.for("react.provider"),tV=Symbol.for("react.context"),nV=Symbol.for("react.forward_ref"),rV=Symbol.for("react.suspense"),sV=Symbol.for("react.memo"),iV=Symbol.for("react.lazy"),H4=Symbol.iterator;function oV(t){return t===null||typeof t!="object"?null:(t=H4&&t[H4]||t["@@iterator"],typeof t=="function"?t:null)}var WI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HI=Object.assign,GI={};function Yp(t,e,n){this.props=t,this.context=e,this.refs=GI,this.updater=n||WI}Yp.prototype.isReactComponent={};Yp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function KI(){}KI.prototype=Yp.prototype;function oS(t,e,n){this.props=t,this.context=e,this.refs=GI,this.updater=n||WI}var aS=oS.prototype=new KI;aS.constructor=oS;HI(aS,Yp.prototype);aS.isPureReactComponent=!0;var G4=Array.isArray,YI=Object.prototype.hasOwnProperty,lS={current:null},QI={key:!0,ref:!0,__self:!0,__source:!0};function XI(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)YI.call(e,r)&&!QI.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Lv,type:t,key:i,ref:o,props:s,_owner:lS.current}}function aV(t,e){return{$$typeof:Lv,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cS(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lv}function lV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var K4=/\/+/g;function _x(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lV(""+t.key):e.toString(36)}function y0(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Lv:case Q9:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+_x(o,0):r,G4(s)?(n="",t!=null&&(n=t.replace(K4,"$&/")+"/"),y0(s,e,n,"",function(u){return u})):s!=null&&(cS(s)&&(s=aV(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(K4,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",G4(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+_x(i,a);o+=y0(i,e,n,c,s)}else if(c=oV(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+_x(i,a++),o+=y0(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ly(t,e,n){if(t==null)return t;var r=[],s=0;return y0(t,r,"","",function(i){return e.call(n,i,s++)}),r}function cV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ti={current:null},w0={transition:null},uV={ReactCurrentDispatcher:ti,ReactCurrentBatchConfig:w0,ReactCurrentOwner:lS};function ZI(){throw Error("act(...) is not supported in production builds of React.")}sn.Children={map:Ly,forEach:function(t,e,n){Ly(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ly(t,function(){e++}),e},toArray:function(t){return Ly(t,function(e){return e})||[]},only:function(t){if(!cS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};sn.Component=Yp;sn.Fragment=X9;sn.Profiler=J9;sn.PureComponent=oS;sn.StrictMode=Z9;sn.Suspense=rV;sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uV;sn.act=ZI;sn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=HI({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=lS.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)YI.call(e,c)&&!QI.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Lv,type:t.type,key:s,ref:i,props:r,_owner:o}};sn.createContext=function(t){return t={$$typeof:tV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:eV,_context:t},t.Consumer=t};sn.createElement=XI;sn.createFactory=function(t){var e=XI.bind(null,t);return e.type=t,e};sn.createRef=function(){return{current:null}};sn.forwardRef=function(t){return{$$typeof:nV,render:t}};sn.isValidElement=cS;sn.lazy=function(t){return{$$typeof:iV,_payload:{_status:-1,_result:t},_init:cV}};sn.memo=function(t,e){return{$$typeof:sV,type:t,compare:e===void 0?null:e}};sn.startTransition=function(t){var e=w0.transition;w0.transition={};try{t()}finally{w0.transition=e}};sn.unstable_act=ZI;sn.useCallback=function(t,e){return ti.current.useCallback(t,e)};sn.useContext=function(t){return ti.current.useContext(t)};sn.useDebugValue=function(){};sn.useDeferredValue=function(t){return ti.current.useDeferredValue(t)};sn.useEffect=function(t,e){return ti.current.useEffect(t,e)};sn.useId=function(){return ti.current.useId()};sn.useImperativeHandle=function(t,e,n){return ti.current.useImperativeHandle(t,e,n)};sn.useInsertionEffect=function(t,e){return ti.current.useInsertionEffect(t,e)};sn.useLayoutEffect=function(t,e){return ti.current.useLayoutEffect(t,e)};sn.useMemo=function(t,e){return ti.current.useMemo(t,e)};sn.useReducer=function(t,e,n){return ti.current.useReducer(t,e,n)};sn.useRef=function(t){return ti.current.useRef(t)};sn.useState=function(t){return ti.current.useState(t)};sn.useSyncExternalStore=function(t,e,n){return ti.current.useSyncExternalStore(t,e,n)};sn.useTransition=function(){return ti.current.useTransition()};sn.version="18.3.1";$I.exports=sn;var E=$I.exports;const wt=zI(E),JI=Y9({__proto__:null,default:wt},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dV=E,hV=Symbol.for("react.element"),fV=Symbol.for("react.fragment"),pV=Object.prototype.hasOwnProperty,mV=dV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gV={key:!0,ref:!0,__self:!0,__source:!0};function ek(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)pV.call(e,r)&&!gV.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:hV,type:t,key:i,ref:o,props:s,_owner:mV.current}}E2.Fragment=fV;E2.jsx=ek;E2.jsxs=ek;qI.exports=E2;var l=qI.exports,tk={exports:{}},Gi={},nk={exports:{}},rk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,te){var re=Y.length;Y.push(te);e:for(;0<re;){var Ee=re-1>>>1,B=Y[Ee];if(0<s(B,te))Y[Ee]=te,Y[re]=B,re=Ee;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var te=Y[0],re=Y.pop();if(re!==te){Y[0]=re;e:for(var Ee=0,B=Y.length,Q=B>>>1;Ee<Q;){var J=2*(Ee+1)-1,se=Y[J],le=J+1,oe=Y[le];if(0>s(se,re))le<B&&0>s(oe,se)?(Y[Ee]=oe,Y[le]=re,Ee=le):(Y[Ee]=se,Y[J]=re,Ee=J);else if(le<B&&0>s(oe,re))Y[Ee]=oe,Y[le]=re,Ee=le;else break e}}return te}function s(Y,te){var re=Y.sortIndex-te.sortIndex;return re!==0?re:Y.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,h=null,p=3,g=!1,b=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(Y){for(var te=n(u);te!==null;){if(te.callback===null)r(u);else if(te.startTime<=Y)r(u),te.sortIndex=te.expirationTime,e(c,te);else break;te=n(u)}}function R(Y){if(w=!1,N(Y),!b)if(n(c)!==null)b=!0,ie(M);else{var te=n(u);te!==null&&fe(R,te.startTime-Y)}}function M(Y,te){b=!1,w&&(w=!1,x(P),P=-1),g=!0;var re=p;try{for(N(te),h=n(c);h!==null&&(!(h.expirationTime>te)||Y&&!k());){var Ee=h.callback;if(typeof Ee=="function"){h.callback=null,p=h.priorityLevel;var B=Ee(h.expirationTime<=te);te=t.unstable_now(),typeof B=="function"?h.callback=B:h===n(c)&&r(c),N(te)}else r(c);h=n(c)}if(h!==null)var Q=!0;else{var J=n(u);J!==null&&fe(R,J.startTime-te),Q=!1}return Q}finally{h=null,p=re,g=!1}}var $=!1,I=null,P=-1,L=5,F=-1;function k(){return!(t.unstable_now()-F<L)}function T(){if(I!==null){var Y=t.unstable_now();F=Y;var te=!0;try{te=I(!0,Y)}finally{te?O():($=!1,I=null)}}else $=!1}var O;if(typeof v=="function")O=function(){v(T)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ue=G.port2;G.port1.onmessage=T,O=function(){ue.postMessage(null)}}else O=function(){_(T,0)};function ie(Y){I=Y,$||($=!0,O())}function fe(Y,te){P=_(function(){Y(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,ie(M))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(Y){switch(p){case 1:case 2:case 3:var te=3;break;default:te=p}var re=p;p=te;try{return Y()}finally{p=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,te){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var re=p;p=Y;try{return te()}finally{p=re}},t.unstable_scheduleCallback=function(Y,te,re){var Ee=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ee+re:Ee):re=Ee,Y){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=re+B,Y={id:d++,callback:te,priorityLevel:Y,startTime:re,expirationTime:B,sortIndex:-1},re>Ee?(Y.sortIndex=re,e(u,Y),n(c)===null&&Y===n(u)&&(w?(x(P),P=-1):w=!0,fe(R,re-Ee))):(Y.sortIndex=B,e(c,Y),b||g||(b=!0,ie(M))),Y},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(Y){var te=p;return function(){var re=p;p=te;try{return Y.apply(this,arguments)}finally{p=re}}}})(rk);nk.exports=rk;var vV=nk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yV=E,Wi=vV;function Ke(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sk=new Set,Ig={};function Nh(t,e){Sp(t,e),Sp(t+"Capture",e)}function Sp(t,e){for(Ig[t]=e,t=0;t<e.length;t++)sk.add(e[t])}var Hl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vb=Object.prototype.hasOwnProperty,wV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Y4={},Q4={};function xV(t){return Vb.call(Q4,t)?!0:Vb.call(Y4,t)?!1:wV.test(t)?Q4[t]=!0:(Y4[t]=!0,!1)}function bV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _V(t,e,n,r){if(e===null||typeof e>"u"||bV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ni(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var hs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){hs[t]=new ni(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];hs[e]=new ni(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){hs[t]=new ni(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){hs[t]=new ni(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){hs[t]=new ni(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){hs[t]=new ni(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){hs[t]=new ni(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){hs[t]=new ni(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){hs[t]=new ni(t,5,!1,t.toLowerCase(),null,!1,!1)});var uS=/[\-:]([a-z])/g;function dS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(uS,dS);hs[e]=new ni(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(uS,dS);hs[e]=new ni(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(uS,dS);hs[e]=new ni(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){hs[t]=new ni(t,1,!1,t.toLowerCase(),null,!1,!1)});hs.xlinkHref=new ni("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){hs[t]=new ni(t,1,!1,t.toLowerCase(),null,!0,!0)});function hS(t,e,n,r){var s=hs.hasOwnProperty(e)?hs[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_V(e,n,s,r)&&(n=null),r||s===null?xV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var oc=yV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oy=Symbol.for("react.element"),Cf=Symbol.for("react.portal"),Pf=Symbol.for("react.fragment"),fS=Symbol.for("react.strict_mode"),Ub=Symbol.for("react.profiler"),ik=Symbol.for("react.provider"),ok=Symbol.for("react.context"),pS=Symbol.for("react.forward_ref"),Bb=Symbol.for("react.suspense"),zb=Symbol.for("react.suspense_list"),mS=Symbol.for("react.memo"),Yc=Symbol.for("react.lazy"),ak=Symbol.for("react.offscreen"),X4=Symbol.iterator;function jm(t){return t===null||typeof t!="object"?null:(t=X4&&t[X4]||t["@@iterator"],typeof t=="function"?t:null)}var rr=Object.assign,Sx;function Ym(t){if(Sx===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sx=e&&e[1]||""}return`
`+Sx+t}var Nx=!1;function Ex(t,e){if(!t||Nx)return"";Nx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Nx=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ym(t):""}function SV(t){switch(t.tag){case 5:return Ym(t.type);case 16:return Ym("Lazy");case 13:return Ym("Suspense");case 19:return Ym("SuspenseList");case 0:case 2:case 15:return t=Ex(t.type,!1),t;case 11:return t=Ex(t.type.render,!1),t;case 1:return t=Ex(t.type,!0),t;default:return""}}function qb(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pf:return"Fragment";case Cf:return"Portal";case Ub:return"Profiler";case fS:return"StrictMode";case Bb:return"Suspense";case zb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ok:return(t.displayName||"Context")+".Consumer";case ik:return(t._context.displayName||"Context")+".Provider";case pS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mS:return e=t.displayName||null,e!==null?e:qb(t.type)||"Memo";case Yc:e=t._payload,t=t._init;try{return qb(t(e))}catch{}}return null}function NV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qb(e);case 8:return e===fS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function EV(t){var e=lk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dy(t){t._valueTracker||(t._valueTracker=EV(t))}function ck(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=lk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Z0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $b(t,e){var n=e.checked;return rr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Z4(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Lu(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uk(t,e){e=e.checked,e!=null&&hS(t,"checked",e,!1)}function Wb(t,e){uk(t,e);var n=Lu(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hb(t,e.type,n):e.hasOwnProperty("defaultValue")&&Hb(t,e.type,Lu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function J4(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Hb(t,e,n){(e!=="number"||Z0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qm=Array.isArray;function Bf(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Lu(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Gb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ke(91));return rr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function eA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ke(92));if(Qm(n)){if(1<n.length)throw Error(Ke(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Lu(n)}}function dk(t,e){var n=Lu(e.value),r=Lu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function tA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var My,fk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(My=My||document.createElement("div"),My.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=My.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kg(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ug={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AV=["Webkit","ms","Moz","O"];Object.keys(ug).forEach(function(t){AV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ug[e]=ug[t]})});function pk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ug.hasOwnProperty(t)&&ug[t]?(""+e).trim():e+"px"}function mk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=pk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var CV=rr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yb(t,e){if(e){if(CV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ke(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ke(62))}}function Qb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xb=null;function gS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zb=null,zf=null,qf=null;function nA(t){if(t=Mv(t)){if(typeof Zb!="function")throw Error(Ke(280));var e=t.stateNode;e&&(e=I2(e),Zb(t.stateNode,t.type,e))}}function gk(t){zf?qf?qf.push(t):qf=[t]:zf=t}function vk(){if(zf){var t=zf,e=qf;if(qf=zf=null,nA(t),e)for(t=0;t<e.length;t++)nA(e[t])}}function yk(t,e){return t(e)}function wk(){}var Ax=!1;function xk(t,e,n){if(Ax)return t(e,n);Ax=!0;try{return yk(t,e,n)}finally{Ax=!1,(zf!==null||qf!==null)&&(wk(),vk())}}function jg(t,e){var n=t.stateNode;if(n===null)return null;var r=I2(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ke(231,e,typeof n));return n}var Jb=!1;if(Hl)try{var Rm={};Object.defineProperty(Rm,"passive",{get:function(){Jb=!0}}),window.addEventListener("test",Rm,Rm),window.removeEventListener("test",Rm,Rm)}catch{Jb=!1}function PV(t,e,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var dg=!1,J0=null,e1=!1,e5=null,TV={onError:function(t){dg=!0,J0=t}};function IV(t,e,n,r,s,i,o,a,c){dg=!1,J0=null,PV.apply(TV,arguments)}function kV(t,e,n,r,s,i,o,a,c){if(IV.apply(this,arguments),dg){if(dg){var u=J0;dg=!1,J0=null}else throw Error(Ke(198));e1||(e1=!0,e5=u)}}function Eh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rA(t){if(Eh(t)!==t)throw Error(Ke(188))}function jV(t){var e=t.alternate;if(!e){if(e=Eh(t),e===null)throw Error(Ke(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return rA(s),t;if(i===r)return rA(s),e;i=i.sibling}throw Error(Ke(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Ke(189))}}if(n.alternate!==r)throw Error(Ke(190))}if(n.tag!==3)throw Error(Ke(188));return n.stateNode.current===n?t:e}function _k(t){return t=jV(t),t!==null?Sk(t):null}function Sk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Sk(t);if(e!==null)return e;t=t.sibling}return null}var Nk=Wi.unstable_scheduleCallback,sA=Wi.unstable_cancelCallback,RV=Wi.unstable_shouldYield,LV=Wi.unstable_requestPaint,xr=Wi.unstable_now,OV=Wi.unstable_getCurrentPriorityLevel,vS=Wi.unstable_ImmediatePriority,Ek=Wi.unstable_UserBlockingPriority,t1=Wi.unstable_NormalPriority,DV=Wi.unstable_LowPriority,Ak=Wi.unstable_IdlePriority,A2=null,Va=null;function MV(t){if(Va&&typeof Va.onCommitFiberRoot=="function")try{Va.onCommitFiberRoot(A2,t,void 0,(t.current.flags&128)===128)}catch{}}var Xo=Math.clz32?Math.clz32:UV,FV=Math.log,VV=Math.LN2;function UV(t){return t>>>=0,t===0?32:31-(FV(t)/VV|0)|0}var Fy=64,Vy=4194304;function Xm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function n1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Xm(a):(i&=o,i!==0&&(r=Xm(i)))}else o=n&~s,o!==0?r=Xm(o):i!==0&&(r=Xm(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xo(e),s=1<<n,r|=t[n],e&=~s;return r}function BV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Xo(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=BV(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function t5(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ck(){var t=Fy;return Fy<<=1,!(Fy&4194240)&&(Fy=64),t}function Cx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ov(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xo(e),t[e]=n}function qV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Xo(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function yS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xo(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Rn=0;function Pk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Tk,wS,Ik,kk,jk,n5=!1,Uy=[],mu=null,gu=null,vu=null,Rg=new Map,Lg=new Map,Xc=[],$V="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iA(t,e){switch(t){case"focusin":case"focusout":mu=null;break;case"dragenter":case"dragleave":gu=null;break;case"mouseover":case"mouseout":vu=null;break;case"pointerover":case"pointerout":Rg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lg.delete(e.pointerId)}}function Lm(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Mv(e),e!==null&&wS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function WV(t,e,n,r,s){switch(e){case"focusin":return mu=Lm(mu,t,e,n,r,s),!0;case"dragenter":return gu=Lm(gu,t,e,n,r,s),!0;case"mouseover":return vu=Lm(vu,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Rg.set(i,Lm(Rg.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Lg.set(i,Lm(Lg.get(i)||null,t,e,n,r,s)),!0}return!1}function Rk(t){var e=Ld(t.target);if(e!==null){var n=Eh(e);if(n!==null){if(e=n.tag,e===13){if(e=bk(n),e!==null){t.blockedOn=e,jk(t.priority,function(){Ik(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function x0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=r5(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Xb=r,n.target.dispatchEvent(r),Xb=null}else return e=Mv(n),e!==null&&wS(e),t.blockedOn=n,!1;e.shift()}return!0}function oA(t,e,n){x0(t)&&n.delete(e)}function HV(){n5=!1,mu!==null&&x0(mu)&&(mu=null),gu!==null&&x0(gu)&&(gu=null),vu!==null&&x0(vu)&&(vu=null),Rg.forEach(oA),Lg.forEach(oA)}function Om(t,e){t.blockedOn===e&&(t.blockedOn=null,n5||(n5=!0,Wi.unstable_scheduleCallback(Wi.unstable_NormalPriority,HV)))}function Og(t){function e(s){return Om(s,t)}if(0<Uy.length){Om(Uy[0],t);for(var n=1;n<Uy.length;n++){var r=Uy[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mu!==null&&Om(mu,t),gu!==null&&Om(gu,t),vu!==null&&Om(vu,t),Rg.forEach(e),Lg.forEach(e),n=0;n<Xc.length;n++)r=Xc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xc.length&&(n=Xc[0],n.blockedOn===null);)Rk(n),n.blockedOn===null&&Xc.shift()}var $f=oc.ReactCurrentBatchConfig,r1=!0;function GV(t,e,n,r){var s=Rn,i=$f.transition;$f.transition=null;try{Rn=1,xS(t,e,n,r)}finally{Rn=s,$f.transition=i}}function KV(t,e,n,r){var s=Rn,i=$f.transition;$f.transition=null;try{Rn=4,xS(t,e,n,r)}finally{Rn=s,$f.transition=i}}function xS(t,e,n,r){if(r1){var s=r5(t,e,n,r);if(s===null)Mx(t,e,r,s1,n),iA(t,r);else if(WV(s,t,e,n,r))r.stopPropagation();else if(iA(t,r),e&4&&-1<$V.indexOf(t)){for(;s!==null;){var i=Mv(s);if(i!==null&&Tk(i),i=r5(t,e,n,r),i===null&&Mx(t,e,r,s1,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Mx(t,e,r,null,n)}}var s1=null;function r5(t,e,n,r){if(s1=null,t=gS(r),t=Ld(t),t!==null)if(e=Eh(t),e===null)t=null;else if(n=e.tag,n===13){if(t=bk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return s1=t,null}function Lk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OV()){case vS:return 1;case Ek:return 4;case t1:case DV:return 16;case Ak:return 536870912;default:return 16}default:return 16}}var uu=null,bS=null,b0=null;function Ok(){if(b0)return b0;var t,e=bS,n=e.length,r,s="value"in uu?uu.value:uu.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return b0=s.slice(t,1<r?1-r:void 0)}function _0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function By(){return!0}function aA(){return!1}function Ki(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?By:aA,this.isPropagationStopped=aA,this}return rr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=By)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=By)},persist:function(){},isPersistent:By}),e}var Qp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_S=Ki(Qp),Dv=rr({},Qp,{view:0,detail:0}),YV=Ki(Dv),Px,Tx,Dm,C2=rr({},Dv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:SS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dm&&(Dm&&t.type==="mousemove"?(Px=t.screenX-Dm.screenX,Tx=t.screenY-Dm.screenY):Tx=Px=0,Dm=t),Px)},movementY:function(t){return"movementY"in t?t.movementY:Tx}}),lA=Ki(C2),QV=rr({},C2,{dataTransfer:0}),XV=Ki(QV),ZV=rr({},Dv,{relatedTarget:0}),Ix=Ki(ZV),JV=rr({},Qp,{animationName:0,elapsedTime:0,pseudoElement:0}),eU=Ki(JV),tU=rr({},Qp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nU=Ki(tU),rU=rr({},Qp,{data:0}),cA=Ki(rU),sU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oU[t])?!!e[t]:!1}function SS(){return aU}var lU=rr({},Dv,{key:function(t){if(t.key){var e=sU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:SS,charCode:function(t){return t.type==="keypress"?_0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cU=Ki(lU),uU=rr({},C2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uA=Ki(uU),dU=rr({},Dv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:SS}),hU=Ki(dU),fU=rr({},Qp,{propertyName:0,elapsedTime:0,pseudoElement:0}),pU=Ki(fU),mU=rr({},C2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gU=Ki(mU),vU=[9,13,27,32],NS=Hl&&"CompositionEvent"in window,hg=null;Hl&&"documentMode"in document&&(hg=document.documentMode);var yU=Hl&&"TextEvent"in window&&!hg,Dk=Hl&&(!NS||hg&&8<hg&&11>=hg),dA=" ",hA=!1;function Mk(t,e){switch(t){case"keyup":return vU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tf=!1;function wU(t,e){switch(t){case"compositionend":return Fk(e);case"keypress":return e.which!==32?null:(hA=!0,dA);case"textInput":return t=e.data,t===dA&&hA?null:t;default:return null}}function xU(t,e){if(Tf)return t==="compositionend"||!NS&&Mk(t,e)?(t=Ok(),b0=bS=uu=null,Tf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dk&&e.locale!=="ko"?null:e.data;default:return null}}var bU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bU[t.type]:e==="textarea"}function Vk(t,e,n,r){gk(r),e=i1(e,"onChange"),0<e.length&&(n=new _S("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fg=null,Dg=null;function _U(t){Qk(t,0)}function P2(t){var e=jf(t);if(ck(e))return t}function SU(t,e){if(t==="change")return e}var Uk=!1;if(Hl){var kx;if(Hl){var jx="oninput"in document;if(!jx){var pA=document.createElement("div");pA.setAttribute("oninput","return;"),jx=typeof pA.oninput=="function"}kx=jx}else kx=!1;Uk=kx&&(!document.documentMode||9<document.documentMode)}function mA(){fg&&(fg.detachEvent("onpropertychange",Bk),Dg=fg=null)}function Bk(t){if(t.propertyName==="value"&&P2(Dg)){var e=[];Vk(e,Dg,t,gS(t)),xk(_U,e)}}function NU(t,e,n){t==="focusin"?(mA(),fg=e,Dg=n,fg.attachEvent("onpropertychange",Bk)):t==="focusout"&&mA()}function EU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return P2(Dg)}function AU(t,e){if(t==="click")return P2(e)}function CU(t,e){if(t==="input"||t==="change")return P2(e)}function PU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ra=typeof Object.is=="function"?Object.is:PU;function Mg(t,e){if(ra(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Vb.call(e,s)||!ra(t[s],e[s]))return!1}return!0}function gA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vA(t,e){var n=gA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gA(n)}}function zk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qk(){for(var t=window,e=Z0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Z0(t.document)}return e}function ES(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TU(t){var e=qk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zk(n.ownerDocument.documentElement,n)){if(r!==null&&ES(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=vA(n,i);var o=vA(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var IU=Hl&&"documentMode"in document&&11>=document.documentMode,If=null,s5=null,pg=null,i5=!1;function yA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;i5||If==null||If!==Z0(r)||(r=If,"selectionStart"in r&&ES(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pg&&Mg(pg,r)||(pg=r,r=i1(s5,"onSelect"),0<r.length&&(e=new _S("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=If)))}function zy(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var kf={animationend:zy("Animation","AnimationEnd"),animationiteration:zy("Animation","AnimationIteration"),animationstart:zy("Animation","AnimationStart"),transitionend:zy("Transition","TransitionEnd")},Rx={},$k={};Hl&&($k=document.createElement("div").style,"AnimationEvent"in window||(delete kf.animationend.animation,delete kf.animationiteration.animation,delete kf.animationstart.animation),"TransitionEvent"in window||delete kf.transitionend.transition);function T2(t){if(Rx[t])return Rx[t];if(!kf[t])return t;var e=kf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $k)return Rx[t]=e[n];return t}var Wk=T2("animationend"),Hk=T2("animationiteration"),Gk=T2("animationstart"),Kk=T2("transitionend"),Yk=new Map,wA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ju(t,e){Yk.set(t,e),Nh(e,[t])}for(var Lx=0;Lx<wA.length;Lx++){var Ox=wA[Lx],kU=Ox.toLowerCase(),jU=Ox[0].toUpperCase()+Ox.slice(1);Ju(kU,"on"+jU)}Ju(Wk,"onAnimationEnd");Ju(Hk,"onAnimationIteration");Ju(Gk,"onAnimationStart");Ju("dblclick","onDoubleClick");Ju("focusin","onFocus");Ju("focusout","onBlur");Ju(Kk,"onTransitionEnd");Sp("onMouseEnter",["mouseout","mouseover"]);Sp("onMouseLeave",["mouseout","mouseover"]);Sp("onPointerEnter",["pointerout","pointerover"]);Sp("onPointerLeave",["pointerout","pointerover"]);Nh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zm));function xA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,kV(r,e,void 0,t),t.currentTarget=null}function Qk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;xA(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;xA(s,a,u),i=c}}}if(e1)throw t=e5,e1=!1,e5=null,t}function Kn(t,e){var n=e[u5];n===void 0&&(n=e[u5]=new Set);var r=t+"__bubble";n.has(r)||(Xk(e,t,2,!1),n.add(r))}function Dx(t,e,n){var r=0;e&&(r|=4),Xk(n,t,r,e)}var qy="_reactListening"+Math.random().toString(36).slice(2);function Fg(t){if(!t[qy]){t[qy]=!0,sk.forEach(function(n){n!=="selectionchange"&&(RU.has(n)||Dx(n,!1,t),Dx(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qy]||(e[qy]=!0,Dx("selectionchange",!1,e))}}function Xk(t,e,n,r){switch(Lk(e)){case 1:var s=GV;break;case 4:s=KV;break;default:s=xS}n=s.bind(null,e,n,t),s=void 0,!Jb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Mx(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ld(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}xk(function(){var u=i,d=gS(n),h=[];e:{var p=Yk.get(t);if(p!==void 0){var g=_S,b=t;switch(t){case"keypress":if(_0(n)===0)break e;case"keydown":case"keyup":g=cU;break;case"focusin":b="focus",g=Ix;break;case"focusout":b="blur",g=Ix;break;case"beforeblur":case"afterblur":g=Ix;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=lA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=XV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=hU;break;case Wk:case Hk:case Gk:g=eU;break;case Kk:g=pU;break;case"scroll":g=YV;break;case"wheel":g=gU;break;case"copy":case"cut":case"paste":g=nU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=uA}var w=(e&4)!==0,_=!w&&t==="scroll",x=w?p!==null?p+"Capture":null:p;w=[];for(var v=u,N;v!==null;){N=v;var R=N.stateNode;if(N.tag===5&&R!==null&&(N=R,x!==null&&(R=jg(v,x),R!=null&&w.push(Vg(v,R,N)))),_)break;v=v.return}0<w.length&&(p=new g(p,b,null,n,d),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Xb&&(b=n.relatedTarget||n.fromElement)&&(Ld(b)||b[Gl]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(b=n.relatedTarget||n.toElement,g=u,b=b?Ld(b):null,b!==null&&(_=Eh(b),b!==_||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=u),g!==b)){if(w=lA,R="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=uA,R="onPointerLeave",x="onPointerEnter",v="pointer"),_=g==null?p:jf(g),N=b==null?p:jf(b),p=new w(R,v+"leave",g,n,d),p.target=_,p.relatedTarget=N,R=null,Ld(d)===u&&(w=new w(x,v+"enter",b,n,d),w.target=N,w.relatedTarget=_,R=w),_=R,g&&b)t:{for(w=g,x=b,v=0,N=w;N;N=af(N))v++;for(N=0,R=x;R;R=af(R))N++;for(;0<v-N;)w=af(w),v--;for(;0<N-v;)x=af(x),N--;for(;v--;){if(w===x||x!==null&&w===x.alternate)break t;w=af(w),x=af(x)}w=null}else w=null;g!==null&&bA(h,p,g,w,!1),b!==null&&_!==null&&bA(h,_,b,w,!0)}}e:{if(p=u?jf(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var M=SU;else if(fA(p))if(Uk)M=CU;else{M=EU;var $=NU}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=AU);if(M&&(M=M(t,u))){Vk(h,M,n,d);break e}$&&$(t,p,u),t==="focusout"&&($=p._wrapperState)&&$.controlled&&p.type==="number"&&Hb(p,"number",p.value)}switch($=u?jf(u):window,t){case"focusin":(fA($)||$.contentEditable==="true")&&(If=$,s5=u,pg=null);break;case"focusout":pg=s5=If=null;break;case"mousedown":i5=!0;break;case"contextmenu":case"mouseup":case"dragend":i5=!1,yA(h,n,d);break;case"selectionchange":if(IU)break;case"keydown":case"keyup":yA(h,n,d)}var I;if(NS)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Tf?Mk(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Dk&&n.locale!=="ko"&&(Tf||P!=="onCompositionStart"?P==="onCompositionEnd"&&Tf&&(I=Ok()):(uu=d,bS="value"in uu?uu.value:uu.textContent,Tf=!0)),$=i1(u,P),0<$.length&&(P=new cA(P,t,null,n,d),h.push({event:P,listeners:$}),I?P.data=I:(I=Fk(n),I!==null&&(P.data=I)))),(I=yU?wU(t,n):xU(t,n))&&(u=i1(u,"onBeforeInput"),0<u.length&&(d=new cA("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}Qk(h,e)})}function Vg(t,e,n){return{instance:t,listener:e,currentTarget:n}}function i1(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=jg(t,n),i!=null&&r.unshift(Vg(t,i,s)),i=jg(t,e),i!=null&&r.push(Vg(t,i,s))),t=t.return}return r}function af(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bA(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=jg(n,i),c!=null&&o.unshift(Vg(n,c,a))):s||(c=jg(n,i),c!=null&&o.push(Vg(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var LU=/\r\n?/g,OU=/\u0000|\uFFFD/g;function _A(t){return(typeof t=="string"?t:""+t).replace(LU,`
`).replace(OU,"")}function $y(t,e,n){if(e=_A(e),_A(t)!==e&&n)throw Error(Ke(425))}function o1(){}var o5=null,a5=null;function l5(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var c5=typeof setTimeout=="function"?setTimeout:void 0,DU=typeof clearTimeout=="function"?clearTimeout:void 0,SA=typeof Promise=="function"?Promise:void 0,MU=typeof queueMicrotask=="function"?queueMicrotask:typeof SA<"u"?function(t){return SA.resolve(null).then(t).catch(FU)}:c5;function FU(t){setTimeout(function(){throw t})}function Fx(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Og(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Og(e)}function yu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function NA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xp=Math.random().toString(36).slice(2),Oa="__reactFiber$"+Xp,Ug="__reactProps$"+Xp,Gl="__reactContainer$"+Xp,u5="__reactEvents$"+Xp,VU="__reactListeners$"+Xp,UU="__reactHandles$"+Xp;function Ld(t){var e=t[Oa];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gl]||n[Oa]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=NA(t);t!==null;){if(n=t[Oa])return n;t=NA(t)}return e}t=n,n=t.parentNode}return null}function Mv(t){return t=t[Oa]||t[Gl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ke(33))}function I2(t){return t[Ug]||null}var d5=[],Rf=-1;function ed(t){return{current:t}}function Qn(t){0>Rf||(t.current=d5[Rf],d5[Rf]=null,Rf--)}function qn(t,e){Rf++,d5[Rf]=t.current,t.current=e}var Ou={},ks=ed(Ou),xi=ed(!1),nh=Ou;function Np(t,e){var n=t.type.contextTypes;if(!n)return Ou;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function bi(t){return t=t.childContextTypes,t!=null}function a1(){Qn(xi),Qn(ks)}function EA(t,e,n){if(ks.current!==Ou)throw Error(Ke(168));qn(ks,e),qn(xi,n)}function Zk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(Ke(108,NV(t)||"Unknown",s));return rr({},n,r)}function l1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ou,nh=ks.current,qn(ks,t),qn(xi,xi.current),!0}function AA(t,e,n){var r=t.stateNode;if(!r)throw Error(Ke(169));n?(t=Zk(t,e,nh),r.__reactInternalMemoizedMergedChildContext=t,Qn(xi),Qn(ks),qn(ks,t)):Qn(xi),qn(xi,n)}var Il=null,k2=!1,Vx=!1;function Jk(t){Il===null?Il=[t]:Il.push(t)}function BU(t){k2=!0,Jk(t)}function td(){if(!Vx&&Il!==null){Vx=!0;var t=0,e=Rn;try{var n=Il;for(Rn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Il=null,k2=!1}catch(s){throw Il!==null&&(Il=Il.slice(t+1)),Nk(vS,td),s}finally{Rn=e,Vx=!1}}return null}var Lf=[],Of=0,c1=null,u1=0,ao=[],lo=0,rh=null,Ol=1,Dl="";function Cd(t,e){Lf[Of++]=u1,Lf[Of++]=c1,c1=t,u1=e}function ej(t,e,n){ao[lo++]=Ol,ao[lo++]=Dl,ao[lo++]=rh,rh=t;var r=Ol;t=Dl;var s=32-Xo(r)-1;r&=~(1<<s),n+=1;var i=32-Xo(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ol=1<<32-Xo(e)+s|n<<s|r,Dl=i+t}else Ol=1<<i|n<<s|r,Dl=t}function AS(t){t.return!==null&&(Cd(t,1),ej(t,1,0))}function CS(t){for(;t===c1;)c1=Lf[--Of],Lf[Of]=null,u1=Lf[--Of],Lf[Of]=null;for(;t===rh;)rh=ao[--lo],ao[lo]=null,Dl=ao[--lo],ao[lo]=null,Ol=ao[--lo],ao[lo]=null}var zi=null,Mi=null,Zn=!1,Uo=null;function tj(t,e){var n=co(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function CA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zi=t,Mi=yu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zi=t,Mi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=rh!==null?{id:Ol,overflow:Dl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=co(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zi=t,Mi=null,!0):!1;default:return!1}}function h5(t){return(t.mode&1)!==0&&(t.flags&128)===0}function f5(t){if(Zn){var e=Mi;if(e){var n=e;if(!CA(t,e)){if(h5(t))throw Error(Ke(418));e=yu(n.nextSibling);var r=zi;e&&CA(t,e)?tj(r,n):(t.flags=t.flags&-4097|2,Zn=!1,zi=t)}}else{if(h5(t))throw Error(Ke(418));t.flags=t.flags&-4097|2,Zn=!1,zi=t}}}function PA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zi=t}function Wy(t){if(t!==zi)return!1;if(!Zn)return PA(t),Zn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!l5(t.type,t.memoizedProps)),e&&(e=Mi)){if(h5(t))throw nj(),Error(Ke(418));for(;e;)tj(t,e),e=yu(e.nextSibling)}if(PA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mi=yu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mi=null}}else Mi=zi?yu(t.stateNode.nextSibling):null;return!0}function nj(){for(var t=Mi;t;)t=yu(t.nextSibling)}function Ep(){Mi=zi=null,Zn=!1}function PS(t){Uo===null?Uo=[t]:Uo.push(t)}var zU=oc.ReactCurrentBatchConfig;function Mm(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ke(309));var r=n.stateNode}if(!r)throw Error(Ke(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Ke(284));if(!n._owner)throw Error(Ke(290,t))}return t}function Hy(t,e){throw t=Object.prototype.toString.call(e),Error(Ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function TA(t){var e=t._init;return e(t._payload)}function rj(t){function e(x,v){if(t){var N=x.deletions;N===null?(x.deletions=[v],x.flags|=16):N.push(v)}}function n(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function r(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function s(x,v){return x=_u(x,v),x.index=0,x.sibling=null,x}function i(x,v,N){return x.index=N,t?(N=x.alternate,N!==null?(N=N.index,N<v?(x.flags|=2,v):N):(x.flags|=2,v)):(x.flags|=1048576,v)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,v,N,R){return v===null||v.tag!==6?(v=Hx(N,x.mode,R),v.return=x,v):(v=s(v,N),v.return=x,v)}function c(x,v,N,R){var M=N.type;return M===Pf?d(x,v,N.props.children,R,N.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Yc&&TA(M)===v.type)?(R=s(v,N.props),R.ref=Mm(x,v,N),R.return=x,R):(R=T0(N.type,N.key,N.props,null,x.mode,R),R.ref=Mm(x,v,N),R.return=x,R)}function u(x,v,N,R){return v===null||v.tag!==4||v.stateNode.containerInfo!==N.containerInfo||v.stateNode.implementation!==N.implementation?(v=Gx(N,x.mode,R),v.return=x,v):(v=s(v,N.children||[]),v.return=x,v)}function d(x,v,N,R,M){return v===null||v.tag!==7?(v=Yd(N,x.mode,R,M),v.return=x,v):(v=s(v,N),v.return=x,v)}function h(x,v,N){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Hx(""+v,x.mode,N),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Oy:return N=T0(v.type,v.key,v.props,null,x.mode,N),N.ref=Mm(x,null,v),N.return=x,N;case Cf:return v=Gx(v,x.mode,N),v.return=x,v;case Yc:var R=v._init;return h(x,R(v._payload),N)}if(Qm(v)||jm(v))return v=Yd(v,x.mode,N,null),v.return=x,v;Hy(x,v)}return null}function p(x,v,N,R){var M=v!==null?v.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return M!==null?null:a(x,v,""+N,R);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Oy:return N.key===M?c(x,v,N,R):null;case Cf:return N.key===M?u(x,v,N,R):null;case Yc:return M=N._init,p(x,v,M(N._payload),R)}if(Qm(N)||jm(N))return M!==null?null:d(x,v,N,R,null);Hy(x,N)}return null}function g(x,v,N,R,M){if(typeof R=="string"&&R!==""||typeof R=="number")return x=x.get(N)||null,a(v,x,""+R,M);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Oy:return x=x.get(R.key===null?N:R.key)||null,c(v,x,R,M);case Cf:return x=x.get(R.key===null?N:R.key)||null,u(v,x,R,M);case Yc:var $=R._init;return g(x,v,N,$(R._payload),M)}if(Qm(R)||jm(R))return x=x.get(N)||null,d(v,x,R,M,null);Hy(v,R)}return null}function b(x,v,N,R){for(var M=null,$=null,I=v,P=v=0,L=null;I!==null&&P<N.length;P++){I.index>P?(L=I,I=null):L=I.sibling;var F=p(x,I,N[P],R);if(F===null){I===null&&(I=L);break}t&&I&&F.alternate===null&&e(x,I),v=i(F,v,P),$===null?M=F:$.sibling=F,$=F,I=L}if(P===N.length)return n(x,I),Zn&&Cd(x,P),M;if(I===null){for(;P<N.length;P++)I=h(x,N[P],R),I!==null&&(v=i(I,v,P),$===null?M=I:$.sibling=I,$=I);return Zn&&Cd(x,P),M}for(I=r(x,I);P<N.length;P++)L=g(I,x,P,N[P],R),L!==null&&(t&&L.alternate!==null&&I.delete(L.key===null?P:L.key),v=i(L,v,P),$===null?M=L:$.sibling=L,$=L);return t&&I.forEach(function(k){return e(x,k)}),Zn&&Cd(x,P),M}function w(x,v,N,R){var M=jm(N);if(typeof M!="function")throw Error(Ke(150));if(N=M.call(N),N==null)throw Error(Ke(151));for(var $=M=null,I=v,P=v=0,L=null,F=N.next();I!==null&&!F.done;P++,F=N.next()){I.index>P?(L=I,I=null):L=I.sibling;var k=p(x,I,F.value,R);if(k===null){I===null&&(I=L);break}t&&I&&k.alternate===null&&e(x,I),v=i(k,v,P),$===null?M=k:$.sibling=k,$=k,I=L}if(F.done)return n(x,I),Zn&&Cd(x,P),M;if(I===null){for(;!F.done;P++,F=N.next())F=h(x,F.value,R),F!==null&&(v=i(F,v,P),$===null?M=F:$.sibling=F,$=F);return Zn&&Cd(x,P),M}for(I=r(x,I);!F.done;P++,F=N.next())F=g(I,x,P,F.value,R),F!==null&&(t&&F.alternate!==null&&I.delete(F.key===null?P:F.key),v=i(F,v,P),$===null?M=F:$.sibling=F,$=F);return t&&I.forEach(function(T){return e(x,T)}),Zn&&Cd(x,P),M}function _(x,v,N,R){if(typeof N=="object"&&N!==null&&N.type===Pf&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Oy:e:{for(var M=N.key,$=v;$!==null;){if($.key===M){if(M=N.type,M===Pf){if($.tag===7){n(x,$.sibling),v=s($,N.props.children),v.return=x,x=v;break e}}else if($.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Yc&&TA(M)===$.type){n(x,$.sibling),v=s($,N.props),v.ref=Mm(x,$,N),v.return=x,x=v;break e}n(x,$);break}else e(x,$);$=$.sibling}N.type===Pf?(v=Yd(N.props.children,x.mode,R,N.key),v.return=x,x=v):(R=T0(N.type,N.key,N.props,null,x.mode,R),R.ref=Mm(x,v,N),R.return=x,x=R)}return o(x);case Cf:e:{for($=N.key;v!==null;){if(v.key===$)if(v.tag===4&&v.stateNode.containerInfo===N.containerInfo&&v.stateNode.implementation===N.implementation){n(x,v.sibling),v=s(v,N.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else e(x,v);v=v.sibling}v=Gx(N,x.mode,R),v.return=x,x=v}return o(x);case Yc:return $=N._init,_(x,v,$(N._payload),R)}if(Qm(N))return b(x,v,N,R);if(jm(N))return w(x,v,N,R);Hy(x,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,v!==null&&v.tag===6?(n(x,v.sibling),v=s(v,N),v.return=x,x=v):(n(x,v),v=Hx(N,x.mode,R),v.return=x,x=v),o(x)):n(x,v)}return _}var Ap=rj(!0),sj=rj(!1),d1=ed(null),h1=null,Df=null,TS=null;function IS(){TS=Df=h1=null}function kS(t){var e=d1.current;Qn(d1),t._currentValue=e}function p5(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wf(t,e){h1=t,TS=Df=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wi=!0),t.firstContext=null)}function go(t){var e=t._currentValue;if(TS!==t)if(t={context:t,memoizedValue:e,next:null},Df===null){if(h1===null)throw Error(Ke(308));Df=t,h1.dependencies={lanes:0,firstContext:t}}else Df=Df.next=t;return e}var Od=null;function jS(t){Od===null?Od=[t]:Od.push(t)}function ij(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,jS(e)):(n.next=s.next,s.next=n),e.interleaved=n,Kl(t,r)}function Kl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qc=!1;function RS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wu(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,wn&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Kl(t,n)}return s=r.interleaved,s===null?(e.next=e,jS(r)):(e.next=s.next,s.next=e),r.interleaved=e,Kl(t,n)}function S0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yS(t,n)}}function IA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function f1(t,e,n,r){var s=t.updateQueue;Qc=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,a=i;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,w=a;switch(p=e,g=n,w.tag){case 1:if(b=w.payload,typeof b=="function"){h=b.call(g,h,p);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,p=typeof b=="function"?b.call(g,h,p):b,p==null)break e;h=rr({},h,p);break e;case 2:Qc=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ih|=o,t.lanes=o,t.memoizedState=h}}function kA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Ke(191,s));s.call(r)}}}var Fv={},Ua=ed(Fv),Bg=ed(Fv),zg=ed(Fv);function Dd(t){if(t===Fv)throw Error(Ke(174));return t}function LS(t,e){switch(qn(zg,e),qn(Bg,t),qn(Ua,Fv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kb(e,t)}Qn(Ua),qn(Ua,e)}function Cp(){Qn(Ua),Qn(Bg),Qn(zg)}function aj(t){Dd(zg.current);var e=Dd(Ua.current),n=Kb(e,t.type);e!==n&&(qn(Bg,t),qn(Ua,n))}function OS(t){Bg.current===t&&(Qn(Ua),Qn(Bg))}var tr=ed(0);function p1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ux=[];function DS(){for(var t=0;t<Ux.length;t++)Ux[t]._workInProgressVersionPrimary=null;Ux.length=0}var N0=oc.ReactCurrentDispatcher,Bx=oc.ReactCurrentBatchConfig,sh=0,nr=null,Vr=null,Gr=null,m1=!1,mg=!1,qg=0,qU=0;function ys(){throw Error(Ke(321))}function MS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ra(t[n],e[n]))return!1;return!0}function FS(t,e,n,r,s,i){if(sh=i,nr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,N0.current=t===null||t.memoizedState===null?GU:KU,t=n(r,s),mg){i=0;do{if(mg=!1,qg=0,25<=i)throw Error(Ke(301));i+=1,Gr=Vr=null,e.updateQueue=null,N0.current=YU,t=n(r,s)}while(mg)}if(N0.current=g1,e=Vr!==null&&Vr.next!==null,sh=0,Gr=Vr=nr=null,m1=!1,e)throw Error(Ke(300));return t}function VS(){var t=qg!==0;return qg=0,t}function Ta(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gr===null?nr.memoizedState=Gr=t:Gr=Gr.next=t,Gr}function vo(){if(Vr===null){var t=nr.alternate;t=t!==null?t.memoizedState:null}else t=Vr.next;var e=Gr===null?nr.memoizedState:Gr.next;if(e!==null)Gr=e,Vr=t;else{if(t===null)throw Error(Ke(310));Vr=t,t={memoizedState:Vr.memoizedState,baseState:Vr.baseState,baseQueue:Vr.baseQueue,queue:Vr.queue,next:null},Gr===null?nr.memoizedState=Gr=t:Gr=Gr.next=t}return Gr}function $g(t,e){return typeof e=="function"?e(t):e}function zx(t){var e=vo(),n=e.queue;if(n===null)throw Error(Ke(311));n.lastRenderedReducer=t;var r=Vr,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((sh&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=r):c=c.next=h,nr.lanes|=d,ih|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,ra(r,e.memoizedState)||(wi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,nr.lanes|=i,ih|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qx(t){var e=vo(),n=e.queue;if(n===null)throw Error(Ke(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ra(i,e.memoizedState)||(wi=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function lj(){}function cj(t,e){var n=nr,r=vo(),s=e(),i=!ra(r.memoizedState,s);if(i&&(r.memoizedState=s,wi=!0),r=r.queue,US(hj.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Gr!==null&&Gr.memoizedState.tag&1){if(n.flags|=2048,Wg(9,dj.bind(null,n,r,s,e),void 0,null),Yr===null)throw Error(Ke(349));sh&30||uj(n,e,s)}return s}function uj(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nr.updateQueue,e===null?(e={lastEffect:null,stores:null},nr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dj(t,e,n,r){e.value=n,e.getSnapshot=r,fj(e)&&pj(t)}function hj(t,e,n){return n(function(){fj(e)&&pj(t)})}function fj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ra(t,n)}catch{return!0}}function pj(t){var e=Kl(t,1);e!==null&&Zo(e,t,1,-1)}function jA(t){var e=Ta();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$g,lastRenderedState:t},e.queue=t,t=t.dispatch=HU.bind(null,nr,t),[e.memoizedState,t]}function Wg(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nr.updateQueue,e===null?(e={lastEffect:null,stores:null},nr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function mj(){return vo().memoizedState}function E0(t,e,n,r){var s=Ta();nr.flags|=t,s.memoizedState=Wg(1|e,n,void 0,r===void 0?null:r)}function j2(t,e,n,r){var s=vo();r=r===void 0?null:r;var i=void 0;if(Vr!==null){var o=Vr.memoizedState;if(i=o.destroy,r!==null&&MS(r,o.deps)){s.memoizedState=Wg(e,n,i,r);return}}nr.flags|=t,s.memoizedState=Wg(1|e,n,i,r)}function RA(t,e){return E0(8390656,8,t,e)}function US(t,e){return j2(2048,8,t,e)}function gj(t,e){return j2(4,2,t,e)}function vj(t,e){return j2(4,4,t,e)}function yj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wj(t,e,n){return n=n!=null?n.concat([t]):null,j2(4,4,yj.bind(null,e,t),n)}function BS(){}function xj(t,e){var n=vo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&MS(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function bj(t,e){var n=vo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&MS(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _j(t,e,n){return sh&21?(ra(n,e)||(n=Ck(),nr.lanes|=n,ih|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wi=!0),t.memoizedState=n)}function $U(t,e){var n=Rn;Rn=n!==0&&4>n?n:4,t(!0);var r=Bx.transition;Bx.transition={};try{t(!1),e()}finally{Rn=n,Bx.transition=r}}function Sj(){return vo().memoizedState}function WU(t,e,n){var r=bu(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Nj(t))Ej(e,n);else if(n=ij(t,e,n,r),n!==null){var s=Zs();Zo(n,t,r,s),Aj(n,e,r)}}function HU(t,e,n){var r=bu(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nj(t))Ej(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ra(a,o)){var c=e.interleaved;c===null?(s.next=s,jS(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=ij(t,e,s,r),n!==null&&(s=Zs(),Zo(n,t,r,s),Aj(n,e,r))}}function Nj(t){var e=t.alternate;return t===nr||e!==null&&e===nr}function Ej(t,e){mg=m1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Aj(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yS(t,n)}}var g1={readContext:go,useCallback:ys,useContext:ys,useEffect:ys,useImperativeHandle:ys,useInsertionEffect:ys,useLayoutEffect:ys,useMemo:ys,useReducer:ys,useRef:ys,useState:ys,useDebugValue:ys,useDeferredValue:ys,useTransition:ys,useMutableSource:ys,useSyncExternalStore:ys,useId:ys,unstable_isNewReconciler:!1},GU={readContext:go,useCallback:function(t,e){return Ta().memoizedState=[t,e===void 0?null:e],t},useContext:go,useEffect:RA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,E0(4194308,4,yj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return E0(4194308,4,t,e)},useInsertionEffect:function(t,e){return E0(4,2,t,e)},useMemo:function(t,e){var n=Ta();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ta();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=WU.bind(null,nr,t),[r.memoizedState,t]},useRef:function(t){var e=Ta();return t={current:t},e.memoizedState=t},useState:jA,useDebugValue:BS,useDeferredValue:function(t){return Ta().memoizedState=t},useTransition:function(){var t=jA(!1),e=t[0];return t=$U.bind(null,t[1]),Ta().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nr,s=Ta();if(Zn){if(n===void 0)throw Error(Ke(407));n=n()}else{if(n=e(),Yr===null)throw Error(Ke(349));sh&30||uj(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,RA(hj.bind(null,r,i,t),[t]),r.flags|=2048,Wg(9,dj.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Ta(),e=Yr.identifierPrefix;if(Zn){var n=Dl,r=Ol;n=(r&~(1<<32-Xo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=qg++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=qU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},KU={readContext:go,useCallback:xj,useContext:go,useEffect:US,useImperativeHandle:wj,useInsertionEffect:gj,useLayoutEffect:vj,useMemo:bj,useReducer:zx,useRef:mj,useState:function(){return zx($g)},useDebugValue:BS,useDeferredValue:function(t){var e=vo();return _j(e,Vr.memoizedState,t)},useTransition:function(){var t=zx($g)[0],e=vo().memoizedState;return[t,e]},useMutableSource:lj,useSyncExternalStore:cj,useId:Sj,unstable_isNewReconciler:!1},YU={readContext:go,useCallback:xj,useContext:go,useEffect:US,useImperativeHandle:wj,useInsertionEffect:gj,useLayoutEffect:vj,useMemo:bj,useReducer:qx,useRef:mj,useState:function(){return qx($g)},useDebugValue:BS,useDeferredValue:function(t){var e=vo();return Vr===null?e.memoizedState=t:_j(e,Vr.memoizedState,t)},useTransition:function(){var t=qx($g)[0],e=vo().memoizedState;return[t,e]},useMutableSource:lj,useSyncExternalStore:cj,useId:Sj,unstable_isNewReconciler:!1};function Oo(t,e){if(t&&t.defaultProps){e=rr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function m5(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var R2={isMounted:function(t){return(t=t._reactInternals)?Eh(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zs(),s=bu(t),i=Bl(r,s);i.payload=e,n!=null&&(i.callback=n),e=wu(t,i,s),e!==null&&(Zo(e,t,s,r),S0(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zs(),s=bu(t),i=Bl(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=wu(t,i,s),e!==null&&(Zo(e,t,s,r),S0(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zs(),r=bu(t),s=Bl(n,r);s.tag=2,e!=null&&(s.callback=e),e=wu(t,s,r),e!==null&&(Zo(e,t,r,n),S0(e,t,r))}};function LA(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Mg(n,r)||!Mg(s,i):!0}function Cj(t,e,n){var r=!1,s=Ou,i=e.contextType;return typeof i=="object"&&i!==null?i=go(i):(s=bi(e)?nh:ks.current,r=e.contextTypes,i=(r=r!=null)?Np(t,s):Ou),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=R2,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function OA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&R2.enqueueReplaceState(e,e.state,null)}function g5(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},RS(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=go(i):(i=bi(e)?nh:ks.current,s.context=Np(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(m5(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&R2.enqueueReplaceState(s,s.state,null),f1(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Pp(t,e){try{var n="",r=e;do n+=SV(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function $x(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function v5(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var QU=typeof WeakMap=="function"?WeakMap:Map;function Pj(t,e,n){n=Bl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){y1||(y1=!0,C5=r),v5(t,e)},n}function Tj(t,e,n){n=Bl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){v5(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){v5(t,e),typeof r!="function"&&(xu===null?xu=new Set([this]):xu.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function DA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new QU;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=uB.bind(null,t,e,n),e.then(t,t))}function MA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function FA(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Bl(-1,1),e.tag=2,wu(n,e,1))),n.lanes|=1),t)}var XU=oc.ReactCurrentOwner,wi=!1;function Hs(t,e,n,r){e.child=t===null?sj(e,null,n,r):Ap(e,t.child,n,r)}function VA(t,e,n,r,s){n=n.render;var i=e.ref;return Wf(e,s),r=FS(t,e,n,r,i,s),n=VS(),t!==null&&!wi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Yl(t,e,s)):(Zn&&n&&AS(e),e.flags|=1,Hs(t,e,r,s),e.child)}function UA(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!YS(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Ij(t,e,i,r,s)):(t=T0(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Mg,n(o,r)&&t.ref===e.ref)return Yl(t,e,s)}return e.flags|=1,t=_u(i,r),t.ref=e.ref,t.return=e,e.child=t}function Ij(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Mg(i,r)&&t.ref===e.ref)if(wi=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(wi=!0);else return e.lanes=t.lanes,Yl(t,e,s)}return y5(t,e,n,r,s)}function kj(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qn(Ff,Li),Li|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qn(Ff,Li),Li|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,qn(Ff,Li),Li|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,qn(Ff,Li),Li|=r;return Hs(t,e,s,n),e.child}function jj(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function y5(t,e,n,r,s){var i=bi(n)?nh:ks.current;return i=Np(e,i),Wf(e,s),n=FS(t,e,n,r,i,s),r=VS(),t!==null&&!wi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Yl(t,e,s)):(Zn&&r&&AS(e),e.flags|=1,Hs(t,e,n,s),e.child)}function BA(t,e,n,r,s){if(bi(n)){var i=!0;l1(e)}else i=!1;if(Wf(e,s),e.stateNode===null)A0(t,e),Cj(e,n,r),g5(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=go(u):(u=bi(n)?nh:ks.current,u=Np(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&OA(e,o,r,u),Qc=!1;var p=e.memoizedState;o.state=p,f1(e,r,o,s),c=e.memoizedState,a!==r||p!==c||xi.current||Qc?(typeof d=="function"&&(m5(e,n,d,r),c=e.memoizedState),(a=Qc||LA(e,n,a,r,p,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,oj(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Oo(e.type,a),o.props=u,h=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=go(c):(c=bi(n)?nh:ks.current,c=Np(e,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==c)&&OA(e,o,r,c),Qc=!1,p=e.memoizedState,o.state=p,f1(e,r,o,s);var b=e.memoizedState;a!==h||p!==b||xi.current||Qc?(typeof g=="function"&&(m5(e,n,g,r),b=e.memoizedState),(u=Qc||LA(e,n,u,r,p,b,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return w5(t,e,n,r,i,s)}function w5(t,e,n,r,s,i){jj(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&AA(e,n,!1),Yl(t,e,i);r=e.stateNode,XU.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ap(e,t.child,null,i),e.child=Ap(e,null,a,i)):Hs(t,e,a,i),e.memoizedState=r.state,s&&AA(e,n,!0),e.child}function Rj(t){var e=t.stateNode;e.pendingContext?EA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&EA(t,e.context,!1),LS(t,e.containerInfo)}function zA(t,e,n,r,s){return Ep(),PS(s),e.flags|=256,Hs(t,e,n,r),e.child}var x5={dehydrated:null,treeContext:null,retryLane:0};function b5(t){return{baseLanes:t,cachePool:null,transitions:null}}function Lj(t,e,n){var r=e.pendingProps,s=tr.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),qn(tr,s&1),t===null)return f5(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=D2(o,r,0,null),t=Yd(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=b5(n),e.memoizedState=x5,t):zS(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ZU(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=_u(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=_u(a,i):(i=Yd(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?b5(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=x5,r}return i=t.child,t=i.sibling,r=_u(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zS(t,e){return e=D2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gy(t,e,n,r){return r!==null&&PS(r),Ap(e,t.child,null,n),t=zS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ZU(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=$x(Error(Ke(422))),Gy(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=D2({mode:"visible",children:r.children},s,0,null),i=Yd(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ap(e,t.child,null,o),e.child.memoizedState=b5(o),e.memoizedState=x5,i);if(!(e.mode&1))return Gy(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Ke(419)),r=$x(i,r,void 0),Gy(t,e,o,r)}if(a=(o&t.childLanes)!==0,wi||a){if(r=Yr,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Kl(t,s),Zo(r,t,s,-1))}return KS(),r=$x(Error(Ke(421))),Gy(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=dB.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Mi=yu(s.nextSibling),zi=e,Zn=!0,Uo=null,t!==null&&(ao[lo++]=Ol,ao[lo++]=Dl,ao[lo++]=rh,Ol=t.id,Dl=t.overflow,rh=e),e=zS(e,r.children),e.flags|=4096,e)}function qA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),p5(t.return,e,n)}function Wx(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Oj(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Hs(t,e,r.children,n),r=tr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qA(t,n,e);else if(t.tag===19)qA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qn(tr,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&p1(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Wx(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&p1(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Wx(e,!0,n,null,i);break;case"together":Wx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function A0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ih|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ke(153));if(e.child!==null){for(t=e.child,n=_u(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_u(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function JU(t,e,n){switch(e.tag){case 3:Rj(e),Ep();break;case 5:aj(e);break;case 1:bi(e.type)&&l1(e);break;case 4:LS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;qn(d1,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qn(tr,tr.current&1),e.flags|=128,null):n&e.child.childLanes?Lj(t,e,n):(qn(tr,tr.current&1),t=Yl(t,e,n),t!==null?t.sibling:null);qn(tr,tr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Oj(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qn(tr,tr.current),r)break;return null;case 22:case 23:return e.lanes=0,kj(t,e,n)}return Yl(t,e,n)}var Dj,_5,Mj,Fj;Dj=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_5=function(){};Mj=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Dd(Ua.current);var i=null;switch(n){case"input":s=$b(t,s),r=$b(t,r),i=[];break;case"select":s=rr({},s,{value:void 0}),r=rr({},r,{value:void 0}),i=[];break;case"textarea":s=Gb(t,s),r=Gb(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=o1)}Yb(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ig.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ig.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Kn("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Fj=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fm(t,e){if(!Zn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ws(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function eB(t,e,n){var r=e.pendingProps;switch(CS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ws(e),null;case 1:return bi(e.type)&&a1(),ws(e),null;case 3:return r=e.stateNode,Cp(),Qn(xi),Qn(ks),DS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Uo!==null&&(I5(Uo),Uo=null))),_5(t,e),ws(e),null;case 5:OS(e);var s=Dd(zg.current);if(n=e.type,t!==null&&e.stateNode!=null)Mj(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ke(166));return ws(e),null}if(t=Dd(Ua.current),Wy(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Oa]=e,r[Ug]=i,t=(e.mode&1)!==0,n){case"dialog":Kn("cancel",r),Kn("close",r);break;case"iframe":case"object":case"embed":Kn("load",r);break;case"video":case"audio":for(s=0;s<Zm.length;s++)Kn(Zm[s],r);break;case"source":Kn("error",r);break;case"img":case"image":case"link":Kn("error",r),Kn("load",r);break;case"details":Kn("toggle",r);break;case"input":Z4(r,i),Kn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Kn("invalid",r);break;case"textarea":eA(r,i),Kn("invalid",r)}Yb(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&$y(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&$y(r.textContent,a,t),s=["children",""+a]):Ig.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Kn("scroll",r)}switch(n){case"input":Dy(r),J4(r,i,!0);break;case"textarea":Dy(r),tA(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=o1)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Oa]=e,t[Ug]=r,Dj(t,e,!1,!1),e.stateNode=t;e:{switch(o=Qb(n,r),n){case"dialog":Kn("cancel",t),Kn("close",t),s=r;break;case"iframe":case"object":case"embed":Kn("load",t),s=r;break;case"video":case"audio":for(s=0;s<Zm.length;s++)Kn(Zm[s],t);s=r;break;case"source":Kn("error",t),s=r;break;case"img":case"image":case"link":Kn("error",t),Kn("load",t),s=r;break;case"details":Kn("toggle",t),s=r;break;case"input":Z4(t,r),s=$b(t,r),Kn("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=rr({},r,{value:void 0}),Kn("invalid",t);break;case"textarea":eA(t,r),s=Gb(t,r),Kn("invalid",t);break;default:s=r}Yb(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?mk(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&fk(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&kg(t,c):typeof c=="number"&&kg(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ig.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Kn("scroll",t):c!=null&&hS(t,i,c,o))}switch(n){case"input":Dy(t),J4(t,r,!1);break;case"textarea":Dy(t),tA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Lu(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Bf(t,!!r.multiple,i,!1):r.defaultValue!=null&&Bf(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=o1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ws(e),null;case 6:if(t&&e.stateNode!=null)Fj(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ke(166));if(n=Dd(zg.current),Dd(Ua.current),Wy(e)){if(r=e.stateNode,n=e.memoizedProps,r[Oa]=e,(i=r.nodeValue!==n)&&(t=zi,t!==null))switch(t.tag){case 3:$y(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$y(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Oa]=e,e.stateNode=r}return ws(e),null;case 13:if(Qn(tr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Zn&&Mi!==null&&e.mode&1&&!(e.flags&128))nj(),Ep(),e.flags|=98560,i=!1;else if(i=Wy(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Ke(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ke(317));i[Oa]=e}else Ep(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ws(e),i=!1}else Uo!==null&&(I5(Uo),Uo=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tr.current&1?Ur===0&&(Ur=3):KS())),e.updateQueue!==null&&(e.flags|=4),ws(e),null);case 4:return Cp(),_5(t,e),t===null&&Fg(e.stateNode.containerInfo),ws(e),null;case 10:return kS(e.type._context),ws(e),null;case 17:return bi(e.type)&&a1(),ws(e),null;case 19:if(Qn(tr),i=e.memoizedState,i===null)return ws(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Fm(i,!1);else{if(Ur!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=p1(t),o!==null){for(e.flags|=128,Fm(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qn(tr,tr.current&1|2),e.child}t=t.sibling}i.tail!==null&&xr()>Tp&&(e.flags|=128,r=!0,Fm(i,!1),e.lanes=4194304)}else{if(!r)if(t=p1(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Zn)return ws(e),null}else 2*xr()-i.renderingStartTime>Tp&&n!==1073741824&&(e.flags|=128,r=!0,Fm(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=xr(),e.sibling=null,n=tr.current,qn(tr,r?n&1|2:n&1),e):(ws(e),null);case 22:case 23:return GS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Li&1073741824&&(ws(e),e.subtreeFlags&6&&(e.flags|=8192)):ws(e),null;case 24:return null;case 25:return null}throw Error(Ke(156,e.tag))}function tB(t,e){switch(CS(e),e.tag){case 1:return bi(e.type)&&a1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cp(),Qn(xi),Qn(ks),DS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return OS(e),null;case 13:if(Qn(tr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ke(340));Ep()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qn(tr),null;case 4:return Cp(),null;case 10:return kS(e.type._context),null;case 22:case 23:return GS(),null;case 24:return null;default:return null}}var Ky=!1,Ps=!1,nB=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Mf(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dr(t,e,r)}else n.current=null}function S5(t,e,n){try{n()}catch(r){dr(t,e,r)}}var $A=!1;function rB(t,e){if(o5=r1,t=qk(),ES(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===n&&++u===s&&(a=o),p===i&&++d===r&&(c=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(a5={focusedElem:t,selectionRange:n},r1=!1,pt=e;pt!==null;)if(e=pt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pt=t;else for(;pt!==null;){e=pt;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,_=b.memoizedState,x=e.stateNode,v=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:Oo(e.type,w),_);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ke(163))}}catch(R){dr(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,pt=t;break}pt=e.return}return b=$A,$A=!1,b}function gg(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&S5(e,n,i)}s=s.next}while(s!==r)}}function L2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function N5(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Vj(t){var e=t.alternate;e!==null&&(t.alternate=null,Vj(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Oa],delete e[Ug],delete e[u5],delete e[VU],delete e[UU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Uj(t){return t.tag===5||t.tag===3||t.tag===4}function WA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Uj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function E5(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=o1));else if(r!==4&&(t=t.child,t!==null))for(E5(t,e,n),t=t.sibling;t!==null;)E5(t,e,n),t=t.sibling}function A5(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(A5(t,e,n),t=t.sibling;t!==null;)A5(t,e,n),t=t.sibling}var is=null,Vo=!1;function Uc(t,e,n){for(n=n.child;n!==null;)Bj(t,e,n),n=n.sibling}function Bj(t,e,n){if(Va&&typeof Va.onCommitFiberUnmount=="function")try{Va.onCommitFiberUnmount(A2,n)}catch{}switch(n.tag){case 5:Ps||Mf(n,e);case 6:var r=is,s=Vo;is=null,Uc(t,e,n),is=r,Vo=s,is!==null&&(Vo?(t=is,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):is.removeChild(n.stateNode));break;case 18:is!==null&&(Vo?(t=is,n=n.stateNode,t.nodeType===8?Fx(t.parentNode,n):t.nodeType===1&&Fx(t,n),Og(t)):Fx(is,n.stateNode));break;case 4:r=is,s=Vo,is=n.stateNode.containerInfo,Vo=!0,Uc(t,e,n),is=r,Vo=s;break;case 0:case 11:case 14:case 15:if(!Ps&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&S5(n,e,o),s=s.next}while(s!==r)}Uc(t,e,n);break;case 1:if(!Ps&&(Mf(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){dr(n,e,a)}Uc(t,e,n);break;case 21:Uc(t,e,n);break;case 22:n.mode&1?(Ps=(r=Ps)||n.memoizedState!==null,Uc(t,e,n),Ps=r):Uc(t,e,n);break;default:Uc(t,e,n)}}function HA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nB),e.forEach(function(r){var s=hB.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ko(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:is=a.stateNode,Vo=!1;break e;case 3:is=a.stateNode.containerInfo,Vo=!0;break e;case 4:is=a.stateNode.containerInfo,Vo=!0;break e}a=a.return}if(is===null)throw Error(Ke(160));Bj(i,o,s),is=null,Vo=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){dr(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zj(e,t),e=e.sibling}function zj(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ko(e,t),Ca(t),r&4){try{gg(3,t,t.return),L2(3,t)}catch(w){dr(t,t.return,w)}try{gg(5,t,t.return)}catch(w){dr(t,t.return,w)}}break;case 1:ko(e,t),Ca(t),r&512&&n!==null&&Mf(n,n.return);break;case 5:if(ko(e,t),Ca(t),r&512&&n!==null&&Mf(n,n.return),t.flags&32){var s=t.stateNode;try{kg(s,"")}catch(w){dr(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&uk(s,i),Qb(a,o);var u=Qb(a,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?mk(s,h):d==="dangerouslySetInnerHTML"?fk(s,h):d==="children"?kg(s,h):hS(s,d,h,u)}switch(a){case"input":Wb(s,i);break;case"textarea":dk(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Bf(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Bf(s,!!i.multiple,i.defaultValue,!0):Bf(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ug]=i}catch(w){dr(t,t.return,w)}}break;case 6:if(ko(e,t),Ca(t),r&4){if(t.stateNode===null)throw Error(Ke(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){dr(t,t.return,w)}}break;case 3:if(ko(e,t),Ca(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Og(e.containerInfo)}catch(w){dr(t,t.return,w)}break;case 4:ko(e,t),Ca(t);break;case 13:ko(e,t),Ca(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(WS=xr())),r&4&&HA(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ps=(u=Ps)||d,ko(e,t),Ps=u):ko(e,t),Ca(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(pt=t,d=t.child;d!==null;){for(h=pt=d;pt!==null;){switch(p=pt,g=p.child,p.tag){case 0:case 11:case 14:case 15:gg(4,p,p.return);break;case 1:Mf(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(w){dr(r,n,w)}}break;case 5:Mf(p,p.return);break;case 22:if(p.memoizedState!==null){KA(h);continue}}g!==null?(g.return=p,pt=g):KA(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=pk("display",o))}catch(w){dr(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){dr(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ko(e,t),Ca(t),r&4&&HA(t);break;case 21:break;default:ko(e,t),Ca(t)}}function Ca(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Uj(n)){var r=n;break e}n=n.return}throw Error(Ke(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(kg(s,""),r.flags&=-33);var i=WA(t);A5(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=WA(t);E5(t,a,o);break;default:throw Error(Ke(161))}}catch(c){dr(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sB(t,e,n){pt=t,qj(t)}function qj(t,e,n){for(var r=(t.mode&1)!==0;pt!==null;){var s=pt,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ky;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Ps;a=Ky;var u=Ps;if(Ky=o,(Ps=c)&&!u)for(pt=s;pt!==null;)o=pt,c=o.child,o.tag===22&&o.memoizedState!==null?YA(s):c!==null?(c.return=o,pt=c):YA(s);for(;i!==null;)pt=i,qj(i),i=i.sibling;pt=s,Ky=a,Ps=u}GA(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,pt=i):GA(t)}}function GA(t){for(;pt!==null;){var e=pt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ps||L2(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ps)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Oo(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&kA(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}kA(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Og(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ke(163))}Ps||e.flags&512&&N5(e)}catch(p){dr(e,e.return,p)}}if(e===t){pt=null;break}if(n=e.sibling,n!==null){n.return=e.return,pt=n;break}pt=e.return}}function KA(t){for(;pt!==null;){var e=pt;if(e===t){pt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,pt=n;break}pt=e.return}}function YA(t){for(;pt!==null;){var e=pt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{L2(4,e)}catch(c){dr(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){dr(e,s,c)}}var i=e.return;try{N5(e)}catch(c){dr(e,i,c)}break;case 5:var o=e.return;try{N5(e)}catch(c){dr(e,o,c)}}}catch(c){dr(e,e.return,c)}if(e===t){pt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,pt=a;break}pt=e.return}}var iB=Math.ceil,v1=oc.ReactCurrentDispatcher,qS=oc.ReactCurrentOwner,fo=oc.ReactCurrentBatchConfig,wn=0,Yr=null,jr=null,ds=0,Li=0,Ff=ed(0),Ur=0,Hg=null,ih=0,O2=0,$S=0,vg=null,gi=null,WS=0,Tp=1/0,Tl=null,y1=!1,C5=null,xu=null,Yy=!1,du=null,w1=0,yg=0,P5=null,C0=-1,P0=0;function Zs(){return wn&6?xr():C0!==-1?C0:C0=xr()}function bu(t){return t.mode&1?wn&2&&ds!==0?ds&-ds:zU.transition!==null?(P0===0&&(P0=Ck()),P0):(t=Rn,t!==0||(t=window.event,t=t===void 0?16:Lk(t.type)),t):1}function Zo(t,e,n,r){if(50<yg)throw yg=0,P5=null,Error(Ke(185));Ov(t,n,r),(!(wn&2)||t!==Yr)&&(t===Yr&&(!(wn&2)&&(O2|=n),Ur===4&&Zc(t,ds)),_i(t,r),n===1&&wn===0&&!(e.mode&1)&&(Tp=xr()+500,k2&&td()))}function _i(t,e){var n=t.callbackNode;zV(t,e);var r=n1(t,t===Yr?ds:0);if(r===0)n!==null&&sA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&sA(n),e===1)t.tag===0?BU(QA.bind(null,t)):Jk(QA.bind(null,t)),MU(function(){!(wn&6)&&td()}),n=null;else{switch(Pk(r)){case 1:n=vS;break;case 4:n=Ek;break;case 16:n=t1;break;case 536870912:n=Ak;break;default:n=t1}n=Xj(n,$j.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $j(t,e){if(C0=-1,P0=0,wn&6)throw Error(Ke(327));var n=t.callbackNode;if(Hf()&&t.callbackNode!==n)return null;var r=n1(t,t===Yr?ds:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=x1(t,r);else{e=r;var s=wn;wn|=2;var i=Hj();(Yr!==t||ds!==e)&&(Tl=null,Tp=xr()+500,Kd(t,e));do try{lB();break}catch(a){Wj(t,a)}while(!0);IS(),v1.current=i,wn=s,jr!==null?e=0:(Yr=null,ds=0,e=Ur)}if(e!==0){if(e===2&&(s=t5(t),s!==0&&(r=s,e=T5(t,s))),e===1)throw n=Hg,Kd(t,0),Zc(t,r),_i(t,xr()),n;if(e===6)Zc(t,r);else{if(s=t.current.alternate,!(r&30)&&!oB(s)&&(e=x1(t,r),e===2&&(i=t5(t),i!==0&&(r=i,e=T5(t,i))),e===1))throw n=Hg,Kd(t,0),Zc(t,r),_i(t,xr()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(Ke(345));case 2:Pd(t,gi,Tl);break;case 3:if(Zc(t,r),(r&130023424)===r&&(e=WS+500-xr(),10<e)){if(n1(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Zs(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=c5(Pd.bind(null,t,gi,Tl),e);break}Pd(t,gi,Tl);break;case 4:if(Zc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Xo(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=xr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iB(r/1960))-r,10<r){t.timeoutHandle=c5(Pd.bind(null,t,gi,Tl),r);break}Pd(t,gi,Tl);break;case 5:Pd(t,gi,Tl);break;default:throw Error(Ke(329))}}}return _i(t,xr()),t.callbackNode===n?$j.bind(null,t):null}function T5(t,e){var n=vg;return t.current.memoizedState.isDehydrated&&(Kd(t,e).flags|=256),t=x1(t,e),t!==2&&(e=gi,gi=n,e!==null&&I5(e)),t}function I5(t){gi===null?gi=t:gi.push.apply(gi,t)}function oB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ra(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zc(t,e){for(e&=~$S,e&=~O2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xo(e),r=1<<n;t[n]=-1,e&=~r}}function QA(t){if(wn&6)throw Error(Ke(327));Hf();var e=n1(t,0);if(!(e&1))return _i(t,xr()),null;var n=x1(t,e);if(t.tag!==0&&n===2){var r=t5(t);r!==0&&(e=r,n=T5(t,r))}if(n===1)throw n=Hg,Kd(t,0),Zc(t,e),_i(t,xr()),n;if(n===6)throw Error(Ke(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pd(t,gi,Tl),_i(t,xr()),null}function HS(t,e){var n=wn;wn|=1;try{return t(e)}finally{wn=n,wn===0&&(Tp=xr()+500,k2&&td())}}function oh(t){du!==null&&du.tag===0&&!(wn&6)&&Hf();var e=wn;wn|=1;var n=fo.transition,r=Rn;try{if(fo.transition=null,Rn=1,t)return t()}finally{Rn=r,fo.transition=n,wn=e,!(wn&6)&&td()}}function GS(){Li=Ff.current,Qn(Ff)}function Kd(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,DU(n)),jr!==null)for(n=jr.return;n!==null;){var r=n;switch(CS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&a1();break;case 3:Cp(),Qn(xi),Qn(ks),DS();break;case 5:OS(r);break;case 4:Cp();break;case 13:Qn(tr);break;case 19:Qn(tr);break;case 10:kS(r.type._context);break;case 22:case 23:GS()}n=n.return}if(Yr=t,jr=t=_u(t.current,null),ds=Li=e,Ur=0,Hg=null,$S=O2=ih=0,gi=vg=null,Od!==null){for(e=0;e<Od.length;e++)if(n=Od[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Od=null}return t}function Wj(t,e){do{var n=jr;try{if(IS(),N0.current=g1,m1){for(var r=nr.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}m1=!1}if(sh=0,Gr=Vr=nr=null,mg=!1,qg=0,qS.current=null,n===null||n.return===null){Ur=1,Hg=e,jr=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=ds,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=MA(o);if(g!==null){g.flags&=-257,FA(g,o,a,i,e),g.mode&1&&DA(i,u,e),e=g,c=u;var b=e.updateQueue;if(b===null){var w=new Set;w.add(c),e.updateQueue=w}else b.add(c);break e}else{if(!(e&1)){DA(i,u,e),KS();break e}c=Error(Ke(426))}}else if(Zn&&a.mode&1){var _=MA(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),FA(_,o,a,i,e),PS(Pp(c,a));break e}}i=c=Pp(c,a),Ur!==4&&(Ur=2),vg===null?vg=[i]:vg.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=Pj(i,c,e);IA(i,x);break e;case 1:a=c;var v=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(xu===null||!xu.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=Tj(i,a,e);IA(i,R);break e}}i=i.return}while(i!==null)}Kj(n)}catch(M){e=M,jr===n&&n!==null&&(jr=n=n.return);continue}break}while(!0)}function Hj(){var t=v1.current;return v1.current=g1,t===null?g1:t}function KS(){(Ur===0||Ur===3||Ur===2)&&(Ur=4),Yr===null||!(ih&268435455)&&!(O2&268435455)||Zc(Yr,ds)}function x1(t,e){var n=wn;wn|=2;var r=Hj();(Yr!==t||ds!==e)&&(Tl=null,Kd(t,e));do try{aB();break}catch(s){Wj(t,s)}while(!0);if(IS(),wn=n,v1.current=r,jr!==null)throw Error(Ke(261));return Yr=null,ds=0,Ur}function aB(){for(;jr!==null;)Gj(jr)}function lB(){for(;jr!==null&&!RV();)Gj(jr)}function Gj(t){var e=Qj(t.alternate,t,Li);t.memoizedProps=t.pendingProps,e===null?Kj(t):jr=e,qS.current=null}function Kj(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tB(n,e),n!==null){n.flags&=32767,jr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ur=6,jr=null;return}}else if(n=eB(n,e,Li),n!==null){jr=n;return}if(e=e.sibling,e!==null){jr=e;return}jr=e=t}while(e!==null);Ur===0&&(Ur=5)}function Pd(t,e,n){var r=Rn,s=fo.transition;try{fo.transition=null,Rn=1,cB(t,e,n,r)}finally{fo.transition=s,Rn=r}return null}function cB(t,e,n,r){do Hf();while(du!==null);if(wn&6)throw Error(Ke(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ke(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(qV(t,i),t===Yr&&(jr=Yr=null,ds=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yy||(Yy=!0,Xj(t1,function(){return Hf(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=fo.transition,fo.transition=null;var o=Rn;Rn=1;var a=wn;wn|=4,qS.current=null,rB(t,n),zj(n,t),TU(a5),r1=!!o5,a5=o5=null,t.current=n,sB(n),LV(),wn=a,Rn=o,fo.transition=i}else t.current=n;if(Yy&&(Yy=!1,du=t,w1=s),i=t.pendingLanes,i===0&&(xu=null),MV(n.stateNode),_i(t,xr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(y1)throw y1=!1,t=C5,C5=null,t;return w1&1&&t.tag!==0&&Hf(),i=t.pendingLanes,i&1?t===P5?yg++:(yg=0,P5=t):yg=0,td(),null}function Hf(){if(du!==null){var t=Pk(w1),e=fo.transition,n=Rn;try{if(fo.transition=null,Rn=16>t?16:t,du===null)var r=!1;else{if(t=du,du=null,w1=0,wn&6)throw Error(Ke(331));var s=wn;for(wn|=4,pt=t.current;pt!==null;){var i=pt,o=i.child;if(pt.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(pt=u;pt!==null;){var d=pt;switch(d.tag){case 0:case 11:case 15:gg(8,d,i)}var h=d.child;if(h!==null)h.return=d,pt=h;else for(;pt!==null;){d=pt;var p=d.sibling,g=d.return;if(Vj(d),d===u){pt=null;break}if(p!==null){p.return=g,pt=p;break}pt=g}}}var b=i.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}pt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,pt=o;else e:for(;pt!==null;){if(i=pt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gg(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,pt=x;break e}pt=i.return}}var v=t.current;for(pt=v;pt!==null;){o=pt;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,pt=N;else e:for(o=v;pt!==null;){if(a=pt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:L2(9,a)}}catch(M){dr(a,a.return,M)}if(a===o){pt=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,pt=R;break e}pt=a.return}}if(wn=s,td(),Va&&typeof Va.onPostCommitFiberRoot=="function")try{Va.onPostCommitFiberRoot(A2,t)}catch{}r=!0}return r}finally{Rn=n,fo.transition=e}}return!1}function XA(t,e,n){e=Pp(n,e),e=Pj(t,e,1),t=wu(t,e,1),e=Zs(),t!==null&&(Ov(t,1,e),_i(t,e))}function dr(t,e,n){if(t.tag===3)XA(t,t,n);else for(;e!==null;){if(e.tag===3){XA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xu===null||!xu.has(r))){t=Pp(n,t),t=Tj(e,t,1),e=wu(e,t,1),t=Zs(),e!==null&&(Ov(e,1,t),_i(e,t));break}}e=e.return}}function uB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zs(),t.pingedLanes|=t.suspendedLanes&n,Yr===t&&(ds&n)===n&&(Ur===4||Ur===3&&(ds&130023424)===ds&&500>xr()-WS?Kd(t,0):$S|=n),_i(t,e)}function Yj(t,e){e===0&&(t.mode&1?(e=Vy,Vy<<=1,!(Vy&130023424)&&(Vy=4194304)):e=1);var n=Zs();t=Kl(t,e),t!==null&&(Ov(t,e,n),_i(t,n))}function dB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Yj(t,n)}function hB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ke(314))}r!==null&&r.delete(e),Yj(t,n)}var Qj;Qj=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xi.current)wi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wi=!1,JU(t,e,n);wi=!!(t.flags&131072)}else wi=!1,Zn&&e.flags&1048576&&ej(e,u1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;A0(t,e),t=e.pendingProps;var s=Np(e,ks.current);Wf(e,n),s=FS(null,e,r,t,s,n);var i=VS();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bi(r)?(i=!0,l1(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,RS(e),s.updater=R2,e.stateNode=s,s._reactInternals=e,g5(e,r,t,n),e=w5(null,e,r,!0,i,n)):(e.tag=0,Zn&&i&&AS(e),Hs(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(A0(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=pB(r),t=Oo(r,t),s){case 0:e=y5(null,e,r,t,n);break e;case 1:e=BA(null,e,r,t,n);break e;case 11:e=VA(null,e,r,t,n);break e;case 14:e=UA(null,e,r,Oo(r.type,t),n);break e}throw Error(Ke(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Oo(r,s),y5(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Oo(r,s),BA(t,e,r,s,n);case 3:e:{if(Rj(e),t===null)throw Error(Ke(387));r=e.pendingProps,i=e.memoizedState,s=i.element,oj(t,e),f1(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Pp(Error(Ke(423)),e),e=zA(t,e,r,n,s);break e}else if(r!==s){s=Pp(Error(Ke(424)),e),e=zA(t,e,r,n,s);break e}else for(Mi=yu(e.stateNode.containerInfo.firstChild),zi=e,Zn=!0,Uo=null,n=sj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ep(),r===s){e=Yl(t,e,n);break e}Hs(t,e,r,n)}e=e.child}return e;case 5:return aj(e),t===null&&f5(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,l5(r,s)?o=null:i!==null&&l5(r,i)&&(e.flags|=32),jj(t,e),Hs(t,e,o,n),e.child;case 6:return t===null&&f5(e),null;case 13:return Lj(t,e,n);case 4:return LS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ap(e,null,r,n):Hs(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Oo(r,s),VA(t,e,r,s,n);case 7:return Hs(t,e,e.pendingProps,n),e.child;case 8:return Hs(t,e,e.pendingProps.children,n),e.child;case 12:return Hs(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,qn(d1,r._currentValue),r._currentValue=o,i!==null)if(ra(i.value,o)){if(i.children===s.children&&!xi.current){e=Yl(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Bl(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),p5(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ke(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),p5(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Hs(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Wf(e,n),s=go(s),r=r(s),e.flags|=1,Hs(t,e,r,n),e.child;case 14:return r=e.type,s=Oo(r,e.pendingProps),s=Oo(r.type,s),UA(t,e,r,s,n);case 15:return Ij(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Oo(r,s),A0(t,e),e.tag=1,bi(r)?(t=!0,l1(e)):t=!1,Wf(e,n),Cj(e,r,s),g5(e,r,s,n),w5(null,e,r,!0,t,n);case 19:return Oj(t,e,n);case 22:return kj(t,e,n)}throw Error(Ke(156,e.tag))};function Xj(t,e){return Nk(t,e)}function fB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function co(t,e,n,r){return new fB(t,e,n,r)}function YS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pB(t){if(typeof t=="function")return YS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pS)return 11;if(t===mS)return 14}return 2}function _u(t,e){var n=t.alternate;return n===null?(n=co(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function T0(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")YS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Pf:return Yd(n.children,s,i,e);case fS:o=8,s|=8;break;case Ub:return t=co(12,n,e,s|2),t.elementType=Ub,t.lanes=i,t;case Bb:return t=co(13,n,e,s),t.elementType=Bb,t.lanes=i,t;case zb:return t=co(19,n,e,s),t.elementType=zb,t.lanes=i,t;case ak:return D2(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ik:o=10;break e;case ok:o=9;break e;case pS:o=11;break e;case mS:o=14;break e;case Yc:o=16,r=null;break e}throw Error(Ke(130,t==null?t:typeof t,""))}return e=co(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Yd(t,e,n,r){return t=co(7,t,r,e),t.lanes=n,t}function D2(t,e,n,r){return t=co(22,t,r,e),t.elementType=ak,t.lanes=n,t.stateNode={isHidden:!1},t}function Hx(t,e,n){return t=co(6,t,null,e),t.lanes=n,t}function Gx(t,e,n){return e=co(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mB(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cx(0),this.expirationTimes=Cx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cx(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function QS(t,e,n,r,s,i,o,a,c){return t=new mB(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=co(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},RS(i),t}function gB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cf,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Zj(t){if(!t)return Ou;t=t._reactInternals;e:{if(Eh(t)!==t||t.tag!==1)throw Error(Ke(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ke(171))}if(t.tag===1){var n=t.type;if(bi(n))return Zk(t,n,e)}return e}function Jj(t,e,n,r,s,i,o,a,c){return t=QS(n,r,!0,t,s,i,o,a,c),t.context=Zj(null),n=t.current,r=Zs(),s=bu(n),i=Bl(r,s),i.callback=e??null,wu(n,i,s),t.current.lanes=s,Ov(t,s,r),_i(t,r),t}function M2(t,e,n,r){var s=e.current,i=Zs(),o=bu(s);return n=Zj(n),e.context===null?e.context=n:e.pendingContext=n,e=Bl(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wu(s,e,o),t!==null&&(Zo(t,s,o,i),S0(t,s,o)),o}function b1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ZA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function XS(t,e){ZA(t,e),(t=t.alternate)&&ZA(t,e)}function vB(){return null}var e3=typeof reportError=="function"?reportError:function(t){console.error(t)};function ZS(t){this._internalRoot=t}F2.prototype.render=ZS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ke(409));M2(t,e,null,null)};F2.prototype.unmount=ZS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oh(function(){M2(null,t,null,null)}),e[Gl]=null}};function F2(t){this._internalRoot=t}F2.prototype.unstable_scheduleHydration=function(t){if(t){var e=kk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xc.length&&e!==0&&e<Xc[n].priority;n++);Xc.splice(n,0,t),n===0&&Rk(t)}};function JS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function V2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function JA(){}function yB(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=b1(o);i.call(u)}}var o=Jj(e,r,t,0,null,!1,!1,"",JA);return t._reactRootContainer=o,t[Gl]=o.current,Fg(t.nodeType===8?t.parentNode:t),oh(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=b1(c);a.call(u)}}var c=QS(t,0,!1,null,null,!1,!1,"",JA);return t._reactRootContainer=c,t[Gl]=c.current,Fg(t.nodeType===8?t.parentNode:t),oh(function(){M2(e,c,n,r)}),c}function U2(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=b1(o);a.call(c)}}M2(e,o,t,s)}else o=yB(n,e,t,s,r);return b1(o)}Tk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xm(e.pendingLanes);n!==0&&(yS(e,n|1),_i(e,xr()),!(wn&6)&&(Tp=xr()+500,td()))}break;case 13:oh(function(){var r=Kl(t,1);if(r!==null){var s=Zs();Zo(r,t,1,s)}}),XS(t,1)}};wS=function(t){if(t.tag===13){var e=Kl(t,134217728);if(e!==null){var n=Zs();Zo(e,t,134217728,n)}XS(t,134217728)}};Ik=function(t){if(t.tag===13){var e=bu(t),n=Kl(t,e);if(n!==null){var r=Zs();Zo(n,t,e,r)}XS(t,e)}};kk=function(){return Rn};jk=function(t,e){var n=Rn;try{return Rn=t,e()}finally{Rn=n}};Zb=function(t,e,n){switch(e){case"input":if(Wb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=I2(r);if(!s)throw Error(Ke(90));ck(r),Wb(r,s)}}}break;case"textarea":dk(t,n);break;case"select":e=n.value,e!=null&&Bf(t,!!n.multiple,e,!1)}};yk=HS;wk=oh;var wB={usingClientEntryPoint:!1,Events:[Mv,jf,I2,gk,vk,HS]},Vm={findFiberByHostInstance:Ld,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xB={bundleType:Vm.bundleType,version:Vm.version,rendererPackageName:Vm.rendererPackageName,rendererConfig:Vm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_k(t),t===null?null:t.stateNode},findFiberByHostInstance:Vm.findFiberByHostInstance||vB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qy.isDisabled&&Qy.supportsFiber)try{A2=Qy.inject(xB),Va=Qy}catch{}}Gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wB;Gi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!JS(e))throw Error(Ke(200));return gB(t,e,null,n)};Gi.createRoot=function(t,e){if(!JS(t))throw Error(Ke(299));var n=!1,r="",s=e3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=QS(t,1,!1,null,null,n,!1,r,s),t[Gl]=e.current,Fg(t.nodeType===8?t.parentNode:t),new ZS(e)};Gi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ke(188)):(t=Object.keys(t).join(","),Error(Ke(268,t)));return t=_k(e),t=t===null?null:t.stateNode,t};Gi.flushSync=function(t){return oh(t)};Gi.hydrate=function(t,e,n){if(!V2(e))throw Error(Ke(200));return U2(null,t,e,!0,n)};Gi.hydrateRoot=function(t,e,n){if(!JS(t))throw Error(Ke(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=e3;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Jj(e,null,t,1,n??null,s,!1,i,o),t[Gl]=e.current,Fg(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new F2(e)};Gi.render=function(t,e,n){if(!V2(e))throw Error(Ke(200));return U2(null,t,e,!1,n)};Gi.unmountComponentAtNode=function(t){if(!V2(t))throw Error(Ke(40));return t._reactRootContainer?(oh(function(){U2(null,null,t,!1,function(){t._reactRootContainer=null,t[Gl]=null})}),!0):!1};Gi.unstable_batchedUpdates=HS;Gi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!V2(n))throw Error(Ke(200));if(t==null||t._reactInternals===void 0)throw Error(Ke(38));return U2(t,e,n,!1,r)};Gi.version="18.3.1-next-f1338f8080-20240426";function t3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t3)}catch(t){console.error(t)}}t3(),tk.exports=Gi;var Ah=tk.exports;const bB=zI(Ah);var n3,eC=Ah;n3=eC.createRoot,eC.hydrateRoot;function _B(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",c=t.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var r3={exports:{}},s3={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip=E;function SB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var NB=typeof Object.is=="function"?Object.is:SB,EB=Ip.useState,AB=Ip.useEffect,CB=Ip.useLayoutEffect,PB=Ip.useDebugValue;function TB(t,e){var n=e(),r=EB({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return CB(function(){s.value=n,s.getSnapshot=e,Kx(s)&&i({inst:s})},[t,n,e]),AB(function(){return Kx(s)&&i({inst:s}),t(function(){Kx(s)&&i({inst:s})})},[t]),PB(n),n}function Kx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!NB(t,n)}catch{return!0}}function IB(t,e){return e()}var kB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?IB:TB;s3.useSyncExternalStore=Ip.useSyncExternalStore!==void 0?Ip.useSyncExternalStore:kB;r3.exports=s3;var jB=r3.exports;const RB=JI.useInsertionEffect,LB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OB=LB?E.useLayoutEffect:E.useEffect,DB=RB||OB,i3=t=>{const e=E.useRef([t,(...n)=>e[0](...n)]).current;return DB(()=>{e[0]=t}),e[1]},MB="popstate",eN="pushState",tN="replaceState",FB="hashchange",tC=[MB,eN,tN,FB],VB=t=>{for(const e of tC)addEventListener(e,t);return()=>{for(const e of tC)removeEventListener(e,t)}},o3=(t,e)=>jB.useSyncExternalStore(VB,t,e),UB=()=>location.search,BB=({ssrSearch:t=""}={})=>o3(UB,()=>t),nC=()=>location.pathname,zB=({ssrPath:t}={})=>o3(nC,t?()=>t:nC),qB=(t,{replace:e=!1,state:n=null}={})=>history[e?tN:eN](n,"",t),$B=(t={})=>[zB(t),qB],rC=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[rC]>"u"){for(const t of[eN,tN]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,rC,{value:!0})}const WB=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",a3=(t="")=>t==="/"?"":t,HB=(t,e)=>t[0]==="~"?t.slice(1):a3(e)+t,GB=(t="",e)=>WB(sC(a3(t)),sC(e)),sC=t=>{try{return decodeURI(t)}catch{return t}},l3={hook:$B,searchHook:BB,parser:_B,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},c3=E.createContext(l3),Zp=()=>E.useContext(c3),u3={},d3=E.createContext(u3),h3=()=>E.useContext(d3),B2=t=>{const[e,n]=t.hook(t);return[GB(t.base,e),i3((r,s)=>n(HB(r,t.base),s))]},Ql=()=>B2(Zp()),nN=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...c]=o;return a!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((h,p)=>[h,c[p]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...r?[a]:[]]:[!1,null]},KB=t=>nN(Zp().parser,t,Ql()[0]),YB=({children:t,...e})=>{var d,h;const n=Zp(),r=e.hook?l3:n;let s=r;const[i,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let a=E.useRef({}),c=a.current,u=c;for(let p in r){const g=p==="base"?r[p]+(e[p]||""):e[p]||r[p];c===u&&g!==u[p]&&(a.current=u={...u}),u[p]=g,g!==r[p]&&(s=u)}return E.createElement(c3.Provider,{value:s,children:t})},iC=({children:t,component:e},n)=>e?E.createElement(e,{params:n}):typeof t=="function"?t(n):t,QB=t=>{let e=E.useRef(u3);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,s])=>s!==n[r])?t:n},hi=({path:t,nest:e,match:n,...r})=>{const s=Zp(),[i]=B2(s),[o,a,c]=n??nN(s.parser,t,i,e),u=QB({...h3(),...a});if(!o)return null;const d=c?E.createElement(YB,{base:c},iC(r,u)):iC(r,u);return E.createElement(d3.Provider,{value:u,children:d})},pn=E.forwardRef((t,e)=>{const n=Zp(),[r,s]=B2(n),{to:i="",href:o=i,onClick:a,asChild:c,children:u,className:d,replace:h,state:p,...g}=t,b=i3(_=>{_.ctrlKey||_.metaKey||_.altKey||_.shiftKey||_.button!==0||(a==null||a(_),_.defaultPrevented||(_.preventDefault(),s(o,t)))}),w=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&E.isValidElement(u)?E.cloneElement(u,{onClick:b,href:w}):E.createElement("a",{...g,onClick:b,href:w,className:d!=null&&d.call?d(r===o):d,children:u,ref:e})}),f3=t=>Array.isArray(t)?t.flatMap(e=>f3(e&&e.type===E.Fragment?e.props.children:e)):[t],XB=({children:t,location:e})=>{const n=Zp(),[r]=B2(n);for(const s of f3(t)){let i=0;if(E.isValidElement(s)&&(i=nN(n.parser,s.props.path,e||r,s.props.nest))[0])return E.cloneElement(s,{match:i})}return null};var Vv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ah=typeof window>"u"||"Deno"in globalThis;function oo(){}function ZB(t,e){return typeof t=="function"?t(e):t}function k5(t){return typeof t=="number"&&t>=0&&t!==1/0}function p3(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Gf(t,e){return typeof t=="function"?t(e):t}function Bo(t,e){return typeof t=="function"?t(e):t}function oC(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==rN(o,e.options))return!1}else if(!Kg(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function aC(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Gg(e.options.mutationKey)!==Gg(i))return!1}else if(!Kg(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function rN(t,e){return((e==null?void 0:e.queryKeyHashFn)||Gg)(t)}function Gg(t){return JSON.stringify(t,(e,n)=>R5(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Kg(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Kg(t[n],e[n])):!1}function m3(t,e){if(t===e)return t;const n=lC(t)&&lC(e);if(n||R5(t)&&R5(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let c=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=m3(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function j5(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function lC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function R5(t){if(!cC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!cC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function cC(t){return Object.prototype.toString.call(t)==="[object Object]"}function JB(t){return new Promise(e=>{setTimeout(e,t)})}function L5(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?m3(t,e):e}function ez(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function tz(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var sN=Symbol();function g3(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===sN?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ud,ru,up,RI,nz=(RI=class extends Vv{constructor(){super();kt(this,Ud);kt(this,ru);kt(this,up);ft(this,up,e=>{if(!ah&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){pe(this,ru)||this.setEventListener(pe(this,up))}onUnsubscribe(){var e;this.hasListeners()||((e=pe(this,ru))==null||e.call(this),ft(this,ru,void 0))}setEventListener(e){var n;ft(this,up,e),(n=pe(this,ru))==null||n.call(this),ft(this,ru,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){pe(this,Ud)!==e&&(ft(this,Ud,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof pe(this,Ud)=="boolean"?pe(this,Ud):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ud=new WeakMap,ru=new WeakMap,up=new WeakMap,RI),iN=new nz,dp,su,hp,LI,rz=(LI=class extends Vv{constructor(){super();kt(this,dp,!0);kt(this,su);kt(this,hp);ft(this,hp,e=>{if(!ah&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){pe(this,su)||this.setEventListener(pe(this,hp))}onUnsubscribe(){var e;this.hasListeners()||((e=pe(this,su))==null||e.call(this),ft(this,su,void 0))}setEventListener(e){var n;ft(this,hp,e),(n=pe(this,su))==null||n.call(this),ft(this,su,e(this.setOnline.bind(this)))}setOnline(e){pe(this,dp)!==e&&(ft(this,dp,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return pe(this,dp)}},dp=new WeakMap,su=new WeakMap,hp=new WeakMap,LI),_1=new rz;function O5(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function sz(t){return Math.min(1e3*2**t,3e4)}function v3(t){return(t??"online")==="online"?_1.isOnline():!0}var y3=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Yx(t){return t instanceof y3}function w3(t){let e=!1,n=0,r=!1,s;const i=O5(),o=w=>{var _;r||(p(new y3(w)),(_=t.abort)==null||_.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>iN.isFocused()&&(t.networkMode==="always"||_1.isOnline())&&t.canRun(),d=()=>v3(t.networkMode)&&t.canRun(),h=w=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,w),s==null||s(),i.resolve(w))},p=w=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,w),s==null||s(),i.reject(w))},g=()=>new Promise(w=>{var _;s=x=>{(r||u())&&w(x)},(_=t.onPause)==null||_.call(t)}).then(()=>{var w;s=void 0,r||(w=t.onContinue)==null||w.call(t)}),b=()=>{if(r)return;let w;const _=n===0?t.initialPromise:void 0;try{w=_??t.fn()}catch(x){w=Promise.reject(x)}Promise.resolve(w).then(h).catch(x=>{var $;if(r)return;const v=t.retry??(ah?0:3),N=t.retryDelay??sz,R=typeof N=="function"?N(n,x):N,M=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,x);if(e||!M){p(x);return}n++,($=t.onFail)==null||$.call(t,n,x),JB(R).then(()=>u()?void 0:g()).then(()=>{e?p(x):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?b():g().then(b),i)}}var iz=t=>setTimeout(t,0);function oz(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=iz;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var as=oz(),Bd,OI,x3=(OI=class{constructor(){kt(this,Bd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),k5(this.gcTime)&&ft(this,Bd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ah?1/0:5*60*1e3))}clearGcTimeout(){pe(this,Bd)&&(clearTimeout(pe(this,Bd)),ft(this,Bd,void 0))}},Bd=new WeakMap,OI),fp,pp,io,zd,Es,Iv,qd,Mo,Cl,DI,az=(DI=class extends x3{constructor(n){super();kt(this,Mo);kt(this,fp);kt(this,pp);kt(this,io);kt(this,zd);kt(this,Es);kt(this,Iv);kt(this,qd);ft(this,qd,!1),ft(this,Iv,n.defaultOptions),this.setOptions(n.options),this.observers=[],ft(this,zd,n.client),ft(this,io,pe(this,zd).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ft(this,fp,lz(this.options)),this.state=n.state??pe(this,fp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=pe(this,Es))==null?void 0:n.promise}setOptions(n){this.options={...pe(this,Iv),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&pe(this,io).remove(this)}setData(n,r){const s=L5(this.state.data,n,this.options);return un(this,Mo,Cl).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){un(this,Mo,Cl).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=pe(this,Es))==null?void 0:s.promise;return(i=pe(this,Es))==null||i.cancel(n),r?r.then(oo).catch(oo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(pe(this,fp))}isActive(){return this.observers.some(n=>Bo(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!p3(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=pe(this,Es))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=pe(this,Es))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),pe(this,io).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(pe(this,Es)&&(pe(this,qd)?pe(this,Es).cancel({revert:!0}):pe(this,Es).cancelRetry()),this.scheduleGc()),pe(this,io).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||un(this,Mo,Cl).call(this,{type:"invalidate"})}fetch(n,r){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(pe(this,Es))return pe(this,Es).continueRetry(),pe(this,Es).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(ft(this,qd,!0),s.signal)})},o=()=>{const p=g3(this.options,r),g={client:pe(this,zd),queryKey:this.queryKey,meta:this.meta};return i(g),ft(this,qd,!1),this.options.persister?this.options.persister(p,g,this):p(g)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:pe(this,zd),state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),ft(this,pp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&un(this,Mo,Cl).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const c=p=>{var g,b,w,_;Yx(p)&&p.silent||un(this,Mo,Cl).call(this,{type:"error",error:p}),Yx(p)||((b=(g=pe(this,io).config).onError)==null||b.call(g,p,this),(_=(w=pe(this,io).config).onSettled)==null||_.call(w,this.state.data,p,this)),this.scheduleGc()};return ft(this,Es,w3({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var g,b,w,_;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(x){c(x);return}(b=(g=pe(this,io).config).onSuccess)==null||b.call(g,p,this),(_=(w=pe(this,io).config).onSettled)==null||_.call(w,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,g)=>{un(this,Mo,Cl).call(this,{type:"failed",failureCount:p,error:g})},onPause:()=>{un(this,Mo,Cl).call(this,{type:"pause"})},onContinue:()=>{un(this,Mo,Cl).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),pe(this,Es).start()}},fp=new WeakMap,pp=new WeakMap,io=new WeakMap,zd=new WeakMap,Es=new WeakMap,Iv=new WeakMap,qd=new WeakMap,Mo=new WeakSet,Cl=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...b3(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Yx(i)&&i.revert&&pe(this,pp)?{...pe(this,pp),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),as.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),pe(this,io).notify({query:this,type:"updated",action:n})})},DI);function b3(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:v3(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function lz(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ka,MI,cz=(MI=class extends Vv{constructor(e={}){super();kt(this,ka);this.config=e,ft(this,ka,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??rN(s,n);let o=this.get(i);return o||(o=new az({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){pe(this,ka).has(e.queryHash)||(pe(this,ka).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=pe(this,ka).get(e.queryHash);n&&(e.destroy(),n===e&&pe(this,ka).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){as.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return pe(this,ka).get(e)}getAll(){return[...pe(this,ka).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>oC(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>oC(e,r)):n}notify(e){as.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){as.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){as.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ka=new WeakMap,MI),ja,qs,$d,Ra,Gc,FI,uz=(FI=class extends x3{constructor(n){super();kt(this,Ra);kt(this,ja);kt(this,qs);kt(this,$d);this.mutationId=n.mutationId,ft(this,qs,n.mutationCache),ft(this,ja,[]),this.state=n.state||dz(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){pe(this,ja).includes(n)||(pe(this,ja).push(n),this.clearGcTimeout(),pe(this,qs).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ft(this,ja,pe(this,ja).filter(r=>r!==n)),this.scheduleGc(),pe(this,qs).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){pe(this,ja).length||(this.state.status==="pending"?this.scheduleGc():pe(this,qs).remove(this))}continue(){var n;return((n=pe(this,$d))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,c,u,d,h,p,g,b,w,_,x,v,N,R,M,$,I,P;ft(this,$d,w3({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(L,F)=>{un(this,Ra,Gc).call(this,{type:"failed",failureCount:L,error:F})},onPause:()=>{un(this,Ra,Gc).call(this,{type:"pause"})},onContinue:()=>{un(this,Ra,Gc).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>pe(this,qs).canRun(this)}));const r=this.state.status==="pending",s=!pe(this,$d).canStart();try{if(!r){un(this,Ra,Gc).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=pe(this,qs).config).onMutate)==null?void 0:o.call(i,n,this));const F=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,n));F!==this.state.context&&un(this,Ra,Gc).call(this,{type:"pending",context:F,variables:n,isPaused:s})}const L=await pe(this,$d).start();return await((d=(u=pe(this,qs).config).onSuccess)==null?void 0:d.call(u,L,n,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,L,n,this.state.context)),await((b=(g=pe(this,qs).config).onSettled)==null?void 0:b.call(g,L,null,this.state.variables,this.state.context,this)),await((_=(w=this.options).onSettled)==null?void 0:_.call(w,L,null,n,this.state.context)),un(this,Ra,Gc).call(this,{type:"success",data:L}),L}catch(L){try{throw await((v=(x=pe(this,qs).config).onError)==null?void 0:v.call(x,L,n,this.state.context,this)),await((R=(N=this.options).onError)==null?void 0:R.call(N,L,n,this.state.context)),await(($=(M=pe(this,qs).config).onSettled)==null?void 0:$.call(M,void 0,L,this.state.variables,this.state.context,this)),await((P=(I=this.options).onSettled)==null?void 0:P.call(I,void 0,L,n,this.state.context)),L}finally{un(this,Ra,Gc).call(this,{type:"error",error:L})}}finally{pe(this,qs).runNext(this)}}},ja=new WeakMap,qs=new WeakMap,$d=new WeakMap,Ra=new WeakSet,Gc=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),as.batch(()=>{pe(this,ja).forEach(s=>{s.onMutationUpdate(n)}),pe(this,qs).notify({mutation:this,type:"updated",action:n})})},FI);function dz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jl,Fo,kv,VI,hz=(VI=class extends Vv{constructor(e={}){super();kt(this,jl);kt(this,Fo);kt(this,kv);this.config=e,ft(this,jl,new Set),ft(this,Fo,new Map),ft(this,kv,0)}build(e,n,r){const s=new uz({mutationCache:this,mutationId:++Ry(this,kv)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){pe(this,jl).add(e);const n=Xy(e);if(typeof n=="string"){const r=pe(this,Fo).get(n);r?r.push(e):pe(this,Fo).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(pe(this,jl).delete(e)){const n=Xy(e);if(typeof n=="string"){const r=pe(this,Fo).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&pe(this,Fo).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Xy(e);if(typeof n=="string"){const r=pe(this,Fo).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Xy(e);if(typeof n=="string"){const s=(r=pe(this,Fo).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){as.batch(()=>{pe(this,jl).forEach(e=>{this.notify({type:"removed",mutation:e})}),pe(this,jl).clear(),pe(this,Fo).clear()})}getAll(){return Array.from(pe(this,jl))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>aC(n,r))}findAll(e={}){return this.getAll().filter(n=>aC(e,n))}notify(e){as.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return as.batch(()=>Promise.all(e.map(n=>n.continue().catch(oo))))}},jl=new WeakMap,Fo=new WeakMap,kv=new WeakMap,VI);function Xy(t){var e;return(e=t.options.scope)==null?void 0:e.id}function uC(t){return{onFetch:(e,n)=>{var d,h,p,g,b;const r=e.options,s=(p=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let w=!1;const _=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},x=g3(e.options,e.fetchOptions),v=async(N,R,M)=>{if(w)return Promise.reject();if(R==null&&N.pages.length)return Promise.resolve(N);const $={client:e.client,queryKey:e.queryKey,pageParam:R,direction:M?"backward":"forward",meta:e.options.meta};_($);const I=await x($),{maxPages:P}=e.options,L=M?tz:ez;return{pages:L(N.pages,I,P),pageParams:L(N.pageParams,R,P)}};if(s&&i.length){const N=s==="backward",R=N?fz:dC,M={pages:i,pageParams:o},$=R(r,M);a=await v(M,$,N)}else{const N=t??i.length;do{const R=c===0?o[0]??r.initialPageParam:dC(r,a);if(c>0&&R==null)break;a=await v(a,R),c++}while(c<N)}return a};e.options.persister?e.fetchFn=()=>{var w,_;return(_=(w=e.options).persister)==null?void 0:_.call(w,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function dC(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function fz(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var cr,iu,ou,mp,gp,au,vp,yp,UI,pz=(UI=class{constructor(t={}){kt(this,cr);kt(this,iu);kt(this,ou);kt(this,mp);kt(this,gp);kt(this,au);kt(this,vp);kt(this,yp);ft(this,cr,t.queryCache||new cz),ft(this,iu,t.mutationCache||new hz),ft(this,ou,t.defaultOptions||{}),ft(this,mp,new Map),ft(this,gp,new Map),ft(this,au,0)}mount(){Ry(this,au)._++,pe(this,au)===1&&(ft(this,vp,iN.subscribe(async t=>{t&&(await this.resumePausedMutations(),pe(this,cr).onFocus())})),ft(this,yp,_1.subscribe(async t=>{t&&(await this.resumePausedMutations(),pe(this,cr).onOnline())})))}unmount(){var t,e;Ry(this,au)._--,pe(this,au)===0&&((t=pe(this,vp))==null||t.call(this),ft(this,vp,void 0),(e=pe(this,yp))==null||e.call(this),ft(this,yp,void 0))}isFetching(t){return pe(this,cr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return pe(this,iu).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=pe(this,cr).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=pe(this,cr).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Gf(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return pe(this,cr).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=pe(this,cr).get(r.queryHash),i=s==null?void 0:s.state.data,o=ZB(e,i);if(o!==void 0)return pe(this,cr).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return as.batch(()=>pe(this,cr).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=pe(this,cr).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=pe(this,cr);as.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=pe(this,cr);return as.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=as.batch(()=>pe(this,cr).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(oo).catch(oo)}invalidateQueries(t,e={}){return as.batch(()=>(pe(this,cr).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=as.batch(()=>pe(this,cr).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(oo)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(oo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=pe(this,cr).build(this,e);return n.isStaleByTime(Gf(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(oo).catch(oo)}fetchInfiniteQuery(t){return t.behavior=uC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(oo).catch(oo)}ensureInfiniteQueryData(t){return t.behavior=uC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return _1.isOnline()?pe(this,iu).resumePausedMutations():Promise.resolve()}getQueryCache(){return pe(this,cr)}getMutationCache(){return pe(this,iu)}getDefaultOptions(){return pe(this,ou)}setDefaultOptions(t){ft(this,ou,t)}setQueryDefaults(t,e){pe(this,mp).set(Gg(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...pe(this,mp).values()],n={};return e.forEach(r=>{Kg(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){pe(this,gp).set(Gg(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...pe(this,gp).values()],n={};return e.forEach(r=>{Kg(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...pe(this,ou).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=rN(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===sN&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...pe(this,ou).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){pe(this,cr).clear(),pe(this,iu).clear()}},cr=new WeakMap,iu=new WeakMap,ou=new WeakMap,mp=new WeakMap,gp=new WeakMap,au=new WeakMap,vp=new WeakMap,yp=new WeakMap,UI),fi,dn,jv,$s,Wd,wp,lu,La,Rv,xp,bp,Hd,Gd,cu,_p,En,Jm,D5,M5,F5,V5,U5,B5,z5,_3,BI,mz=(BI=class extends Vv{constructor(e,n){super();kt(this,En);kt(this,fi);kt(this,dn);kt(this,jv);kt(this,$s);kt(this,Wd);kt(this,wp);kt(this,lu);kt(this,La);kt(this,Rv);kt(this,xp);kt(this,bp);kt(this,Hd);kt(this,Gd);kt(this,cu);kt(this,_p,new Set);this.options=n,ft(this,fi,e),ft(this,La,null),ft(this,lu,O5()),this.options.experimental_prefetchInRender||pe(this,lu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(pe(this,dn).addObserver(this),hC(pe(this,dn),this.options)?un(this,En,Jm).call(this):this.updateResult(),un(this,En,V5).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return q5(pe(this,dn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return q5(pe(this,dn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,un(this,En,U5).call(this),un(this,En,B5).call(this),pe(this,dn).removeObserver(this)}setOptions(e){const n=this.options,r=pe(this,dn);if(this.options=pe(this,fi).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Bo(this.options.enabled,pe(this,dn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");un(this,En,z5).call(this),pe(this,dn).setOptions(this.options),n._defaulted&&!j5(this.options,n)&&pe(this,fi).getQueryCache().notify({type:"observerOptionsUpdated",query:pe(this,dn),observer:this});const s=this.hasListeners();s&&fC(pe(this,dn),r,this.options,n)&&un(this,En,Jm).call(this),this.updateResult(),s&&(pe(this,dn)!==r||Bo(this.options.enabled,pe(this,dn))!==Bo(n.enabled,pe(this,dn))||Gf(this.options.staleTime,pe(this,dn))!==Gf(n.staleTime,pe(this,dn)))&&un(this,En,D5).call(this);const i=un(this,En,M5).call(this);s&&(pe(this,dn)!==r||Bo(this.options.enabled,pe(this,dn))!==Bo(n.enabled,pe(this,dn))||i!==pe(this,cu))&&un(this,En,F5).call(this,i)}getOptimisticResult(e){const n=pe(this,fi).getQueryCache().build(pe(this,fi),e),r=this.createResult(n,e);return vz(this,r)&&(ft(this,$s,r),ft(this,wp,this.options),ft(this,Wd,pe(this,dn).state)),r}getCurrentResult(){return pe(this,$s)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){pe(this,_p).add(e)}getCurrentQuery(){return pe(this,dn)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=pe(this,fi).defaultQueryOptions(e),r=pe(this,fi).getQueryCache().build(pe(this,fi),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return un(this,En,Jm).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),pe(this,$s)))}createResult(e,n){var P;const r=pe(this,dn),s=this.options,i=pe(this,$s),o=pe(this,Wd),a=pe(this,wp),u=e!==r?e.state:pe(this,jv),{state:d}=e;let h={...d},p=!1,g;if(n._optimisticResults){const L=this.hasListeners(),F=!L&&hC(e,n),k=L&&fC(e,r,n,s);(F||k)&&(h={...h,...b3(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:b,errorUpdatedAt:w,status:_}=h;if(n.select&&h.data!==void 0)if(i&&h.data===(o==null?void 0:o.data)&&n.select===pe(this,Rv))g=pe(this,xp);else try{ft(this,Rv,n.select),g=n.select(h.data),g=L5(i==null?void 0:i.data,g,n),ft(this,xp,g),ft(this,La,null)}catch(L){ft(this,La,L)}else g=h.data;if(n.placeholderData!==void 0&&g===void 0&&_==="pending"){let L;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))L=i.data;else if(L=typeof n.placeholderData=="function"?n.placeholderData((P=pe(this,bp))==null?void 0:P.state.data,pe(this,bp)):n.placeholderData,n.select&&L!==void 0)try{L=n.select(L),ft(this,La,null)}catch(F){ft(this,La,F)}L!==void 0&&(_="success",g=L5(i==null?void 0:i.data,L,n),p=!0)}pe(this,La)&&(b=pe(this,La),g=pe(this,xp),w=Date.now(),_="error");const x=h.fetchStatus==="fetching",v=_==="pending",N=_==="error",R=v&&x,M=g!==void 0,I={status:_,fetchStatus:h.fetchStatus,isPending:v,isSuccess:_==="success",isError:N,isInitialLoading:R,isLoading:R,data:g,dataUpdatedAt:h.dataUpdatedAt,error:b,errorUpdatedAt:w,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!v,isLoadingError:N&&!M,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:N&&M,isStale:oN(e,n),refetch:this.refetch,promise:pe(this,lu)};if(this.options.experimental_prefetchInRender){const L=T=>{I.status==="error"?T.reject(I.error):I.data!==void 0&&T.resolve(I.data)},F=()=>{const T=ft(this,lu,I.promise=O5());L(T)},k=pe(this,lu);switch(k.status){case"pending":e.queryHash===r.queryHash&&L(k);break;case"fulfilled":(I.status==="error"||I.data!==k.value)&&F();break;case"rejected":(I.status!=="error"||I.error!==k.reason)&&F();break}}return I}updateResult(){const e=pe(this,$s),n=this.createResult(pe(this,dn),this.options);if(ft(this,Wd,pe(this,dn).state),ft(this,wp,this.options),pe(this,Wd).data!==void 0&&ft(this,bp,pe(this,dn)),j5(n,e))return;ft(this,$s,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!pe(this,_p).size)return!0;const o=new Set(i??pe(this,_p));return this.options.throwOnError&&o.add("error"),Object.keys(pe(this,$s)).some(a=>{const c=a;return pe(this,$s)[c]!==e[c]&&o.has(c)})};un(this,En,_3).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&un(this,En,V5).call(this)}},fi=new WeakMap,dn=new WeakMap,jv=new WeakMap,$s=new WeakMap,Wd=new WeakMap,wp=new WeakMap,lu=new WeakMap,La=new WeakMap,Rv=new WeakMap,xp=new WeakMap,bp=new WeakMap,Hd=new WeakMap,Gd=new WeakMap,cu=new WeakMap,_p=new WeakMap,En=new WeakSet,Jm=function(e){un(this,En,z5).call(this);let n=pe(this,dn).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(oo)),n},D5=function(){un(this,En,U5).call(this);const e=Gf(this.options.staleTime,pe(this,dn));if(ah||pe(this,$s).isStale||!k5(e))return;const r=p3(pe(this,$s).dataUpdatedAt,e)+1;ft(this,Hd,setTimeout(()=>{pe(this,$s).isStale||this.updateResult()},r))},M5=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(pe(this,dn)):this.options.refetchInterval)??!1},F5=function(e){un(this,En,B5).call(this),ft(this,cu,e),!(ah||Bo(this.options.enabled,pe(this,dn))===!1||!k5(pe(this,cu))||pe(this,cu)===0)&&ft(this,Gd,setInterval(()=>{(this.options.refetchIntervalInBackground||iN.isFocused())&&un(this,En,Jm).call(this)},pe(this,cu)))},V5=function(){un(this,En,D5).call(this),un(this,En,F5).call(this,un(this,En,M5).call(this))},U5=function(){pe(this,Hd)&&(clearTimeout(pe(this,Hd)),ft(this,Hd,void 0))},B5=function(){pe(this,Gd)&&(clearInterval(pe(this,Gd)),ft(this,Gd,void 0))},z5=function(){const e=pe(this,fi).getQueryCache().build(pe(this,fi),this.options);if(e===pe(this,dn))return;const n=pe(this,dn);ft(this,dn,e),ft(this,jv,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},_3=function(e){as.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(pe(this,$s))}),pe(this,fi).getQueryCache().notify({query:pe(this,dn),type:"observerResultsUpdated"})})},BI);function gz(t,e){return Bo(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function hC(t,e){return gz(t,e)||t.state.data!==void 0&&q5(t,e,e.refetchOnMount)}function q5(t,e,n){if(Bo(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&oN(t,e)}return!1}function fC(t,e,n,r){return(t!==e||Bo(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&oN(t,n)}function oN(t,e){return Bo(e.enabled,t)!==!1&&t.isStaleByTime(Gf(e.staleTime,t))}function vz(t,e){return!j5(t.getCurrentResult(),e)}var S3=E.createContext(void 0),yz=t=>{const e=E.useContext(S3);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},wz=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(S3.Provider,{value:t,children:e})),N3=E.createContext(!1),xz=()=>E.useContext(N3);N3.Provider;function bz(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var _z=E.createContext(bz()),Sz=()=>E.useContext(_z);function Nz(t,e){return typeof t=="function"?t(...e):!!t}function pC(){}var Ez=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Az=t=>{E.useEffect(()=>{t.clearReset()},[t])},Cz=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||Nz(n,[t.error,r])),Pz=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Tz=(t,e)=>t.isLoading&&t.isFetching&&!e,Iz=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,mC=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function kz(t,e,n){var h,p,g,b,w;const r=yz(),s=xz(),i=Sz(),o=r.defaultQueryOptions(t);(p=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,o),o._optimisticResults=s?"isRestoring":"optimistic",Pz(o),Ez(o,i),Az(i);const a=!r.getQueryCache().get(o.queryHash),[c]=E.useState(()=>new e(r,o)),u=c.getOptimisticResult(o),d=!s&&t.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(_=>{const x=d?c.subscribe(as.batchCalls(_)):pC;return c.updateResult(),x},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),E.useEffect(()=>{c.setOptions(o)},[o,c]),Iz(o,u))throw mC(o,c,i);if(Cz({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((b=(g=r.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||b.call(g,o,u),o.experimental_prefetchInRender&&!ah&&Tz(u,s)){const _=a?mC(o,c,i):(w=r.getQueryCache().get(o.queryHash))==null?void 0:w.promise;_==null||_.catch(pC).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Qr(t,e){return kz(t,mz)}async function jz(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const Rz=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e[0],{credentials:"include"});return await jz(n),await n.json()},S1=new pz({defaultOptions:{queries:{queryFn:Rz({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Lz=1,Oz=1e6;let Qx=0;function Dz(){return Qx=(Qx+1)%Number.MAX_SAFE_INTEGER,Qx.toString()}const Xx=new Map,gC=t=>{if(Xx.has(t))return;const e=setTimeout(()=>{Xx.delete(t),wg({type:"REMOVE_TOAST",toastId:t})},Oz);Xx.set(t,e)},Mz=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Lz)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?gC(n):t.toasts.forEach(r=>{gC(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},I0=[];let k0={toasts:[]};function wg(t){k0=Mz(k0,t),I0.forEach(e=>{e(k0)})}function Td({...t}){const e=Dz(),n=s=>wg({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>wg({type:"DISMISS_TOAST",toastId:e});return wg({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Si(){const[t,e]=E.useState(k0);return E.useEffect(()=>(I0.push(e),()=>{const n=I0.indexOf(e);n>-1&&I0.splice(n,1)}),[t]),{...t,toast:Td,dismiss:n=>wg({type:"DISMISS_TOAST",toastId:n})}}function Qe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function vC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function z2(...t){return e=>{let n=!1;const r=t.map(s=>{const i=vC(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():vC(t[s],null)}}}}function $t(...t){return E.useCallback(z2(...t),t)}function Fz(t,e){const n=E.createContext(e),r=i=>{const{children:o,...a}=i,c=E.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=E.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Ls(t,e=[]){let n=[];function r(i,o){const a=E.createContext(o),c=n.length;n=[...n,o];const u=h=>{var x;const{scope:p,children:g,...b}=h,w=((x=p==null?void 0:p[t])==null?void 0:x[c])||a,_=E.useMemo(()=>b,Object.values(b));return l.jsx(w.Provider,{value:_,children:g})};u.displayName=i+"Provider";function d(h,p){var w;const g=((w=p==null?void 0:p[t])==null?void 0:w[c])||a,b=E.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>E.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return E.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,Vz(s,...e)]}function Vz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...a,...h}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Xl=E.forwardRef((t,e)=>{const{children:n,...r}=t,s=E.Children.toArray(n),i=s.find(Bz);if(i){const o=i.props.children,a=s.map(c=>c===i?E.Children.count(o)>1?E.Children.only(null):E.isValidElement(o)?o.props.children:null:c);return l.jsx($5,{...r,ref:e,children:E.isValidElement(o)?E.cloneElement(o,void 0,a):null})}return l.jsx($5,{...r,ref:e,children:n})});Xl.displayName="Slot";var $5=E.forwardRef((t,e)=>{const{children:n,...r}=t;if(E.isValidElement(n)){const s=qz(n),i=zz(r,n.props);return n.type!==E.Fragment&&(i.ref=e?z2(e,s):s),E.cloneElement(n,i)}return E.Children.count(n)>1?E.Children.only(null):null});$5.displayName="SlotClone";var Uz=({children:t})=>l.jsx(l.Fragment,{children:t});function Bz(t){return E.isValidElement(t)&&t.type===Uz}function zz(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function qz(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Jp(t){const e=t+"CollectionProvider",[n,r]=Ls(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:b,children:w}=g,_=wt.useRef(null),x=wt.useRef(new Map).current;return l.jsx(s,{scope:b,itemMap:x,collectionRef:_,children:w})};o.displayName=e;const a=t+"CollectionSlot",c=wt.forwardRef((g,b)=>{const{scope:w,children:_}=g,x=i(a,w),v=$t(b,x.collectionRef);return l.jsx(Xl,{ref:v,children:_})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=wt.forwardRef((g,b)=>{const{scope:w,children:_,...x}=g,v=wt.useRef(null),N=$t(b,v),R=i(u,w);return wt.useEffect(()=>(R.itemMap.set(v,{ref:v,...x}),()=>void R.itemMap.delete(v))),l.jsx(Xl,{[d]:"",ref:N,children:_})});h.displayName=u;function p(g){const b=i(t+"CollectionConsumer",g);return wt.useCallback(()=>{const _=b.collectionRef.current;if(!_)return[];const x=Array.from(_.querySelectorAll(`[${d}]`));return Array.from(b.itemMap.values()).sort((R,M)=>x.indexOf(R.ref.current)-x.indexOf(M.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},p,r]}var $z=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],mt=$z.reduce((t,e)=>{const n=E.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Xl:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function aN(t,e){t&&Ah.flushSync(()=>t.dispatchEvent(e))}function Jn(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Wz(t,e=globalThis==null?void 0:globalThis.document){const n=Jn(t);E.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Hz="DismissableLayer",W5="dismissableLayer.update",Gz="dismissableLayer.pointerDownOutside",Kz="dismissableLayer.focusOutside",yC,E3=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Uv=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,u=E.useContext(E3),[d,h]=E.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=E.useState({}),b=$t(e,I=>h(I)),w=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=w.indexOf(_),v=d?w.indexOf(d):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,R=v>=x,M=Qz(I=>{const P=I.target,L=[...u.branches].some(F=>F.contains(P));!R||L||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),$=Xz(I=>{const P=I.target;[...u.branches].some(F=>F.contains(P))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return Wz(I=>{v===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),E.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(yC=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),wC(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=yC)}},[d,p,n,u]),E.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),wC())},[d,u]),E.useEffect(()=>{const I=()=>g({});return document.addEventListener(W5,I),()=>document.removeEventListener(W5,I)},[]),l.jsx(mt.div,{...c,ref:b,style:{pointerEvents:N?R?"auto":"none":void 0,...t.style},onFocusCapture:Qe(t.onFocusCapture,$.onFocusCapture),onBlurCapture:Qe(t.onBlurCapture,$.onBlurCapture),onPointerDownCapture:Qe(t.onPointerDownCapture,M.onPointerDownCapture)})});Uv.displayName=Hz;var Yz="DismissableLayerBranch",A3=E.forwardRef((t,e)=>{const n=E.useContext(E3),r=E.useRef(null),s=$t(e,r);return E.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(mt.div,{...t,ref:s})});A3.displayName=Yz;function Qz(t,e=globalThis==null?void 0:globalThis.document){const n=Jn(t),r=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){C3(Gz,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Xz(t,e=globalThis==null?void 0:globalThis.document){const n=Jn(t),r=E.useRef(!1);return E.useEffect(()=>{const s=i=>{i.target&&!r.current&&C3(Kz,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function wC(){const t=new CustomEvent(W5);document.dispatchEvent(t)}function C3(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?aN(s,i):s.dispatchEvent(i)}var Zz=Uv,Jz=A3,Lr=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},eq="Portal",Bv=E.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=E.useState(!1);Lr(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?bB.createPortal(l.jsx(mt.div,{...r,ref:e}),o):null});Bv.displayName=eq;function tq(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var Os=t=>{const{present:e,children:n}=t,r=nq(e),s=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),i=$t(r.ref,rq(s));return typeof n=="function"||r.isPresent?E.cloneElement(s,{ref:i}):null};Os.displayName="Presence";function nq(t){const[e,n]=E.useState(),r=E.useRef({}),s=E.useRef(t),i=E.useRef("none"),o=t?"mounted":"unmounted",[a,c]=tq(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const u=Zy(r.current);i.current=a==="mounted"?u:"none"},[a]),Lr(()=>{const u=r.current,d=s.current;if(d!==t){const p=i.current,g=Zy(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Lr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=g=>{const w=Zy(r.current).includes(g.animationName);if(g.target===e&&w&&(c("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},p=g=>{g.target===e&&(i.current=Zy(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Zy(t){return(t==null?void 0:t.animationName)||"none"}function rq(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Hi({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=sq({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Jn(n),c=E.useCallback(u=>{if(i){const h=typeof u=="function"?u(t):u;h!==t&&a(h)}else s(u)},[i,t,s,a]);return[o,c]}function sq({defaultProp:t,onChange:e}){const n=E.useState(t),[r]=n,s=E.useRef(r),i=Jn(e);return E.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var iq="VisuallyHidden",q2=E.forwardRef((t,e)=>l.jsx(mt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));q2.displayName=iq;var lN="ToastProvider",[cN,oq,aq]=Jp("Toast"),[P3,vue]=Ls("Toast",[aq]),[lq,$2]=P3(lN),T3=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=E.useState(null),[u,d]=E.useState(0),h=E.useRef(!1),p=E.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${lN}\`. Expected non-empty \`string\`.`),l.jsx(cN.Provider,{scope:e,children:l.jsx(lq,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:E.useCallback(()=>d(g=>g+1),[]),onToastRemove:E.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};T3.displayName=lN;var I3="ToastViewport",cq=["F8"],H5="toast.viewportPause",G5="toast.viewportResume",k3=E.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=cq,label:s="Notifications ({hotkey})",...i}=t,o=$2(I3,n),a=oq(n),c=E.useRef(null),u=E.useRef(null),d=E.useRef(null),h=E.useRef(null),p=$t(e,h,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;E.useEffect(()=>{const _=x=>{var N;r.length!==0&&r.every(R=>x[R]||x.code===R)&&((N=h.current)==null||N.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),E.useEffect(()=>{const _=c.current,x=h.current;if(b&&_&&x){const v=()=>{if(!o.isClosePausedRef.current){const $=new CustomEvent(H5);x.dispatchEvent($),o.isClosePausedRef.current=!0}},N=()=>{if(o.isClosePausedRef.current){const $=new CustomEvent(G5);x.dispatchEvent($),o.isClosePausedRef.current=!1}},R=$=>{!_.contains($.relatedTarget)&&N()},M=()=>{_.contains(document.activeElement)||N()};return _.addEventListener("focusin",v),_.addEventListener("focusout",R),_.addEventListener("pointermove",v),_.addEventListener("pointerleave",M),window.addEventListener("blur",v),window.addEventListener("focus",N),()=>{_.removeEventListener("focusin",v),_.removeEventListener("focusout",R),_.removeEventListener("pointermove",v),_.removeEventListener("pointerleave",M),window.removeEventListener("blur",v),window.removeEventListener("focus",N)}}},[b,o.isClosePausedRef]);const w=E.useCallback(({tabbingDirection:_})=>{const v=a().map(N=>{const R=N.ref.current,M=[R,..._q(R)];return _==="forwards"?M:M.reverse()});return(_==="forwards"?v.reverse():v).flat()},[a]);return E.useEffect(()=>{const _=h.current;if(_){const x=v=>{var M,$,I;const N=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!N){const P=document.activeElement,L=v.shiftKey;if(v.target===_&&L){(M=u.current)==null||M.focus();return}const T=w({tabbingDirection:L?"backwards":"forwards"}),O=T.findIndex(G=>G===P);Zx(T.slice(O+1))?v.preventDefault():L?($=u.current)==null||$.focus():(I=d.current)==null||I.focus()}};return _.addEventListener("keydown",x),()=>_.removeEventListener("keydown",x)}},[a,w]),l.jsxs(Jz,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&l.jsx(K5,{ref:u,onFocusFromOutsideViewport:()=>{const _=w({tabbingDirection:"forwards"});Zx(_)}}),l.jsx(cN.Slot,{scope:n,children:l.jsx(mt.ol,{tabIndex:-1,...i,ref:p})}),b&&l.jsx(K5,{ref:d,onFocusFromOutsideViewport:()=>{const _=w({tabbingDirection:"backwards"});Zx(_)}})]})});k3.displayName=I3;var j3="ToastFocusProxy",K5=E.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=$2(j3,n);return l.jsx(q2,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});K5.displayName=j3;var W2="Toast",uq="toast.swipeStart",dq="toast.swipeMove",hq="toast.swipeCancel",fq="toast.swipeEnd",R3=E.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,c]=Hi({prop:r,defaultProp:s,onChange:i});return l.jsx(Os,{present:n||a,children:l.jsx(gq,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:Jn(t.onPause),onResume:Jn(t.onResume),onSwipeStart:Qe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Qe(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Qe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Qe(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});R3.displayName=W2;var[pq,mq]=P3(W2,{onClose(){}}),gq=E.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:g,...b}=t,w=$2(W2,n),[_,x]=E.useState(null),v=$t(e,G=>x(G)),N=E.useRef(null),R=E.useRef(null),M=s||w.duration,$=E.useRef(0),I=E.useRef(M),P=E.useRef(0),{onToastAdd:L,onToastRemove:F}=w,k=Jn(()=>{var ue;(_==null?void 0:_.contains(document.activeElement))&&((ue=w.viewport)==null||ue.focus()),o()}),T=E.useCallback(G=>{!G||G===1/0||(window.clearTimeout(P.current),$.current=new Date().getTime(),P.current=window.setTimeout(k,G))},[k]);E.useEffect(()=>{const G=w.viewport;if(G){const ue=()=>{T(I.current),u==null||u()},ie=()=>{const fe=new Date().getTime()-$.current;I.current=I.current-fe,window.clearTimeout(P.current),c==null||c()};return G.addEventListener(H5,ie),G.addEventListener(G5,ue),()=>{G.removeEventListener(H5,ie),G.removeEventListener(G5,ue)}}},[w.viewport,M,c,u,T]),E.useEffect(()=>{i&&!w.isClosePausedRef.current&&T(M)},[i,M,w.isClosePausedRef,T]),E.useEffect(()=>(L(),()=>F()),[L,F]);const O=E.useMemo(()=>_?U3(_):null,[_]);return w.viewport?l.jsxs(l.Fragment,{children:[O&&l.jsx(vq,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),l.jsx(pq,{scope:n,onClose:k,children:Ah.createPortal(l.jsx(cN.ItemSlot,{scope:n,children:l.jsx(Zz,{asChild:!0,onEscapeKeyDown:Qe(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||k(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(mt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...b,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Qe(t.onKeyDown,G=>{G.key==="Escape"&&(a==null||a(G.nativeEvent),G.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Qe(t.onPointerDown,G=>{G.button===0&&(N.current={x:G.clientX,y:G.clientY})}),onPointerMove:Qe(t.onPointerMove,G=>{if(!N.current)return;const ue=G.clientX-N.current.x,ie=G.clientY-N.current.y,fe=!!R.current,Y=["left","right"].includes(w.swipeDirection),te=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,re=Y?te(0,ue):0,Ee=Y?0:te(0,ie),B=G.pointerType==="touch"?10:2,Q={x:re,y:Ee},J={originalEvent:G,delta:Q};fe?(R.current=Q,Jy(dq,h,J,{discrete:!1})):xC(Q,w.swipeDirection,B)?(R.current=Q,Jy(uq,d,J,{discrete:!1}),G.target.setPointerCapture(G.pointerId)):(Math.abs(ue)>B||Math.abs(ie)>B)&&(N.current=null)}),onPointerUp:Qe(t.onPointerUp,G=>{const ue=R.current,ie=G.target;if(ie.hasPointerCapture(G.pointerId)&&ie.releasePointerCapture(G.pointerId),R.current=null,N.current=null,ue){const fe=G.currentTarget,Y={originalEvent:G,delta:ue};xC(ue,w.swipeDirection,w.swipeThreshold)?Jy(fq,g,Y,{discrete:!0}):Jy(hq,p,Y,{discrete:!0}),fe.addEventListener("click",te=>te.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),vq=t=>{const{__scopeToast:e,children:n,...r}=t,s=$2(W2,e),[i,o]=E.useState(!1),[a,c]=E.useState(!1);return xq(()=>o(!0)),E.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(Bv,{asChild:!0,children:l.jsx(q2,{...r,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},yq="ToastTitle",L3=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(mt.div,{...r,ref:e})});L3.displayName=yq;var wq="ToastDescription",O3=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(mt.div,{...r,ref:e})});O3.displayName=wq;var D3="ToastAction",M3=E.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?l.jsx(V3,{altText:n,asChild:!0,children:l.jsx(uN,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${D3}\`. Expected non-empty \`string\`.`),null)});M3.displayName=D3;var F3="ToastClose",uN=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=mq(F3,n);return l.jsx(V3,{asChild:!0,children:l.jsx(mt.button,{type:"button",...r,ref:e,onClick:Qe(t.onClick,s.onClose)})})});uN.displayName=F3;var V3=E.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return l.jsx(mt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function U3(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),bq(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...U3(r))}}),e}function Jy(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?aN(s,i):s.dispatchEvent(i)}var xC=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function xq(t=()=>{}){const e=Jn(t);Lr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function bq(t){return t.nodeType===t.ELEMENT_NODE}function _q(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Zx(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Sq=T3,B3=k3,z3=R3,q3=L3,$3=O3,W3=M3,H3=uN;function G3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=G3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function K3(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=G3(t))&&(r&&(r+=" "),r+=e);return r}const bC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,_C=K3,em=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return _C(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const p=bC(d)||bC(h);return s[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:p,...g}=d;return Object.entries(g).every(b=>{let[w,_]=b;return Array.isArray(_)?_.includes({...i,...a}[w]):{...i,...a}[w]===_})?[...u,h,p]:u},[]);return _C(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y3=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Eq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>E.createElement("svg",{ref:c,...Eq,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Y3("lucide",s),...a},[...o.map(([u,d])=>E.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(t,e)=>{const n=E.forwardRef(({className:r,...s},i)=>E.createElement(Aq,{ref:i,iconNode:e,className:Y3(`lucide-${Nq(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=vt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=vt("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=vt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=vt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=vt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=vt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=vt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=vt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=vt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=vt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=vt("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=vt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=vt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=vt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=vt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=vt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=vt("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=vt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=vt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=vt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=vt("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=vt("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=vt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=vt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=vt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=vt("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=vt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=vt("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=vt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=vt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=vt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=vt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=vt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=vt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=vt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=vt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=vt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=vt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=vt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=vt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=vt("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=vt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=vt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=vt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=vt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=vt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=vt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=vt("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=vt("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=vt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=vt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=vt("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=vt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=vt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=vt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=vt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=vt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=vt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=vt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=vt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=vt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=vt("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=vt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hN="-",e$=t=>{const e=n$(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(hN);return a[0]===""&&a.length!==1&&a.shift(),dR(a,e)||t$(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},dR=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?dR(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(hN);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},TC=/^\[(.+)\]$/,t$=t=>{if(TC.test(t)){const e=TC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},n$=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return s$(Object.entries(t.classGroups),n).forEach(([i,o])=>{Q5(o,r,i,e)}),r},Q5=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:IC(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(r$(s)){Q5(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Q5(o,IC(e,i),n,r)})})},IC=(t,e)=>{let n=t;return e.split(hN).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},r$=t=>t.isThemeGetter,s$=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,i$=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},hR="!",o$=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let u=0,d=0,h;for(let _=0;_<a.length;_++){let x=a[_];if(u===0){if(x===s&&(r||a.slice(_,_+i)===e)){c.push(a.slice(d,_)),d=_+i;continue}if(x==="/"){h=_;continue}}x==="["?u++:x==="]"&&u--}const p=c.length===0?a:a.substring(d),g=p.startsWith(hR),b=g?p.substring(1):p,w=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},a$=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},l$=t=>({cache:i$(t.cacheSize),parseClassName:o$(t),...e$(t)}),c$=/\s+/,u$=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(c$);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}=n(u);let b=!!g,w=r(b?p.substring(0,g):p);if(!w){if(!b){a=u+(a.length>0?" "+a:a);continue}if(w=r(p),!w){a=u+(a.length>0?" "+a:a);continue}b=!1}const _=a$(d).join(":"),x=h?_+hR:_,v=x+w;if(i.includes(v))continue;i.push(v);const N=s(w,b);for(let R=0;R<N.length;++R){const M=N[R];i.push(x+M)}a=u+(a.length>0?" "+a:a)}return a};function d$(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=fR(e))&&(r&&(r+=" "),r+=n);return r}const fR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=fR(t[r]))&&(n&&(n+=" "),n+=e);return n};function h$(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((d,h)=>h(d),t());return n=l$(u),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=u$(c,n);return s(c,d),d}return function(){return i(d$.apply(null,arguments))}}const Gn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},pR=/^\[(?:([a-z-]+):)?(.+)\]$/i,f$=/^\d+\/\d+$/,p$=new Set(["px","full","screen"]),m$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,g$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,v$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,y$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,w$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nl=t=>Yf(t)||p$.has(t)||f$.test(t),Bc=t=>tm(t,"length",C$),Yf=t=>!!t&&!Number.isNaN(Number(t)),Jx=t=>tm(t,"number",Yf),Um=t=>!!t&&Number.isInteger(Number(t)),x$=t=>t.endsWith("%")&&Yf(t.slice(0,-1)),Yt=t=>pR.test(t),zc=t=>m$.test(t),b$=new Set(["length","size","percentage"]),_$=t=>tm(t,b$,mR),S$=t=>tm(t,"position",mR),N$=new Set(["image","url"]),E$=t=>tm(t,N$,T$),A$=t=>tm(t,"",P$),Bm=()=>!0,tm=(t,e,n)=>{const r=pR.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},C$=t=>g$.test(t)&&!v$.test(t),mR=()=>!1,P$=t=>y$.test(t),T$=t=>w$.test(t),I$=()=>{const t=Gn("colors"),e=Gn("spacing"),n=Gn("blur"),r=Gn("brightness"),s=Gn("borderColor"),i=Gn("borderRadius"),o=Gn("borderSpacing"),a=Gn("borderWidth"),c=Gn("contrast"),u=Gn("grayscale"),d=Gn("hueRotate"),h=Gn("invert"),p=Gn("gap"),g=Gn("gradientColorStops"),b=Gn("gradientColorStopPositions"),w=Gn("inset"),_=Gn("margin"),x=Gn("opacity"),v=Gn("padding"),N=Gn("saturate"),R=Gn("scale"),M=Gn("sepia"),$=Gn("skew"),I=Gn("space"),P=Gn("translate"),L=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Yt,e],T=()=>[Yt,e],O=()=>["",Nl,Bc],G=()=>["auto",Yf,Yt],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ie=()=>["solid","dashed","dotted","double","none"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",Yt],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ee=()=>[Yf,Yt];return{cacheSize:500,separator:":",theme:{colors:[Bm],spacing:[Nl,Bc],blur:["none","",zc,Yt],brightness:Ee(),borderColor:[t],borderRadius:["none","","full",zc,Yt],borderSpacing:T(),borderWidth:O(),contrast:Ee(),grayscale:te(),hueRotate:Ee(),invert:te(),gap:T(),gradientColorStops:[t],gradientColorStopPositions:[x$,Bc],inset:k(),margin:k(),opacity:Ee(),padding:T(),saturate:Ee(),scale:Ee(),sepia:te(),skew:Ee(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Yt]}],container:["container"],columns:[{columns:[zc]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),Yt]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Um,Yt]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Yt]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",Um,Yt]}],"grid-cols":[{"grid-cols":[Bm]}],"col-start-end":[{col:["auto",{span:["full",Um,Yt]},Yt]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[Bm]}],"row-start-end":[{row:["auto",{span:[Um,Yt]},Yt]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Yt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Yt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Yt,e]}],"min-w":[{"min-w":[Yt,e,"min","max","fit"]}],"max-w":[{"max-w":[Yt,e,"none","full","min","max","fit","prose",{screen:[zc]},zc]}],h:[{h:[Yt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Yt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Yt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Yt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",zc,Bc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jx]}],"font-family":[{font:[Bm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Yt]}],"line-clamp":[{"line-clamp":["none",Yf,Jx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Nl,Yt]}],"list-image":[{"list-image":["none",Yt]}],"list-style-type":[{list:["none","disc","decimal",Yt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Nl,Bc]}],"underline-offset":[{"underline-offset":["auto",Nl,Yt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Yt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Yt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),S$]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_$]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},E$]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...ie(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:ie()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ie()]}],"outline-offset":[{"outline-offset":[Nl,Yt]}],"outline-w":[{outline:[Nl,Bc]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Nl,Bc]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",zc,A$]}],"shadow-color":[{shadow:[Bm]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",zc,Yt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[N]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Yt]}],duration:[{duration:Ee()}],ease:[{ease:["linear","in","out","in-out",Yt]}],delay:[{delay:Ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Yt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Um,Yt]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Yt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Yt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Yt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Nl,Bc,Jx]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},k$=h$(I$);function Xe(...t){return k$(K3(t))}const j$=Sq,gR=E.forwardRef(({className:t,...e},n)=>l.jsx(B3,{ref:n,className:Xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));gR.displayName=B3.displayName;const R$=em("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),vR=E.forwardRef(({className:t,variant:e,...n},r)=>l.jsx(z3,{ref:r,className:Xe(R$({variant:e}),t),...n}));vR.displayName=z3.displayName;const L$=E.forwardRef(({className:t,...e},n)=>l.jsx(W3,{ref:n,className:Xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));L$.displayName=W3.displayName;const yR=E.forwardRef(({className:t,...e},n)=>l.jsx(H3,{ref:n,className:Xe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(ls,{className:"h-4 w-4"})}));yR.displayName=H3.displayName;const wR=E.forwardRef(({className:t,...e},n)=>l.jsx(q3,{ref:n,className:Xe("text-sm font-semibold",t),...e}));wR.displayName=q3.displayName;const xR=E.forwardRef(({className:t,...e},n)=>l.jsx($3,{ref:n,className:Xe("text-sm opacity-90",t),...e}));xR.displayName=$3.displayName;function O$(){const{toasts:t}=Si();return l.jsxs(j$,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return l.jsxs(vR,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(wR,{children:n}),r&&l.jsx(xR,{children:r})]}),s,l.jsx(yR,{})]},e)}),l.jsx(gR,{})]})}const D$=em("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Fe=E.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Xl:"button";return l.jsx(o,{className:Xe(D$({variant:e,size:n,className:t})),ref:i,...s})});Fe.displayName="Button";var M$=E.createContext(void 0);function Ch(t){const e=E.useContext(M$);return t||e||"ltr"}var eb=0;function fN(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??kC()),document.body.insertAdjacentElement("beforeend",t[1]??kC()),eb++,()=>{eb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),eb--}},[])}function kC(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var tb="focusScope.autoFocusOnMount",nb="focusScope.autoFocusOnUnmount",jC={bubbles:!1,cancelable:!0},F$="FocusScope",K2=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=E.useState(null),u=Jn(s),d=Jn(i),h=E.useRef(null),p=$t(e,w=>c(w)),g=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let w=function(N){if(g.paused||!a)return;const R=N.target;a.contains(R)?h.current=R:Kc(h.current,{select:!0})},_=function(N){if(g.paused||!a)return;const R=N.relatedTarget;R!==null&&(a.contains(R)||Kc(h.current,{select:!0}))},x=function(N){if(document.activeElement===document.body)for(const M of N)M.removedNodes.length>0&&Kc(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",_);const v=new MutationObserver(x);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",_),v.disconnect()}}},[r,a,g.paused]),E.useEffect(()=>{if(a){LC.add(g);const w=document.activeElement;if(!a.contains(w)){const x=new CustomEvent(tb,jC);a.addEventListener(tb,u),a.dispatchEvent(x),x.defaultPrevented||(V$($$(bR(a)),{select:!0}),document.activeElement===w&&Kc(a))}return()=>{a.removeEventListener(tb,u),setTimeout(()=>{const x=new CustomEvent(nb,jC);a.addEventListener(nb,d),a.dispatchEvent(x),x.defaultPrevented||Kc(w??document.body,{select:!0}),a.removeEventListener(nb,d),LC.remove(g)},0)}}},[a,u,d,g]);const b=E.useCallback(w=>{if(!n&&!r||g.paused)return;const _=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,x=document.activeElement;if(_&&x){const v=w.currentTarget,[N,R]=U$(v);N&&R?!w.shiftKey&&x===R?(w.preventDefault(),n&&Kc(N,{select:!0})):w.shiftKey&&x===N&&(w.preventDefault(),n&&Kc(R,{select:!0})):x===v&&w.preventDefault()}},[n,r,g.paused]);return l.jsx(mt.div,{tabIndex:-1,...o,ref:p,onKeyDown:b})});K2.displayName=F$;function V$(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Kc(r,{select:e}),document.activeElement!==n)return}function U$(t){const e=bR(t),n=RC(e,t),r=RC(e.reverse(),t);return[n,r]}function bR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function RC(t,e){for(const n of t)if(!B$(n,{upTo:e}))return n}function B$(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function z$(t){return t instanceof HTMLInputElement&&"select"in t}function Kc(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&z$(t)&&e&&t.select()}}var LC=q$();function q$(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=OC(t,e),t.unshift(e)},remove(e){var n;t=OC(t,e),(n=t[0])==null||n.resume()}}}function OC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function $$(t){return t.filter(e=>e.tagName!=="A")}var W$=JI.useId||(()=>{}),H$=0;function po(t){const[e,n]=E.useState(W$());return Lr(()=>{n(r=>r??String(H$++))},[t]),e?`radix-${e}`:""}const G$=["top","right","bottom","left"],Du=Math.min,Di=Math.max,A1=Math.round,e0=Math.floor,Ba=t=>({x:t,y:t}),K$={left:"right",right:"left",bottom:"top",top:"bottom"},Y$={start:"end",end:"start"};function X5(t,e,n){return Di(t,Du(e,n))}function Zl(t,e){return typeof t=="function"?t(e):t}function Jl(t){return t.split("-")[0]}function nm(t){return t.split("-")[1]}function pN(t){return t==="x"?"y":"x"}function mN(t){return t==="y"?"height":"width"}function Mu(t){return["top","bottom"].includes(Jl(t))?"y":"x"}function gN(t){return pN(Mu(t))}function Q$(t,e,n){n===void 0&&(n=!1);const r=nm(t),s=gN(t),i=mN(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=C1(o)),[o,C1(o)]}function X$(t){const e=C1(t);return[Z5(t),e,Z5(e)]}function Z5(t){return t.replace(/start|end/g,e=>Y$[e])}function Z$(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function J$(t,e,n,r){const s=nm(t);let i=Z$(Jl(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Z5)))),i}function C1(t){return t.replace(/left|right|bottom|top/g,e=>K$[e])}function eW(t){return{top:0,right:0,bottom:0,left:0,...t}}function _R(t){return typeof t!="number"?eW(t):{top:t,right:t,bottom:t,left:t}}function P1(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function DC(t,e,n){let{reference:r,floating:s}=t;const i=Mu(e),o=gN(e),a=mN(o),c=Jl(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let g;switch(c){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-s.width,y:h};break;default:g={x:r.x,y:r.y}}switch(nm(e)){case"start":g[o]-=p*(n&&u?-1:1);break;case"end":g[o]+=p*(n&&u?-1:1);break}return g}const tW=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=DC(u,r,c),p=r,g={},b=0;for(let w=0;w<a.length;w++){const{name:_,fn:x}=a[w],{x:v,y:N,data:R,reset:M}=await x({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});d=v??d,h=N??h,g={...g,[_]:{...g[_],...R}},M&&b<=50&&(b++,typeof M=="object"&&(M.placement&&(p=M.placement),M.rects&&(u=M.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):M.rects),{x:d,y:h}=DC(u,p,c)),w=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:g}};async function Qg(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=Zl(e,t),b=_R(g),_=a[p?h==="floating"?"reference":"floating":h],x=P1(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),v=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),R=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},M=P1(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:N,strategy:c}):v);return{top:(x.top-M.top+b.top)/R.y,bottom:(M.bottom-x.bottom+b.bottom)/R.y,left:(x.left-M.left+b.left)/R.x,right:(M.right-x.right+b.right)/R.x}}const nW=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:d=0}=Zl(t,e)||{};if(u==null)return{};const h=_R(d),p={x:n,y:r},g=gN(s),b=mN(g),w=await o.getDimensions(u),_=g==="y",x=_?"top":"left",v=_?"bottom":"right",N=_?"clientHeight":"clientWidth",R=i.reference[b]+i.reference[g]-p[g]-i.floating[b],M=p[g]-i.reference[g],$=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=$?$[N]:0;(!I||!await(o.isElement==null?void 0:o.isElement($)))&&(I=a.floating[N]||i.floating[b]);const P=R/2-M/2,L=I/2-w[b]/2-1,F=Du(h[x],L),k=Du(h[v],L),T=F,O=I-w[b]-k,G=I/2-w[b]/2+P,ue=X5(T,G,O),ie=!c.arrow&&nm(s)!=null&&G!==ue&&i.reference[b]/2-(G<T?F:k)-w[b]/2<0,fe=ie?G<T?G-T:G-O:0;return{[g]:p[g]+fe,data:{[g]:ue,centerOffset:G-ue-fe,...ie&&{alignmentOffset:fe}},reset:ie}}}),rW=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,..._}=Zl(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Jl(s),v=Mu(a),N=Jl(a)===a,R=await(c.isRTL==null?void 0:c.isRTL(u.floating)),M=p||(N||!w?[C1(a)]:X$(a)),$=b!=="none";!p&&$&&M.push(...J$(a,w,b,R));const I=[a,...M],P=await Qg(e,_),L=[];let F=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&L.push(P[x]),h){const G=Q$(s,o,R);L.push(P[G[0]],P[G[1]])}if(F=[...F,{placement:s,overflows:L}],!L.every(G=>G<=0)){var k,T;const G=(((k=i.flip)==null?void 0:k.index)||0)+1,ue=I[G];if(ue)return{data:{index:G,overflows:F},reset:{placement:ue}};let ie=(T=F.filter(fe=>fe.overflows[0]<=0).sort((fe,Y)=>fe.overflows[1]-Y.overflows[1])[0])==null?void 0:T.placement;if(!ie)switch(g){case"bestFit":{var O;const fe=(O=F.filter(Y=>{if($){const te=Mu(Y.placement);return te===v||te==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(te=>te>0).reduce((te,re)=>te+re,0)]).sort((Y,te)=>Y[1]-te[1])[0])==null?void 0:O[0];fe&&(ie=fe);break}case"initialPlacement":ie=a;break}if(s!==ie)return{reset:{placement:ie}}}return{}}}};function MC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function FC(t){return G$.some(e=>t[e]>=0)}const sW=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Zl(t,e);switch(r){case"referenceHidden":{const i=await Qg(e,{...s,elementContext:"reference"}),o=MC(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:FC(o)}}}case"escaped":{const i=await Qg(e,{...s,altBoundary:!0}),o=MC(i,n.floating);return{data:{escapedOffsets:o,escaped:FC(o)}}}default:return{}}}}};async function iW(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Jl(n),a=nm(n),c=Mu(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,h=Zl(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:b}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof b=="number"&&(g=a==="end"?b*-1:b),c?{x:g*d,y:p*u}:{x:p*u,y:g*d}}const oW=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await iW(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},aW=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x,y:v}=_;return{x,y:v}}},...c}=Zl(t,e),u={x:n,y:r},d=await Qg(e,c),h=Mu(Jl(s)),p=pN(h);let g=u[p],b=u[h];if(i){const _=p==="y"?"top":"left",x=p==="y"?"bottom":"right",v=g+d[_],N=g-d[x];g=X5(v,g,N)}if(o){const _=h==="y"?"top":"left",x=h==="y"?"bottom":"right",v=b+d[_],N=b-d[x];b=X5(v,b,N)}const w=a.fn({...e,[p]:g,[h]:b});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:i,[h]:o}}}}}},lW=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Zl(t,e),d={x:n,y:r},h=Mu(s),p=pN(h);let g=d[p],b=d[h];const w=Zl(a,e),_=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const N=p==="y"?"height":"width",R=i.reference[p]-i.floating[N]+_.mainAxis,M=i.reference[p]+i.reference[N]-_.mainAxis;g<R?g=R:g>M&&(g=M)}if(u){var x,v;const N=p==="y"?"width":"height",R=["top","left"].includes(Jl(s)),M=i.reference[h]-i.floating[N]+(R&&((x=o.offset)==null?void 0:x[h])||0)+(R?0:_.crossAxis),$=i.reference[h]+i.reference[N]+(R?0:((v=o.offset)==null?void 0:v[h])||0)-(R?_.crossAxis:0);b<M?b=M:b>$&&(b=$)}return{[p]:g,[h]:b}}}},cW=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Zl(t,e),d=await Qg(e,u),h=Jl(s),p=nm(s),g=Mu(s)==="y",{width:b,height:w}=i.floating;let _,x;h==="top"||h==="bottom"?(_=h,x=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=h,_=p==="end"?"top":"bottom");const v=w-d.top-d.bottom,N=b-d.left-d.right,R=Du(w-d[_],v),M=Du(b-d[x],N),$=!e.middlewareData.shift;let I=R,P=M;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=N),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=v),$&&!p){const F=Di(d.left,0),k=Di(d.right,0),T=Di(d.top,0),O=Di(d.bottom,0);g?P=b-2*(F!==0||k!==0?F+k:Di(d.left,d.right)):I=w-2*(T!==0||O!==0?T+O:Di(d.top,d.bottom))}await c({...e,availableWidth:P,availableHeight:I});const L=await o.getDimensions(a.floating);return b!==L.width||w!==L.height?{reset:{rects:!0}}:{}}}};function Y2(){return typeof window<"u"}function rm(t){return SR(t)?(t.nodeName||"").toLowerCase():"#document"}function qi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function tl(t){var e;return(e=(SR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function SR(t){return Y2()?t instanceof Node||t instanceof qi(t).Node:!1}function sa(t){return Y2()?t instanceof Element||t instanceof qi(t).Element:!1}function Qa(t){return Y2()?t instanceof HTMLElement||t instanceof qi(t).HTMLElement:!1}function VC(t){return!Y2()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof qi(t).ShadowRoot}function zv(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ia(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function uW(t){return["table","td","th"].includes(rm(t))}function Q2(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function vN(t){const e=yN(),n=sa(t)?ia(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function dW(t){let e=Fu(t);for(;Qa(e)&&!Rp(e);){if(vN(e))return e;if(Q2(e))return null;e=Fu(e)}return null}function yN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Rp(t){return["html","body","#document"].includes(rm(t))}function ia(t){return qi(t).getComputedStyle(t)}function X2(t){return sa(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Fu(t){if(rm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||VC(t)&&t.host||tl(t);return VC(e)?e.host:e}function NR(t){const e=Fu(t);return Rp(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qa(e)&&zv(e)?e:NR(e)}function Xg(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=NR(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=qi(s);if(i){const a=J5(o);return e.concat(o,o.visualViewport||[],zv(s)?s:[],a&&n?Xg(a):[])}return e.concat(s,Xg(s,[],n))}function J5(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ER(t){const e=ia(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Qa(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=A1(n)!==i||A1(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function wN(t){return sa(t)?t:t.contextElement}function Qf(t){const e=wN(t);if(!Qa(e))return Ba(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=ER(e);let o=(i?A1(n.width):n.width)/r,a=(i?A1(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const hW=Ba(0);function AR(t){const e=qi(t);return!yN()||!e.visualViewport?hW:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fW(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==qi(t)?!1:e}function lh(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=wN(t);let o=Ba(1);e&&(r?sa(r)&&(o=Qf(r)):o=Qf(t));const a=fW(i,n,r)?AR(i):Ba(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=qi(i),g=r&&sa(r)?qi(r):r;let b=p,w=J5(b);for(;w&&r&&g!==b;){const _=Qf(w),x=w.getBoundingClientRect(),v=ia(w),N=x.left+(w.clientLeft+parseFloat(v.paddingLeft))*_.x,R=x.top+(w.clientTop+parseFloat(v.paddingTop))*_.y;c*=_.x,u*=_.y,d*=_.x,h*=_.y,c+=N,u+=R,b=qi(w),w=J5(b)}}return P1({width:d,height:h,x:c,y:u})}function xN(t,e){const n=X2(t).scrollLeft;return e?e.left+n:lh(tl(t)).left+n}function CR(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:xN(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function pW(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=tl(r),a=e?Q2(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Ba(1);const d=Ba(0),h=Qa(r);if((h||!h&&!i)&&((rm(r)!=="body"||zv(o))&&(c=X2(r)),Qa(r))){const g=lh(r);u=Qf(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const p=o&&!h&&!i?CR(o,c,!0):Ba(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function mW(t){return Array.from(t.getClientRects())}function gW(t){const e=tl(t),n=X2(t),r=t.ownerDocument.body,s=Di(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Di(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+xN(t);const a=-n.scrollTop;return ia(r).direction==="rtl"&&(o+=Di(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function vW(t,e){const n=qi(t),r=tl(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=yN();(!u||u&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function yW(t,e){const n=lh(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Qa(t)?Qf(t):Ba(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function UC(t,e,n){let r;if(e==="viewport")r=vW(t,n);else if(e==="document")r=gW(tl(t));else if(sa(e))r=yW(e,n);else{const s=AR(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return P1(r)}function PR(t,e){const n=Fu(t);return n===e||!sa(n)||Rp(n)?!1:ia(n).position==="fixed"||PR(n,e)}function wW(t,e){const n=e.get(t);if(n)return n;let r=Xg(t,[],!1).filter(a=>sa(a)&&rm(a)!=="body"),s=null;const i=ia(t).position==="fixed";let o=i?Fu(t):t;for(;sa(o)&&!Rp(o);){const a=ia(o),c=vN(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||zv(o)&&!c&&PR(t,o))?r=r.filter(d=>d!==o):s=a,o=Fu(o)}return e.set(t,r),r}function xW(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Q2(e)?[]:wW(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,d)=>{const h=UC(e,d,s);return u.top=Di(h.top,u.top),u.right=Du(h.right,u.right),u.bottom=Du(h.bottom,u.bottom),u.left=Di(h.left,u.left),u},UC(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function bW(t){const{width:e,height:n}=ER(t);return{width:e,height:n}}function _W(t,e,n){const r=Qa(e),s=tl(e),i=n==="fixed",o=lh(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=Ba(0);if(r||!r&&!i)if((rm(e)!=="body"||zv(s))&&(a=X2(e)),r){const p=lh(e,!0,i,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else s&&(c.x=xN(s));const u=s&&!r&&!i?CR(s,a):Ba(0),d=o.left+a.scrollLeft-c.x-u.x,h=o.top+a.scrollTop-c.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function rb(t){return ia(t).position==="static"}function BC(t,e){if(!Qa(t)||ia(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return tl(t)===n&&(n=n.ownerDocument.body),n}function TR(t,e){const n=qi(t);if(Q2(t))return n;if(!Qa(t)){let s=Fu(t);for(;s&&!Rp(s);){if(sa(s)&&!rb(s))return s;s=Fu(s)}return n}let r=BC(t,e);for(;r&&uW(r)&&rb(r);)r=BC(r,e);return r&&Rp(r)&&rb(r)&&!vN(r)?n:r||dW(t)||n}const SW=async function(t){const e=this.getOffsetParent||TR,n=this.getDimensions,r=await n(t.floating);return{reference:_W(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function NW(t){return ia(t).direction==="rtl"}const EW={convertOffsetParentRelativeRectToViewportRelativeRect:pW,getDocumentElement:tl,getClippingRect:xW,getOffsetParent:TR,getElementRects:SW,getClientRects:mW,getDimensions:bW,getScale:Qf,isElement:sa,isRTL:NW};function IR(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function AW(t,e){let n=null,r;const s=tl(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:p,height:g}=u;if(a||e(),!p||!g)return;const b=e0(h),w=e0(s.clientWidth-(d+p)),_=e0(s.clientHeight-(h+g)),x=e0(d),N={rootMargin:-b+"px "+-w+"px "+-_+"px "+-x+"px",threshold:Di(0,Du(1,c))||1};let R=!0;function M($){const I=$[0].intersectionRatio;if(I!==c){if(!R)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!IR(u,t.getBoundingClientRect())&&o(),R=!1}try{n=new IntersectionObserver(M,{...N,root:s.ownerDocument})}catch{n=new IntersectionObserver(M,N)}n.observe(t)}return o(!0),i}function CW(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=wN(t),d=s||i?[...u?Xg(u):[],...Xg(e)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const h=u&&a?AW(u,n):null;let p=-1,g=null;o&&(g=new ResizeObserver(x=>{let[v]=x;v&&v.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var N;(N=g)==null||N.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let b,w=c?lh(t):null;c&&_();function _(){const x=lh(t);w&&!IR(w,x)&&n(),w=x,b=requestAnimationFrame(_)}return n(),()=>{var x;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),h==null||h(),(x=g)==null||x.disconnect(),g=null,c&&cancelAnimationFrame(b)}}const PW=oW,TW=aW,IW=rW,kW=cW,jW=sW,zC=nW,RW=lW,LW=(t,e,n)=>{const r=new Map,s={platform:EW,...n},i={...s.platform,_c:r};return tW(t,e,{...s,platform:i})};var j0=typeof document<"u"?E.useLayoutEffect:E.useEffect;function T1(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!T1(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!T1(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function kR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function qC(t,e){const n=kR(t);return Math.round(e*n)/n}function sb(t){const e=E.useRef(t);return j0(()=>{e.current=t}),e}function OW(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[d,h]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=E.useState(r);T1(p,r)||g(r);const[b,w]=E.useState(null),[_,x]=E.useState(null),v=E.useCallback(Y=>{Y!==$.current&&($.current=Y,w(Y))},[]),N=E.useCallback(Y=>{Y!==I.current&&(I.current=Y,x(Y))},[]),R=i||b,M=o||_,$=E.useRef(null),I=E.useRef(null),P=E.useRef(d),L=c!=null,F=sb(c),k=sb(s),T=sb(u),O=E.useCallback(()=>{if(!$.current||!I.current)return;const Y={placement:e,strategy:n,middleware:p};k.current&&(Y.platform=k.current),LW($.current,I.current,Y).then(te=>{const re={...te,isPositioned:T.current!==!1};G.current&&!T1(P.current,re)&&(P.current=re,Ah.flushSync(()=>{h(re)}))})},[p,e,n,k,T]);j0(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h(Y=>({...Y,isPositioned:!1})))},[u]);const G=E.useRef(!1);j0(()=>(G.current=!0,()=>{G.current=!1}),[]),j0(()=>{if(R&&($.current=R),M&&(I.current=M),R&&M){if(F.current)return F.current(R,M,O);O()}},[R,M,O,F,L]);const ue=E.useMemo(()=>({reference:$,floating:I,setReference:v,setFloating:N}),[v,N]),ie=E.useMemo(()=>({reference:R,floating:M}),[R,M]),fe=E.useMemo(()=>{const Y={position:n,left:0,top:0};if(!ie.floating)return Y;const te=qC(ie.floating,d.x),re=qC(ie.floating,d.y);return a?{...Y,transform:"translate("+te+"px, "+re+"px)",...kR(ie.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:te,top:re}},[n,a,ie.floating,d.x,d.y]);return E.useMemo(()=>({...d,update:O,refs:ue,elements:ie,floatingStyles:fe}),[d,O,ue,ie,fe])}const DW=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?zC({element:r.current,padding:s}).fn(n):{}:r?zC({element:r,padding:s}).fn(n):{}}}},MW=(t,e)=>({...PW(t),options:[t,e]}),FW=(t,e)=>({...TW(t),options:[t,e]}),VW=(t,e)=>({...RW(t),options:[t,e]}),UW=(t,e)=>({...IW(t),options:[t,e]}),BW=(t,e)=>({...kW(t),options:[t,e]}),zW=(t,e)=>({...jW(t),options:[t,e]}),qW=(t,e)=>({...DW(t),options:[t,e]});var $W="Arrow",jR=E.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return l.jsx(mt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});jR.displayName=$W;var WW=jR;function Z2(t){const[e,n]=E.useState(void 0);return Lr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var bN="Popper",[RR,J2]=Ls(bN),[HW,LR]=RR(bN),OR=t=>{const{__scopePopper:e,children:n}=t,[r,s]=E.useState(null);return l.jsx(HW,{scope:e,anchor:r,onAnchorChange:s,children:n})};OR.displayName=bN;var DR="PopperAnchor",MR=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=LR(DR,n),o=E.useRef(null),a=$t(e,o);return E.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(mt.div,{...s,ref:a})});MR.displayName=DR;var _N="PopperContent",[GW,KW]=RR(_N),FR=E.forwardRef((t,e)=>{var oe,we,xe,je,ke,Ue;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:b,...w}=t,_=LR(_N,n),[x,v]=E.useState(null),N=$t(e,We=>v(We)),[R,M]=E.useState(null),$=Z2(R),I=($==null?void 0:$.width)??0,P=($==null?void 0:$.height)??0,L=r+(i!=="center"?"-"+i:""),F=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],T=k.length>0,O={padding:F,boundary:k.filter(QW),altBoundary:T},{refs:G,floatingStyles:ue,placement:ie,isPositioned:fe,middlewareData:Y}=OW({strategy:"fixed",placement:L,whileElementsMounted:(...We)=>CW(...We,{animationFrame:g==="always"}),elements:{reference:_.anchor},middleware:[MW({mainAxis:s+P,alignmentAxis:o}),c&&FW({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?VW():void 0,...O}),c&&UW({...O}),BW({...O,apply:({elements:We,rects:ut,availableWidth:Ae,availableHeight:ne})=>{const{width:_t,height:dt}=ut.reference,qe=We.floating.style;qe.setProperty("--radix-popper-available-width",`${Ae}px`),qe.setProperty("--radix-popper-available-height",`${ne}px`),qe.setProperty("--radix-popper-anchor-width",`${_t}px`),qe.setProperty("--radix-popper-anchor-height",`${dt}px`)}}),R&&qW({element:R,padding:a}),XW({arrowWidth:I,arrowHeight:P}),p&&zW({strategy:"referenceHidden",...O})]}),[te,re]=BR(ie),Ee=Jn(b);Lr(()=>{fe&&(Ee==null||Ee())},[fe,Ee]);const B=(oe=Y.arrow)==null?void 0:oe.x,Q=(we=Y.arrow)==null?void 0:we.y,J=((xe=Y.arrow)==null?void 0:xe.centerOffset)!==0,[se,le]=E.useState();return Lr(()=>{x&&le(window.getComputedStyle(x).zIndex)},[x]),l.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:fe?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[(je=Y.transformOrigin)==null?void 0:je.x,(ke=Y.transformOrigin)==null?void 0:ke.y].join(" "),...((Ue=Y.hide)==null?void 0:Ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(GW,{scope:n,placedSide:te,onArrowChange:M,arrowX:B,arrowY:Q,shouldHideArrow:J,children:l.jsx(mt.div,{"data-side":te,"data-align":re,...w,ref:N,style:{...w.style,animation:fe?void 0:"none"}})})})});FR.displayName=_N;var VR="PopperArrow",YW={top:"bottom",right:"left",bottom:"top",left:"right"},UR=E.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=KW(VR,r),o=YW[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(WW,{...s,ref:n,style:{...s.style,display:"block"}})})});UR.displayName=VR;function QW(t){return t!==null}var XW=t=>({name:"transformOrigin",options:t,fn(e){var _,x,v;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=BR(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,g=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let b="",w="";return u==="bottom"?(b=o?h:`${p}px`,w=`${-c}px`):u==="top"?(b=o?h:`${p}px`,w=`${r.floating.height+c}px`):u==="right"?(b=`${-c}px`,w=o?h:`${g}px`):u==="left"&&(b=`${r.floating.width+c}px`,w=o?h:`${g}px`),{data:{x:b,y:w}}}});function BR(t){const[e,n="center"]=t.split("-");return[e,n]}var zR=OR,qR=MR,$R=FR,WR=UR,ib="rovingFocusGroup.onEntryFocus",ZW={bubbles:!1,cancelable:!0},ew="RovingFocusGroup",[e_,HR,JW]=Jp(ew),[eH,tw]=Ls(ew,[JW]),[tH,nH]=eH(ew),GR=E.forwardRef((t,e)=>l.jsx(e_.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(e_.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(rH,{...t,ref:e})})}));GR.displayName=ew;var rH=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,p=E.useRef(null),g=$t(e,p),b=Ch(i),[w=null,_]=Hi({prop:o,defaultProp:a,onChange:c}),[x,v]=E.useState(!1),N=Jn(u),R=HR(n),M=E.useRef(!1),[$,I]=E.useState(0);return E.useEffect(()=>{const P=p.current;if(P)return P.addEventListener(ib,N),()=>P.removeEventListener(ib,N)},[N]),l.jsx(tH,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:w,onItemFocus:E.useCallback(P=>_(P),[_]),onItemShiftTab:E.useCallback(()=>v(!0),[]),onFocusableItemAdd:E.useCallback(()=>I(P=>P+1),[]),onFocusableItemRemove:E.useCallback(()=>I(P=>P-1),[]),children:l.jsx(mt.div,{tabIndex:x||$===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:Qe(t.onMouseDown,()=>{M.current=!0}),onFocus:Qe(t.onFocus,P=>{const L=!M.current;if(P.target===P.currentTarget&&L&&!x){const F=new CustomEvent(ib,ZW);if(P.currentTarget.dispatchEvent(F),!F.defaultPrevented){const k=R().filter(ie=>ie.focusable),T=k.find(ie=>ie.active),O=k.find(ie=>ie.id===w),ue=[T,O,...k].filter(Boolean).map(ie=>ie.ref.current);QR(ue,d)}}M.current=!1}),onBlur:Qe(t.onBlur,()=>v(!1))})})}),KR="RovingFocusGroupItem",YR=E.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=po(),c=i||a,u=nH(KR,n),d=u.currentTabStopId===c,h=HR(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=u;return E.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),l.jsx(e_.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:l.jsx(mt.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:Qe(t.onMouseDown,b=>{r?u.onItemFocus(c):b.preventDefault()}),onFocus:Qe(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Qe(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){u.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const w=oH(b,u.orientation,u.dir);if(w!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let x=h().filter(v=>v.focusable).map(v=>v.ref.current);if(w==="last")x.reverse();else if(w==="prev"||w==="next"){w==="prev"&&x.reverse();const v=x.indexOf(b.currentTarget);x=u.loop?aH(x,v+1):x.slice(v+1)}setTimeout(()=>QR(x))}})})})});YR.displayName=KR;var sH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function iH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function oH(t,e,n){const r=iH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return sH[r]}function QR(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function aH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var XR=GR,ZR=YR,lH=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},lf=new WeakMap,t0=new WeakMap,n0={},ob=0,JR=function(t){return t&&(t.host||JR(t.parentNode))},cH=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=JR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},uH=function(t,e,n,r){var s=cH(e,Array.isArray(t)?t:[t]);n0[n]||(n0[n]=new WeakMap);var i=n0[n],o=[],a=new Set,c=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var g=p.getAttribute(r),b=g!==null&&g!=="false",w=(lf.get(p)||0)+1,_=(i.get(p)||0)+1;lf.set(p,w),i.set(p,_),o.push(p),w===1&&b&&t0.set(p,!0),_===1&&p.setAttribute(n,"true"),b||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return d(e),a.clear(),ob++,function(){o.forEach(function(h){var p=lf.get(h)-1,g=i.get(h)-1;lf.set(h,p),i.set(h,g),p||(t0.has(h)||h.removeAttribute(r),t0.delete(h)),g||h.removeAttribute(n)}),ob--,ob||(lf=new WeakMap,lf=new WeakMap,t0=new WeakMap,n0={})}},SN=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=lH(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),uH(r,s,n,"aria-hidden")):function(){return null}},Da=function(){return Da=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Da.apply(this,arguments)};function qv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function dH(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var R0="right-scroll-bar-position",L0="width-before-scroll-bar",hH="with-scroll-bars-hidden",fH="--removed-body-scroll-bar-size";function ab(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function pH(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var mH=typeof window<"u"?E.useLayoutEffect:E.useEffect,$C=new WeakMap;function gH(t,e){var n=pH(null,function(r){return t.forEach(function(s){return ab(s,r)})});return mH(function(){var r=$C.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||ab(a,null)}),i.forEach(function(a){s.has(a)||ab(a,o)})}$C.set(n,t)},[t]),n}function vH(t){return t}function yH(t,e){e===void 0&&(e=vH);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function wH(t){t===void 0&&(t={});var e=yH(null);return e.options=Da({async:!0,ssr:!1},t),e}var e6=function(t){var e=t.sideCar,n=qv(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Da({},n))};e6.isSideCarExport=!0;function xH(t,e){return t.useMedium(e),e6}var t6=wH(),lb=function(){},nw=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:lb,onWheelCapture:lb,onTouchMoveCapture:lb}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,g=t.noIsolation,b=t.inert,w=t.allowPinchZoom,_=t.as,x=_===void 0?"div":_,v=t.gapMode,N=qv(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=p,M=gH([n,e]),$=Da(Da({},N),s);return E.createElement(E.Fragment,null,d&&E.createElement(R,{sideCar:t6,removeScrollBar:u,shards:h,noIsolation:g,inert:b,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:v}),o?E.cloneElement(E.Children.only(a),Da(Da({},$),{ref:M})):E.createElement(x,Da({},$,{className:c,ref:M}),a))});nw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nw.classNames={fullWidth:L0,zeroRight:R0};var bH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _H(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=bH();return e&&t.setAttribute("nonce",e),t}function SH(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function NH(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var EH=function(){var t=0,e=null;return{add:function(n){t==0&&(e=_H())&&(SH(e,n),NH(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},AH=function(){var t=EH();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},n6=function(){var t=AH(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},CH={left:0,top:0,right:0,gap:0},cb=function(t){return parseInt(t||"",10)||0},PH=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[cb(n),cb(r),cb(s)]},TH=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return CH;var e=PH(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},IH=n6(),Xf="data-scroll-locked",kH=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(hH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Xf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(R0,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(L0,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(R0," .").concat(R0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(L0," .").concat(L0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Xf,`] {
    `).concat(fH,": ").concat(a,`px;
  }
`)},WC=function(){var t=parseInt(document.body.getAttribute(Xf)||"0",10);return isFinite(t)?t:0},jH=function(){E.useEffect(function(){return document.body.setAttribute(Xf,(WC()+1).toString()),function(){var t=WC()-1;t<=0?document.body.removeAttribute(Xf):document.body.setAttribute(Xf,t.toString())}},[])},RH=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;jH();var i=E.useMemo(function(){return TH(s)},[s]);return E.createElement(IH,{styles:kH(i,!e,s,n?"":"!important")})},t_=!1;if(typeof window<"u")try{var r0=Object.defineProperty({},"passive",{get:function(){return t_=!0,!0}});window.addEventListener("test",r0,r0),window.removeEventListener("test",r0,r0)}catch{t_=!1}var cf=t_?{passive:!1}:!1,LH=function(t){return t.tagName==="TEXTAREA"},r6=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!LH(t)&&n[e]==="visible")},OH=function(t){return r6(t,"overflowY")},DH=function(t){return r6(t,"overflowX")},HC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=s6(t,r);if(s){var i=i6(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},MH=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},FH=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},s6=function(t,e){return t==="v"?OH(e):DH(e)},i6=function(t,e){return t==="v"?MH(e):FH(e)},VH=function(t,e){return t==="h"&&e==="rtl"?-1:1},UH=function(t,e,n,r,s){var i=VH(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),u=!1,d=o>0,h=0,p=0;do{var g=i6(t,a),b=g[0],w=g[1],_=g[2],x=w-_-i*b;(b||x)&&s6(t,a)&&(h+=x,p+=b),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(u=!0),u},s0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},GC=function(t){return[t.deltaX,t.deltaY]},KC=function(t){return t&&"current"in t?t.current:t},BH=function(t,e){return t[0]===e[0]&&t[1]===e[1]},zH=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},qH=0,uf=[];function $H(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),s=E.useState(qH++)[0],i=E.useState(n6)[0],o=E.useRef(t);E.useEffect(function(){o.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var w=dH([t.lockRef.current],(t.shards||[]).map(KC),!0).filter(Boolean);return w.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=E.useCallback(function(w,_){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var x=s0(w),v=n.current,N="deltaX"in w?w.deltaX:v[0]-x[0],R="deltaY"in w?w.deltaY:v[1]-x[1],M,$=w.target,I=Math.abs(N)>Math.abs(R)?"h":"v";if("touches"in w&&I==="h"&&$.type==="range")return!1;var P=HC(I,$);if(!P)return!0;if(P?M=I:(M=I==="v"?"h":"v",P=HC(I,$)),!P)return!1;if(!r.current&&"changedTouches"in w&&(N||R)&&(r.current=M),!M)return!0;var L=r.current||M;return UH(L,_,w,L==="h"?N:R)},[]),c=E.useCallback(function(w){var _=w;if(!(!uf.length||uf[uf.length-1]!==i)){var x="deltaY"in _?GC(_):s0(_),v=e.current.filter(function(M){return M.name===_.type&&(M.target===_.target||_.target===M.shadowParent)&&BH(M.delta,x)})[0];if(v&&v.should){_.cancelable&&_.preventDefault();return}if(!v){var N=(o.current.shards||[]).map(KC).filter(Boolean).filter(function(M){return M.contains(_.target)}),R=N.length>0?a(_,N[0]):!o.current.noIsolation;R&&_.cancelable&&_.preventDefault()}}},[]),u=E.useCallback(function(w,_,x,v){var N={name:w,delta:_,target:x,should:v,shadowParent:WH(x)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(R){return R!==N})},1)},[]),d=E.useCallback(function(w){n.current=s0(w),r.current=void 0},[]),h=E.useCallback(function(w){u(w.type,GC(w),w.target,a(w,t.lockRef.current))},[]),p=E.useCallback(function(w){u(w.type,s0(w),w.target,a(w,t.lockRef.current))},[]);E.useEffect(function(){return uf.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,cf),document.addEventListener("touchmove",c,cf),document.addEventListener("touchstart",d,cf),function(){uf=uf.filter(function(w){return w!==i}),document.removeEventListener("wheel",c,cf),document.removeEventListener("touchmove",c,cf),document.removeEventListener("touchstart",d,cf)}},[]);var g=t.removeScrollBar,b=t.inert;return E.createElement(E.Fragment,null,b?E.createElement(i,{styles:zH(s)}):null,g?E.createElement(RH,{gapMode:t.gapMode}):null)}function WH(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const HH=xH(t6,$H);var rw=E.forwardRef(function(t,e){return E.createElement(nw,Da({},t,{ref:e,sideCar:HH}))});rw.classNames=nw.classNames;var n_=["Enter"," "],GH=["ArrowDown","PageUp","Home"],o6=["ArrowUp","PageDown","End"],KH=[...GH,...o6],YH={ltr:[...n_,"ArrowRight"],rtl:[...n_,"ArrowLeft"]},QH={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$v="Menu",[Zg,XH,ZH]=Jp($v),[Ph,a6]=Ls($v,[ZH,J2,tw]),sw=J2(),l6=tw(),[JH,Th]=Ph($v),[eG,Wv]=Ph($v),c6=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=sw(e),[c,u]=E.useState(null),d=E.useRef(!1),h=Jn(i),p=Ch(s);return E.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),l.jsx(zR,{...a,children:l.jsx(JH,{scope:e,open:n,onOpenChange:h,content:c,onContentChange:u,children:l.jsx(eG,{scope:e,onClose:E.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:o,children:r})})})};c6.displayName=$v;var tG="MenuAnchor",NN=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=sw(n);return l.jsx(qR,{...s,...r,ref:e})});NN.displayName=tG;var EN="MenuPortal",[nG,u6]=Ph(EN,{forceMount:void 0}),d6=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Th(EN,e);return l.jsx(nG,{scope:e,forceMount:n,children:l.jsx(Os,{present:n||i.open,children:l.jsx(Bv,{asChild:!0,container:s,children:r})})})};d6.displayName=EN;var mo="MenuContent",[rG,AN]=Ph(mo),h6=E.forwardRef((t,e)=>{const n=u6(mo,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Th(mo,t.__scopeMenu),o=Wv(mo,t.__scopeMenu);return l.jsx(Zg.Provider,{scope:t.__scopeMenu,children:l.jsx(Os,{present:r||i.open,children:l.jsx(Zg.Slot,{scope:t.__scopeMenu,children:o.modal?l.jsx(sG,{...s,ref:e}):l.jsx(iG,{...s,ref:e})})})})}),sG=E.forwardRef((t,e)=>{const n=Th(mo,t.__scopeMenu),r=E.useRef(null),s=$t(e,r);return E.useEffect(()=>{const i=r.current;if(i)return SN(i)},[]),l.jsx(CN,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Qe(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),iG=E.forwardRef((t,e)=>{const n=Th(mo,t.__scopeMenu);return l.jsx(CN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),CN=E.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:g,disableOutsideScroll:b,...w}=t,_=Th(mo,n),x=Wv(mo,n),v=sw(n),N=l6(n),R=XH(n),[M,$]=E.useState(null),I=E.useRef(null),P=$t(e,I,_.onContentChange),L=E.useRef(0),F=E.useRef(""),k=E.useRef(0),T=E.useRef(null),O=E.useRef("right"),G=E.useRef(0),ue=b?rw:E.Fragment,ie=b?{as:Xl,allowPinchZoom:!0}:void 0,fe=te=>{var oe,we;const re=F.current+te,Ee=R().filter(xe=>!xe.disabled),B=document.activeElement,Q=(oe=Ee.find(xe=>xe.ref.current===B))==null?void 0:oe.textValue,J=Ee.map(xe=>xe.textValue),se=vG(J,re,Q),le=(we=Ee.find(xe=>xe.textValue===se))==null?void 0:we.ref.current;(function xe(je){F.current=je,window.clearTimeout(L.current),je!==""&&(L.current=window.setTimeout(()=>xe(""),1e3))})(re),le&&setTimeout(()=>le.focus())};E.useEffect(()=>()=>window.clearTimeout(L.current),[]),fN();const Y=E.useCallback(te=>{var Ee,B;return O.current===((Ee=T.current)==null?void 0:Ee.side)&&wG(te,(B=T.current)==null?void 0:B.area)},[]);return l.jsx(rG,{scope:n,searchRef:F,onItemEnter:E.useCallback(te=>{Y(te)&&te.preventDefault()},[Y]),onItemLeave:E.useCallback(te=>{var re;Y(te)||((re=I.current)==null||re.focus(),$(null))},[Y]),onTriggerLeave:E.useCallback(te=>{Y(te)&&te.preventDefault()},[Y]),pointerGraceTimerRef:k,onPointerGraceIntentChange:E.useCallback(te=>{T.current=te},[]),children:l.jsx(ue,{...ie,children:l.jsx(K2,{asChild:!0,trapped:s,onMountAutoFocus:Qe(i,te=>{var re;te.preventDefault(),(re=I.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(Uv,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:g,children:l.jsx(XR,{asChild:!0,...N,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:M,onCurrentTabStopIdChange:$,onEntryFocus:Qe(c,te=>{x.isUsingKeyboardRef.current||te.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx($R,{role:"menu","aria-orientation":"vertical","data-state":P6(_.open),"data-radix-menu-content":"",dir:x.dir,...v,...w,ref:P,style:{outline:"none",...w.style},onKeyDown:Qe(w.onKeyDown,te=>{const Ee=te.target.closest("[data-radix-menu-content]")===te.currentTarget,B=te.ctrlKey||te.altKey||te.metaKey,Q=te.key.length===1;Ee&&(te.key==="Tab"&&te.preventDefault(),!B&&Q&&fe(te.key));const J=I.current;if(te.target!==J||!KH.includes(te.key))return;te.preventDefault();const le=R().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);o6.includes(te.key)&&le.reverse(),mG(le)}),onBlur:Qe(t.onBlur,te=>{te.currentTarget.contains(te.target)||(window.clearTimeout(L.current),F.current="")}),onPointerMove:Qe(t.onPointerMove,Jg(te=>{const re=te.target,Ee=G.current!==te.clientX;if(te.currentTarget.contains(re)&&Ee){const B=te.clientX>G.current?"right":"left";O.current=B,G.current=te.clientX}}))})})})})})})});h6.displayName=mo;var oG="MenuGroup",PN=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(mt.div,{role:"group",...r,ref:e})});PN.displayName=oG;var aG="MenuLabel",f6=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(mt.div,{...r,ref:e})});f6.displayName=aG;var I1="MenuItem",YC="menu.itemSelect",iw=E.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=E.useRef(null),o=Wv(I1,t.__scopeMenu),a=AN(I1,t.__scopeMenu),c=$t(e,i),u=E.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const p=new CustomEvent(YC,{bubbles:!0,cancelable:!0});h.addEventListener(YC,g=>r==null?void 0:r(g),{once:!0}),aN(h,p),p.defaultPrevented?u.current=!1:o.onClose()}};return l.jsx(p6,{...s,ref:c,disabled:n,onClick:Qe(t.onClick,d),onPointerDown:h=>{var p;(p=t.onPointerDown)==null||p.call(t,h),u.current=!0},onPointerUp:Qe(t.onPointerUp,h=>{var p;u.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:Qe(t.onKeyDown,h=>{const p=a.searchRef.current!=="";n||p&&h.key===" "||n_.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});iw.displayName=I1;var p6=E.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=AN(I1,n),a=l6(n),c=E.useRef(null),u=$t(e,c),[d,h]=E.useState(!1),[p,g]=E.useState("");return E.useEffect(()=>{const b=c.current;b&&g((b.textContent??"").trim())},[i.children]),l.jsx(Zg.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:l.jsx(ZR,{asChild:!0,...a,focusable:!r,children:l.jsx(mt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:Qe(t.onPointerMove,Jg(b=>{r?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Qe(t.onPointerLeave,Jg(b=>o.onItemLeave(b))),onFocus:Qe(t.onFocus,()=>h(!0)),onBlur:Qe(t.onBlur,()=>h(!1))})})})}),lG="MenuCheckboxItem",m6=E.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return l.jsx(x6,{scope:t.__scopeMenu,checked:n,children:l.jsx(iw,{role:"menuitemcheckbox","aria-checked":k1(n)?"mixed":n,...s,ref:e,"data-state":IN(n),onSelect:Qe(s.onSelect,()=>r==null?void 0:r(k1(n)?!0:!n),{checkForDefaultPrevented:!1})})})});m6.displayName=lG;var g6="MenuRadioGroup",[cG,uG]=Ph(g6,{value:void 0,onValueChange:()=>{}}),v6=E.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Jn(r);return l.jsx(cG,{scope:t.__scopeMenu,value:n,onValueChange:i,children:l.jsx(PN,{...s,ref:e})})});v6.displayName=g6;var y6="MenuRadioItem",w6=E.forwardRef((t,e)=>{const{value:n,...r}=t,s=uG(y6,t.__scopeMenu),i=n===s.value;return l.jsx(x6,{scope:t.__scopeMenu,checked:i,children:l.jsx(iw,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":IN(i),onSelect:Qe(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});w6.displayName=y6;var TN="MenuItemIndicator",[x6,dG]=Ph(TN,{checked:!1}),b6=E.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=dG(TN,n);return l.jsx(Os,{present:r||k1(i.checked)||i.checked===!0,children:l.jsx(mt.span,{...s,ref:e,"data-state":IN(i.checked)})})});b6.displayName=TN;var hG="MenuSeparator",_6=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(mt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});_6.displayName=hG;var fG="MenuArrow",S6=E.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=sw(n);return l.jsx(WR,{...s,...r,ref:e})});S6.displayName=fG;var pG="MenuSub",[yue,N6]=Ph(pG),eg="MenuSubTrigger",E6=E.forwardRef((t,e)=>{const n=Th(eg,t.__scopeMenu),r=Wv(eg,t.__scopeMenu),s=N6(eg,t.__scopeMenu),i=AN(eg,t.__scopeMenu),o=E.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},d=E.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return E.useEffect(()=>d,[d]),E.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),c(null)}},[a,c]),l.jsx(NN,{asChild:!0,...u,children:l.jsx(p6,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":P6(n.open),...t,ref:z2(e,s.onTriggerChange),onClick:h=>{var p;(p=t.onClick)==null||p.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Qe(t.onPointerMove,Jg(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Qe(t.onPointerLeave,Jg(h=>{var g,b;d();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const w=(b=n.content)==null?void 0:b.dataset.side,_=w==="right",x=_?-5:5,v=p[_?"left":"right"],N=p[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:v,y:p.top},{x:N,y:p.top},{x:N,y:p.bottom},{x:v,y:p.bottom}],side:w}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Qe(t.onKeyDown,h=>{var g;const p=i.searchRef.current!=="";t.disabled||p&&h.key===" "||YH[r.dir].includes(h.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),h.preventDefault())})})})});E6.displayName=eg;var A6="MenuSubContent",C6=E.forwardRef((t,e)=>{const n=u6(mo,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Th(mo,t.__scopeMenu),o=Wv(mo,t.__scopeMenu),a=N6(A6,t.__scopeMenu),c=E.useRef(null),u=$t(e,c);return l.jsx(Zg.Provider,{scope:t.__scopeMenu,children:l.jsx(Os,{present:r||i.open,children:l.jsx(Zg.Slot,{scope:t.__scopeMenu,children:l.jsx(CN,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Qe(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Qe(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Qe(t.onKeyDown,d=>{var g;const h=d.currentTarget.contains(d.target),p=QH[o.dir].includes(d.key);h&&p&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),d.preventDefault())})})})})})});C6.displayName=A6;function P6(t){return t?"open":"closed"}function k1(t){return t==="indeterminate"}function IN(t){return k1(t)?"indeterminate":t?"checked":"unchecked"}function mG(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function gG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function vG(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=gG(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function yG(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,c=e[i].y,u=e[o].x,d=e[o].y;c>r!=d>r&&n<(u-a)*(r-c)/(d-c)+a&&(s=!s)}return s}function wG(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return yG(n,e)}function Jg(t){return e=>e.pointerType==="mouse"?t(e):void 0}var xG=c6,bG=NN,_G=d6,SG=h6,NG=PN,EG=f6,AG=iw,CG=m6,PG=v6,TG=w6,IG=b6,kG=_6,jG=S6,RG=E6,LG=C6,kN="DropdownMenu",[OG,wue]=Ls(kN,[a6]),ri=a6(),[DG,T6]=OG(kN),I6=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,c=ri(e),u=E.useRef(null),[d=!1,h]=Hi({prop:s,defaultProp:i,onChange:o});return l.jsx(DG,{scope:e,triggerId:po(),triggerRef:u,contentId:po(),open:d,onOpenChange:h,onOpenToggle:E.useCallback(()=>h(p=>!p),[h]),modal:a,children:l.jsx(xG,{...c,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};I6.displayName=kN;var k6="DropdownMenuTrigger",j6=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=T6(k6,n),o=ri(n);return l.jsx(bG,{asChild:!0,...o,children:l.jsx(mt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:z2(e,i.triggerRef),onPointerDown:Qe(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:Qe(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});j6.displayName=k6;var MG="DropdownMenuPortal",R6=t=>{const{__scopeDropdownMenu:e,...n}=t,r=ri(e);return l.jsx(_G,{...r,...n})};R6.displayName=MG;var L6="DropdownMenuContent",O6=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=T6(L6,n),i=ri(n),o=E.useRef(!1);return l.jsx(SG,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:Qe(t.onCloseAutoFocus,a=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Qe(t.onInteractOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});O6.displayName=L6;var FG="DropdownMenuGroup",VG=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ri(n);return l.jsx(NG,{...s,...r,ref:e})});VG.displayName=FG;var UG="DropdownMenuLabel",D6=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ri(n);return l.jsx(EG,{...s,...r,ref:e})});D6.displayName=UG;var BG="DropdownMenuItem",M6=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ri(n);return l.jsx(AG,{...s,...r,ref:e})});M6.displayName=BG;var zG="DropdownMenuCheckboxItem",F6=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ri(n);return l.jsx(CG,{...s,...r,ref:e})});F6.displayName=zG;var qG="DropdownMenuRadioGroup",$G=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ri(n);return l.jsx(PG,{...s,...r,ref:e})});$G.displayName=qG;var WG="DropdownMenuRadioItem",V6=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ri(n);return l.jsx(TG,{...s,...r,ref:e})});V6.displayName=WG;var HG="DropdownMenuItemIndicator",U6=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ri(n);return l.jsx(IG,{...s,...r,ref:e})});U6.displayName=HG;var GG="DropdownMenuSeparator",B6=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ri(n);return l.jsx(kG,{...s,...r,ref:e})});B6.displayName=GG;var KG="DropdownMenuArrow",YG=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ri(n);return l.jsx(jG,{...s,...r,ref:e})});YG.displayName=KG;var QG="DropdownMenuSubTrigger",z6=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ri(n);return l.jsx(RG,{...s,...r,ref:e})});z6.displayName=QG;var XG="DropdownMenuSubContent",q6=E.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=ri(n);return l.jsx(LG,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});q6.displayName=XG;var ZG=I6,JG=j6,eK=R6,$6=O6,W6=D6,H6=M6,G6=F6,K6=V6,Y6=U6,Q6=B6,X6=z6,Z6=q6;const J6=ZG,eL=JG,tK=E.forwardRef(({className:t,inset:e,children:n,...r},s)=>l.jsxs(X6,{ref:s,className:Xe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,l.jsx(Tq,{className:"ml-auto h-4 w-4"})]}));tK.displayName=X6.displayName;const nK=E.forwardRef(({className:t,...e},n)=>l.jsx(Z6,{ref:n,className:Xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));nK.displayName=Z6.displayName;const jN=E.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(eK,{children:l.jsx($6,{ref:r,sideOffset:e,className:Xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));jN.displayName=$6.displayName;const Rl=E.forwardRef(({className:t,inset:e,...n},r)=>l.jsx(H6,{ref:r,className:Xe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));Rl.displayName=H6.displayName;const rK=E.forwardRef(({className:t,children:e,checked:n,...r},s)=>l.jsxs(G6,{ref:s,className:Xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Y6,{children:l.jsx(Kf,{className:"h-4 w-4"})})}),e]}));rK.displayName=G6.displayName;const sK=E.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(K6,{ref:r,className:Xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Y6,{children:l.jsx(Lq,{className:"h-2 w-2 fill-current"})})}),e]}));sK.displayName=K6.displayName;const RN=E.forwardRef(({className:t,inset:e,...n},r)=>l.jsx(W6,{ref:r,className:Xe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));RN.displayName=W6.displayName;const j1=E.forwardRef(({className:t,...e},n)=>l.jsx(Q6,{ref:n,className:Xe("-mx-1 my-1 h-px bg-muted",t),...e}));j1.displayName=Q6.displayName;var LN="Avatar",[iK,xue]=Ls(LN),[oK,tL]=iK(LN),nL=E.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=E.useState("idle");return l.jsx(oK,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:l.jsx(mt.span,{...r,ref:e})})});nL.displayName=LN;var rL="AvatarImage",sL=E.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=tL(rL,n),a=aK(r,i.referrerPolicy),c=Jn(u=>{s(u),o.onImageLoadingStatusChange(u)});return Lr(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?l.jsx(mt.img,{...i,ref:e,src:r}):null});sL.displayName=rL;var iL="AvatarFallback",oL=E.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=tL(iL,n),[o,a]=E.useState(r===void 0);return E.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?l.jsx(mt.span,{...s,ref:e}):null});oL.displayName=iL;function aK(t,e){const[n,r]=E.useState("idle");return Lr(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&r(a)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var aL=nL,lL=sL,cL=oL;const ch=E.forwardRef(({className:t,...e},n)=>l.jsx(aL,{ref:n,className:Xe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));ch.displayName=aL.displayName;const uh=E.forwardRef(({className:t,...e},n)=>l.jsx(lL,{ref:n,className:Xe("aspect-square h-full w-full",t),...e}));uh.displayName=lL.displayName;const dh=E.forwardRef(({className:t,...e},n)=>l.jsx(cL,{ref:n,className:Xe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));dh.displayName=cL.displayName;const lK=()=>{};var QC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},cK=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},dL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;c||(g=64,o||(p=64)),r.push(n[d],n[h],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cK(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new uK;const p=i<<2|a>>4;if(r.push(p),u!==64){const g=a<<4&240|u>>2;if(r.push(g),h!==64){const b=u<<6&192|h;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dK=function(t){const e=uL(t);return dL.encodeByteArray(e,!0)},R1=function(t){return dK(t).replace(/\./g,"")},hL=function(t){try{return dL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fK=()=>hK().__FIREBASE_DEFAULTS__,pK=()=>{if(typeof process>"u"||typeof QC>"u")return;const t=QC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mK=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hL(t[1]);return e&&JSON.parse(e)},ow=()=>{try{return lK()||fK()||pK()||mK()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fL=t=>{var e,n;return(n=(e=ow())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},pL=t=>{const e=fL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},mL=()=>{var t;return(t=ow())===null||t===void 0?void 0:t.config},gL=t=>{var e;return(e=ow())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[R1(JSON.stringify(n)),R1(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(js())}function yK(){var t;const e=(t=ow())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wK(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xK(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bK(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _K(){const t=js();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SK(){return!yK()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NK(){try{return typeof indexedDB=="object"}catch{return!1}}function EK(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AK="FirebaseError";class nl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AK,Object.setPrototypeOf(this,nl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hv.prototype.create)}}class Hv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?CK(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new nl(s,a,r)}}function CK(t,e){return t.replace(PK,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const PK=/\{\$([^}]+)}/g;function TK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(XC(i)&&XC(o)){if(!hh(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function XC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ng(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IK(t,e){const n=new kK(t,e);return n.subscribe.bind(n)}class kK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jK(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ub),s.error===void 0&&(s.error=ub),s.complete===void 0&&(s.complete=ub);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jK(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ub(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t){return t&&t._delegate?t._delegate:t}class Vu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gK;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OK(e))try{this.getOrInitializeService({instanceIdentifier:Id})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Id){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Id){return this.instances.has(e)}getOptions(e=Id){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LK(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Id){return this.component?this.component.multipleInstances?e:Id:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LK(t){return t===Id?void 0:t}function OK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ln||(ln={}));const MK={debug:ln.DEBUG,verbose:ln.VERBOSE,info:ln.INFO,warn:ln.WARN,error:ln.ERROR,silent:ln.SILENT},FK=ln.INFO,VK={[ln.DEBUG]:"log",[ln.VERBOSE]:"log",[ln.INFO]:"info",[ln.WARN]:"warn",[ln.ERROR]:"error"},UK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=VK[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ON{constructor(e){this.name=e,this._logLevel=FK,this._logHandler=UK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ln))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ln.DEBUG,...e),this._logHandler(this,ln.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ln.VERBOSE,...e),this._logHandler(this,ln.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ln.INFO,...e),this._logHandler(this,ln.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ln.WARN,...e),this._logHandler(this,ln.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ln.ERROR,...e),this._logHandler(this,ln.ERROR,...e)}}const BK=(t,e)=>e.some(n=>t instanceof n);let ZC,JC;function zK(){return ZC||(ZC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qK(){return JC||(JC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yL=new WeakMap,r_=new WeakMap,wL=new WeakMap,db=new WeakMap,DN=new WeakMap;function $K(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Nu(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yL.set(n,t)}).catch(()=>{}),DN.set(e,t),e}function WK(t){if(r_.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});r_.set(t,e)}let s_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return r_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HK(t){s_=t(s_)}function GK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hb(this),e,...n);return wL.set(r,e.sort?e.sort():[e]),Nu(r)}:qK().includes(t)?function(...e){return t.apply(hb(this),e),Nu(yL.get(this))}:function(...e){return Nu(t.apply(hb(this),e))}}function KK(t){return typeof t=="function"?GK(t):(t instanceof IDBTransaction&&WK(t),BK(t,zK())?new Proxy(t,s_):t)}function Nu(t){if(t instanceof IDBRequest)return $K(t);if(db.has(t))return db.get(t);const e=KK(t);return e!==t&&(db.set(t,e),DN.set(e,t)),e}const hb=t=>DN.get(t);function YK(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Nu(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Nu(o.result),c.oldVersion,c.newVersion,Nu(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const QK=["get","getKey","getAll","getAllKeys","count"],XK=["put","add","delete","clear"],fb=new Map;function eP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fb.get(e))return fb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=XK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||QK.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return fb.set(e,i),i}HK(t=>({...t,get:(e,n,r)=>eP(e,n)||t.get(e,n,r),has:(e,n)=>!!eP(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function JK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const i_="@firebase/app",tP="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=new ON("@firebase/app"),eY="@firebase/app-compat",tY="@firebase/analytics-compat",nY="@firebase/analytics",rY="@firebase/app-check-compat",sY="@firebase/app-check",iY="@firebase/auth",oY="@firebase/auth-compat",aY="@firebase/database",lY="@firebase/data-connect",cY="@firebase/database-compat",uY="@firebase/functions",dY="@firebase/functions-compat",hY="@firebase/installations",fY="@firebase/installations-compat",pY="@firebase/messaging",mY="@firebase/messaging-compat",gY="@firebase/performance",vY="@firebase/performance-compat",yY="@firebase/remote-config",wY="@firebase/remote-config-compat",xY="@firebase/storage",bY="@firebase/storage-compat",_Y="@firebase/firestore",SY="@firebase/vertexai",NY="@firebase/firestore-compat",EY="firebase",AY="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="[DEFAULT]",CY={[i_]:"fire-core",[eY]:"fire-core-compat",[nY]:"fire-analytics",[tY]:"fire-analytics-compat",[sY]:"fire-app-check",[rY]:"fire-app-check-compat",[iY]:"fire-auth",[oY]:"fire-auth-compat",[aY]:"fire-rtdb",[lY]:"fire-data-connect",[cY]:"fire-rtdb-compat",[uY]:"fire-fn",[dY]:"fire-fn-compat",[hY]:"fire-iid",[fY]:"fire-iid-compat",[pY]:"fire-fcm",[mY]:"fire-fcm-compat",[gY]:"fire-perf",[vY]:"fire-perf-compat",[yY]:"fire-rc",[wY]:"fire-rc-compat",[xY]:"fire-gcs",[bY]:"fire-gcs-compat",[_Y]:"fire-fst",[NY]:"fire-fst-compat",[SY]:"fire-vertex","fire-js":"fire-js",[EY]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=new Map,PY=new Map,a_=new Map;function nP(t,e){try{t.container.addComponent(e)}catch(n){ec.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fh(t){const e=t.name;if(a_.has(e))return ec.debug(`There were multiple attempts to register component ${e}.`),!1;a_.set(e,t);for(const n of L1.values())nP(n,t);for(const n of PY.values())nP(n,t);return!0}function aw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ys(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Eu=new Hv("app","Firebase",TY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=AY;function xL(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:o_,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Eu.create("bad-app-name",{appName:String(s)});if(n||(n=mL()),!n)throw Eu.create("no-options");const i=L1.get(s);if(i){if(hh(n,i.options)&&hh(r,i.config))return i;throw Eu.create("duplicate-app",{appName:s})}const o=new DK(s);for(const c of a_.values())o.addComponent(c);const a=new IY(n,r,o);return L1.set(s,a),a}function MN(t=o_){const e=L1.get(t);if(!e&&t===o_&&mL())return xL();if(!e)throw Eu.create("no-app",{appName:t});return e}function za(t,e,n){var r;let s=(r=CY[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ec.warn(a.join(" "));return}fh(new Vu(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY="firebase-heartbeat-database",jY=1,ev="firebase-heartbeat-store";let pb=null;function bL(){return pb||(pb=YK(kY,jY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ev)}catch(n){console.warn(n)}}}}).catch(t=>{throw Eu.create("idb-open",{originalErrorMessage:t.message})})),pb}async function RY(t){try{const n=(await bL()).transaction(ev),r=await n.objectStore(ev).get(_L(t));return await n.done,r}catch(e){if(e instanceof nl)ec.warn(e.message);else{const n=Eu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ec.warn(n.message)}}}async function rP(t,e){try{const r=(await bL()).transaction(ev,"readwrite");await r.objectStore(ev).put(e,_L(t)),await r.done}catch(n){if(n instanceof nl)ec.warn(n.message);else{const r=Eu.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ec.warn(r.message)}}}function _L(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LY=1024,OY=30;class DY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=sP();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>OY){const o=VY(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ec.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sP(),{heartbeatsToSend:r,unsentEntries:s}=MY(this._heartbeatsCache.heartbeats),i=R1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ec.warn(n),""}}}function sP(){return new Date().toISOString().substring(0,10)}function MY(t,e=LY){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),iP(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),iP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class FY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NK()?EK().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RY(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return rP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return rP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function iP(t){return R1(JSON.stringify({version:2,heartbeats:t})).length}function VY(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UY(t){fh(new Vu("platform-logger",e=>new ZK(e),"PRIVATE")),fh(new Vu("heartbeat",e=>new DY(e),"PRIVATE")),za(i_,tP,t),za(i_,tP,"esm2017"),za("fire-js","")}UY("");var BY="firebase",zY="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */za(BY,zY,"app");function SL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qY=SL,NL=new Hv("auth","Firebase",SL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=new ON("@firebase/auth");function $Y(t,...e){O1.logLevel<=ln.WARN&&O1.warn(`Auth (${Ih}): ${t}`,...e)}function O0(t,...e){O1.logLevel<=ln.ERROR&&O1.error(`Auth (${Ih}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(t,...e){throw VN(t,...e)}function Jo(t,...e){return VN(t,...e)}function FN(t,e,n){const r=Object.assign(Object.assign({},qY()),{[e]:n});return new Hv("auth","Firebase",r).create(e,{appName:t.name})}function qa(t){return FN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function EL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&yo(t,"argument-error"),FN(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function VN(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return NL.create(t,...e)}function Pt(t,e,...n){if(!t)throw VN(e,...n)}function Ml(t){const e="INTERNAL ASSERTION FAILED: "+t;throw O0(e),new Error(e)}function tc(t,e){t||Ml(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WY(){return oP()==="http:"||oP()==="https:"}function oP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WY()||xK()||"connection"in navigator)?navigator.onLine:!0}function GY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n){this.shortDelay=e,this.longDelay=n,tc(n>e,"Short delay should be less than long delay!"),this.isMobile=vK()||bK()}get(){return HY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t,e){tc(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ml("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ml("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ml("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YY=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QY=new Kv(3e4,6e4);function ac(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function rl(t,e,n,r,s={}){return CL(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Gv(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return wK()||(u.referrerPolicy="no-referrer"),AL.fetch()(await PL(t,t.config.apiHost,n,a),u)})}async function CL(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},KY),e);try{const s=new ZY(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw i0(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw i0(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw i0(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw i0(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw FN(t,d,u);yo(t,d)}}catch(s){if(s instanceof nl)throw s;yo(t,"network-request-failed",{message:String(s)})}}async function Yv(t,e,n,r,s={}){const i=await rl(t,e,n,r,s);return"mfaPendingCredential"in i&&yo(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function PL(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?UN(t.config,s):`${t.config.apiScheme}://${s}`;return YY.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function XY(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZY{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jo(this.auth,"network-request-failed")),QY.get())})}}function i0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Jo(t,e,r);return s.customData._tokenResponse=n,s}function aP(t){return t!==void 0&&t.enterprise!==void 0}class JY{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return XY(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eQ(t,e){return rl(t,"GET","/v2/recaptchaConfig",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tQ(t,e){return rl(t,"POST","/v1/accounts:delete",e)}async function D1(t,e){return rl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nQ(t,e=!1){const n=sr(t),r=await n.getIdToken(e),s=BN(r);Pt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:_g(mb(s.auth_time)),issuedAtTime:_g(mb(s.iat)),expirationTime:_g(mb(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function mb(t){return Number(t)*1e3}function BN(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return O0("JWT malformed, contained fewer than 3 sections"),null;try{const s=hL(n);return s?JSON.parse(s):(O0("Failed to decode base64 JWT payload"),null)}catch(s){return O0("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function lP(t){const e=BN(t);return Pt(e,"internal-error"),Pt(typeof e.exp<"u","internal-error"),Pt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lp(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof nl&&rQ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function rQ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_g(this.lastLoginAt),this.creationTime=_g(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M1(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Lp(t,D1(n,{idToken:r}));Pt(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?TL(i.providerUserInfo):[],a=oQ(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=c?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new c_(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function iQ(t){const e=sr(t);await M1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oQ(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function TL(t){return t.map(e=>{var{providerId:n}=e,r=qv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aQ(t,e){const n=await CL(t,{},async()=>{const r=Gv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await PL(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",AL.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lQ(t,e){return rl(t,"POST","/v2/accounts:revokeToken",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pt(e.idToken,"internal-error"),Pt(typeof e.idToken<"u","internal-error"),Pt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pt(e.length!==0,"internal-error");const n=lP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await aQ(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Zf;return r&&(Pt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Pt(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Pt(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zf,this.toJSON())}_performRefresh(){return Ml("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t,e){Pt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wo{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=qv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new c_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Lp(this,this.stsTokenManager.getToken(this.auth,e));return Pt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nQ(this,e)}reload(){return iQ(this)}_assign(e){this!==e&&(Pt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await M1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ys(this.auth.app))return Promise.reject(qa(this.auth));const e=await this.getIdToken();return await Lp(this,tQ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,c,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:N,emailVerified:R,isAnonymous:M,providerData:$,stsTokenManager:I}=n;Pt(N&&I,e,"internal-error");const P=Zf.fromJSON(this.name,I);Pt(typeof N=="string",e,"internal-error"),qc(h,e.name),qc(p,e.name),Pt(typeof R=="boolean",e,"internal-error"),Pt(typeof M=="boolean",e,"internal-error"),qc(g,e.name),qc(b,e.name),qc(w,e.name),qc(_,e.name),qc(x,e.name),qc(v,e.name);const L=new Wo({uid:N,auth:e,email:p,emailVerified:R,displayName:h,isAnonymous:M,photoURL:b,phoneNumber:g,tenantId:w,stsTokenManager:P,createdAt:x,lastLoginAt:v});return $&&Array.isArray($)&&(L.providerData=$.map(F=>Object.assign({},F))),_&&(L._redirectEventId=_),L}static async _fromIdTokenResponse(e,n,r=!1){const s=new Zf;s.updateFromServerResponse(n);const i=new Wo({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await M1(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Pt(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?TL(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Zf;a.updateFromIdToken(r);const c=new Wo({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new c_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=new Map;function Fl(t){tc(t instanceof Function,"Expected a class definition");let e=cP.get(t);return e?(tc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IL.type="NONE";const uP=IL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t,e,n){return`firebase:${t}:${e}:${n}`}class Jf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=D0(this.userKey,s.apiKey,i),this.fullPersistenceKey=D0("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await D1(this.auth,{idToken:e}).catch(()=>{});return n?Wo._fromGetAccountInfoResponse(this.auth,n,e):null}return Wo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Jf(Fl(uP),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Fl(uP);const o=D0(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const p=await D1(e,{idToken:d}).catch(()=>{});if(!p)break;h=await Wo._fromGetAccountInfoResponse(e,p,d)}else h=Wo._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Jf(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Jf(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DL(e))return"Blackberry";if(ML(e))return"Webos";if(jL(e))return"Safari";if((e.includes("chrome/")||RL(e))&&!e.includes("edge/"))return"Chrome";if(OL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kL(t=js()){return/firefox\//i.test(t)}function jL(t=js()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RL(t=js()){return/crios\//i.test(t)}function LL(t=js()){return/iemobile/i.test(t)}function OL(t=js()){return/android/i.test(t)}function DL(t=js()){return/blackberry/i.test(t)}function ML(t=js()){return/webos/i.test(t)}function zN(t=js()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cQ(t=js()){var e;return zN(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uQ(){return _K()&&document.documentMode===10}function FL(t=js()){return zN(t)||OL(t)||ML(t)||DL(t)||/windows phone/i.test(t)||LL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t,e=[]){let n;switch(t){case"Browser":n=dP(js());break;case"Worker":n=`${dP(js())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ih}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hQ(t,e={}){return rl(t,"GET","/v2/passwordPolicy",ac(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fQ=6;class pQ{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:fQ,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mQ{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hP(this),this.idTokenSubscription=new hP(this),this.beforeStateQueue=new dQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fl(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Jf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await D1(this,{idToken:e}),r=await Wo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ys(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await M1(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ys(this.app))return Promise.reject(qa(this));const n=e?sr(e):null;return n&&Pt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ys(this.app)?Promise.reject(qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ys(this.app)?Promise.reject(qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hQ(this),n=new pQ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hv("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await lQ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fl(e)||this._popupRedirectResolver;Pt(n,this,"argument-error"),this.redirectPersistenceManager=await Jf.create(this,[Fl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pt(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Ys(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$Y(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function la(t){return sr(t)}class hP{constructor(e){this.auth=e,this.observer=null,this.addObserver=IK(n=>this.observer=n)}get next(){return Pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gQ(t){lw=t}function UL(t){return lw.loadJS(t)}function vQ(){return lw.recaptchaEnterpriseScript}function yQ(){return lw.gapiScript}function wQ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class xQ{constructor(){this.enterprise=new bQ}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bQ{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _Q="recaptcha-enterprise",BL="NO_RECAPTCHA";class SQ{constructor(e){this.type=_Q,this.auth=la(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{eQ(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new JY(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;aP(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(BL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xQ().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&aP(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=vQ();c.length!==0&&(c+=a),UL(c).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function fP(t,e,n,r=!1,s=!1){const i=new SQ(t);let o;if(s)o=BL;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function F1(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await fP(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await fP(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NQ(t,e){const n=aw(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(hh(i,e??{}))return s;yo(s,"already-initialized")}return n.initialize({options:e})}function EQ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function AQ(t,e,n){const r=la(t);Pt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=zL(e),{host:o,port:a}=CQ(e),c=a===null?"":`:${a}`,u={url:`${i}//${o}${c}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Pt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Pt(hh(u,r.config.emulator)&&hh(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,PQ()}function zL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CQ(t){const e=zL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:pP(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:pP(o)}}}function pP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PQ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ml("not implemented")}_getIdTokenResponse(e){return Ml("not implemented")}_linkToIdToken(e,n){return Ml("not implemented")}_getReauthenticationResolver(e){return Ml("not implemented")}}async function TQ(t,e){return rl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IQ(t,e){return Yv(t,"POST","/v1/accounts:signInWithPassword",ac(t,e))}async function kQ(t,e){return rl(t,"POST","/v1/accounts:sendOobCode",ac(t,e))}async function jQ(t,e){return kQ(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RQ(t,e){return Yv(t,"POST","/v1/accounts:signInWithEmailLink",ac(t,e))}async function LQ(t,e){return Yv(t,"POST","/v1/accounts:signInWithEmailLink",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv extends qN{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new tv(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new tv(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return F1(e,n,"signInWithPassword",IQ);case"emailLink":return RQ(e,{email:this._email,oobCode:this._password});default:yo(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return F1(e,r,"signUpPassword",TQ);case"emailLink":return LQ(e,{idToken:n,email:this._email,oobCode:this._password});default:yo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ep(t,e){return Yv(t,"POST","/v1/accounts:signInWithIdp",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OQ="http://localhost";class ph extends qN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ph(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=qv(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ph(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ep(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ep(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ep(e,n)}buildRequest(){const e={requestUri:OQ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gv(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DQ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MQ(t){const e=tg(ng(t)).link,n=e?tg(ng(e)).deep_link_id:null,r=tg(ng(t)).deep_link_id;return(r?tg(ng(r)).link:null)||r||n||e||t}class $N{constructor(e){var n,r,s,i,o,a;const c=tg(ng(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,h=DQ((s=c.mode)!==null&&s!==void 0?s:null);Pt(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=MQ(e);try{return new $N(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this.providerId=sm.PROVIDER_ID}static credential(e,n){return tv._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=$N.parseLink(n);return Pt(r,"argument-error"),tv._fromEmailAndCode(e,r.code,r.tenantId)}}sm.PROVIDER_ID="password";sm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv extends cw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends Qv{constructor(){super("facebook.com")}static credential(e){return ph._fromParams({providerId:Jc.PROVIDER_ID,signInMethod:Jc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jc.credentialFromTaggedObject(e)}static credentialFromError(e){return Jc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jc.credential(e.oauthAccessToken)}catch{return null}}}Jc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends Qv{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ph._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zo.credentialFromTaggedObject(e)}static credentialFromError(e){return zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zo.credential(n,r)}catch{return null}}}zo.GOOGLE_SIGN_IN_METHOD="google.com";zo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends Qv{constructor(){super("github.com")}static credential(e){return ph._fromParams({providerId:eu.PROVIDER_ID,signInMethod:eu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eu.credentialFromTaggedObject(e)}static credentialFromError(e){return eu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eu.credential(e.oauthAccessToken)}catch{return null}}}eu.GITHUB_SIGN_IN_METHOD="github.com";eu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends Qv{constructor(){super("twitter.com")}static credential(e,n){return ph._fromParams({providerId:tu.PROVIDER_ID,signInMethod:tu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return tu.credentialFromTaggedObject(e)}static credentialFromError(e){return tu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return tu.credential(n,r)}catch{return null}}}tu.TWITTER_SIGN_IN_METHOD="twitter.com";tu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FQ(t,e){return Yv(t,"POST","/v1/accounts:signUp",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Wo._fromIdTokenResponse(e,r,s),o=mP(r);return new mh({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=mP(r);return new mh({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function mP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1 extends nl{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,V1.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new V1(e,n,r,s)}}function qL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?V1._fromErrorAndOperation(t,i,e,r):i})}async function VQ(t,e,n=!1){const r=await Lp(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return mh._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UQ(t,e,n=!1){const{auth:r}=t;if(Ys(r.app))return Promise.reject(qa(r));const s="reauthenticate";try{const i=await Lp(t,qL(r,s,e,t),n);Pt(i.idToken,r,"internal-error");const o=BN(i.idToken);Pt(o,r,"internal-error");const{sub:a}=o;return Pt(t.uid===a,r,"user-mismatch"),mh._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&yo(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $L(t,e,n=!1){if(Ys(t.app))return Promise.reject(qa(t));const r="signIn",s=await qL(t,r,e),i=await mh._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function BQ(t,e){return $L(la(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(t){const e=la(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zQ(t,e,n){const r=la(t);await F1(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",jQ)}async function HL(t,e,n){if(Ys(t.app))return Promise.reject(qa(t));const r=la(t),o=await F1(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FQ).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&WL(t),c}),a=await mh._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function GL(t,e,n){return Ys(t.app)?Promise.reject(qa(t)):BQ(sr(t),sm.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&WL(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qQ(t,e){return rl(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U1(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=sr(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Lp(r,qQ(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function $Q(t,e,n,r){return sr(t).onIdTokenChanged(e,n,r)}function WQ(t,e,n){return sr(t).beforeAuthStateChanged(e,n)}function KL(t,e,n,r){return sr(t).onAuthStateChanged(e,n,r)}function YL(t){return sr(t).signOut()}const B1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(B1,"1"),this.storage.removeItem(B1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HQ=1e3,GQ=10;class XL extends QL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);uQ()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,GQ):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},HQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XL.type="LOCAL";const KQ=XL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL extends QL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZL.type="SESSION";const JL=ZL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YQ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new uw(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),c=await YQ(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=WN("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(){return window}function XQ(t){$a().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(){return typeof $a().WorkerGlobalScope<"u"&&typeof $a().importScripts=="function"}async function ZQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JQ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function eX(){return eO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="firebaseLocalStorageDb",tX=1,z1="firebaseLocalStorage",nO="fbase_key";class Xv{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dw(t,e){return t.transaction([z1],e?"readwrite":"readonly").objectStore(z1)}function nX(){const t=indexedDB.deleteDatabase(tO);return new Xv(t).toPromise()}function u_(){const t=indexedDB.open(tO,tX);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(z1,{keyPath:nO})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(z1)?e(r):(r.close(),await nX(),e(await u_()))})})}async function gP(t,e,n){const r=dw(t,!0).put({[nO]:e,value:n});return new Xv(r).toPromise()}async function rX(t,e){const n=dw(t,!1).get(e),r=await new Xv(n).toPromise();return r===void 0?null:r.value}function vP(t,e){const n=dw(t,!0).delete(e);return new Xv(n).toPromise()}const sX=800,iX=3;class rO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await u_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>iX)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uw._getInstance(eX()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ZQ(),!this.activeServiceWorker)return;this.sender=new QQ(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await u_();return await gP(e,B1,"1"),await vP(e,B1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>rX(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=dw(s,!1).getAll();return new Xv(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rO.type="LOCAL";const oX=rO;new Kv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t,e){return e?Fl(e):(Pt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN extends qN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ep(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ep(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ep(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aX(t){return $L(t.auth,new GN(t),t.bypassAuthState)}function lX(t){const{auth:e,user:n}=t;return Pt(n,e,"internal-error"),UQ(n,new GN(t),t.bypassAuthState)}async function cX(t){const{auth:e,user:n}=t;return Pt(n,e,"internal-error"),VQ(n,new GN(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aX;case"linkViaPopup":case"linkViaRedirect":return cX;case"reauthViaPopup":case"reauthViaRedirect":return lX;default:yo(this.auth,"internal-error")}}resolve(e){tc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uX=new Kv(2e3,1e4);async function iO(t,e,n){if(Ys(t.app))return Promise.reject(Jo(t,"operation-not-supported-in-this-environment"));const r=la(t);EL(t,e,cw);const s=HN(r,n);return new Md(r,"signInViaPopup",e,s).executeNotNull()}class Md extends sO{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Md.currentPopupAction&&Md.currentPopupAction.cancel(),Md.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pt(e,this.auth,"internal-error"),e}async onExecution(){tc(this.filter.length===1,"Popup operations only handle one event");const e=WN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Md.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uX.get())};e()}}Md.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dX="pendingRedirect",M0=new Map;class hX extends sO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=M0.get(this.auth._key());if(!e){try{const r=await fX(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}M0.set(this.auth._key(),e)}return this.bypassAuthState||M0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fX(t,e){const n=aO(e),r=oO(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function pX(t,e){return oO(t)._set(aO(e),"true")}function mX(t,e){M0.set(t._key(),e)}function oO(t){return Fl(t._redirectPersistence)}function aO(t){return D0(dX,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t,e,n){return gX(t,e,n)}async function gX(t,e,n){if(Ys(t.app))return Promise.reject(qa(t));const r=la(t);EL(t,e,cw),await r._initializationPromise;const s=HN(r,n);return await pX(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function cO(t,e){return await la(t)._initializationPromise,uO(t,e,!1)}async function uO(t,e,n=!1){if(Ys(t.app))return Promise.reject(qa(t));const r=la(t),s=HN(r,e),o=await new hX(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vX=10*60*1e3;class yX{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wX(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dO(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jo(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vX&&this.cachedEventUids.clear(),this.cachedEventUids.has(yP(e))}saveEventToCache(e){this.cachedEventUids.add(yP(e)),this.lastProcessedEventTime=Date.now()}}function yP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wX(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xX(t,e={}){return rl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_X=/^https?/;async function SX(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xX(t);for(const n of e)try{if(NX(n))return}catch{}yo(t,"unauthorized-domain")}function NX(t){const e=l_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!_X.test(n))return!1;if(bX.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EX=new Kv(3e4,6e4);function wP(){const t=$a().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AX(t){return new Promise((e,n)=>{var r,s,i;function o(){wP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wP(),n(Jo(t,"network-request-failed"))},timeout:EX.get()})}if(!((s=(r=$a().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=$a().gapi)===null||i===void 0)&&i.load)o();else{const a=wQ("iframefcb");return $a()[a]=()=>{gapi.load?o():n(Jo(t,"network-request-failed"))},UL(`${yQ()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw F0=null,e})}let F0=null;function CX(t){return F0=F0||AX(t),F0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PX=new Kv(5e3,15e3),TX="__/auth/iframe",IX="emulator/auth/iframe",kX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RX(t){const e=t.config;Pt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?UN(e,IX):`https://${t.config.authDomain}/${TX}`,r={apiKey:e.apiKey,appName:t.name,v:Ih},s=jX.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Gv(r).slice(1)}`}async function LX(t){const e=await CX(t),n=$a().gapi;return Pt(n,t,"internal-error"),e.open({where:document.body,url:RX(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kX,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Jo(t,"network-request-failed"),a=$a().setTimeout(()=>{i(o)},PX.get());function c(){$a().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DX=500,MX=600,FX="_blank",VX="http://localhost";class xP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UX(t,e,n,r=DX,s=MX){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},OX),{width:r.toString(),height:s.toString(),top:i,left:o}),u=js().toLowerCase();n&&(a=RL(u)?FX:n),kL(u)&&(e=e||VX,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[g,b])=>`${p}${g}=${b},`,"");if(cQ(u)&&a!=="_self")return BX(e||"",a),new xP(null);const h=window.open(e||"",a,d);Pt(h,t,"popup-blocked");try{h.focus()}catch{}return new xP(h)}function BX(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zX="__/auth/handler",qX="emulator/auth/handler",$X=encodeURIComponent("fac");async function bP(t,e,n,r,s,i){Pt(t.config.authDomain,t,"auth-domain-config-required"),Pt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ih,eventId:s};if(e instanceof cw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",TK(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Qv){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const c=await t._getAppCheckToken(),u=c?`#${$X}=${encodeURIComponent(c)}`:"";return`${WX(t)}?${Gv(a).slice(1)}${u}`}function WX({config:t}){return t.emulator?UN(t,qX):`https://${t.authDomain}/${zX}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="webStorageSupport";class HX{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JL,this._completeRedirectFn=uO,this._overrideRedirectResult=mX}async _openPopup(e,n,r,s){var i;tc((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await bP(e,n,r,l_(),s);return UX(e,o,WN())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await bP(e,n,r,l_(),s);return XQ(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(tc(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await LX(e),r=new yX(e);return n.register("authEvent",s=>(Pt(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gb,{type:gb},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[gb];o!==void 0&&n(!!o),yo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SX(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FL()||jL()||zN()}}const GX=HX;var _P="@firebase/auth",SP="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QX(t){fh(new Vu("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Pt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VL(t)},u=new mQ(r,s,i,c);return EQ(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fh(new Vu("auth-internal",e=>{const n=la(e.getProvider("auth").getImmediate());return(r=>new KX(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),za(_P,SP,YX(t)),za(_P,SP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XX=5*60,ZX=gL("authIdTokenMaxAge")||XX;let NP=null;const JX=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ZX)return;const s=n==null?void 0:n.token;NP!==s&&(NP=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function eZ(t=MN()){const e=aw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=NQ(t,{popupRedirectResolver:GX,persistence:[oX,KQ,JL]}),r=gL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=JX(i.toString());WQ(n,o,()=>o(n.currentUser)),$Q(n,a=>o(a))}}const s=fL("auth");return s&&AQ(n,`http://${s}`),n}function tZ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}gQ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Jo("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",tZ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QX("Browser");var EP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Au,hO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,P){function L(){}L.prototype=P.prototype,I.D=P.prototype,I.prototype=new L,I.prototype.constructor=I,I.C=function(F,k,T){for(var O=Array(arguments.length-2),G=2;G<arguments.length;G++)O[G-2]=arguments[G];return P.prototype[k].apply(F,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,P,L){L||(L=0);var F=Array(16);if(typeof P=="string")for(var k=0;16>k;++k)F[k]=P.charCodeAt(L++)|P.charCodeAt(L++)<<8|P.charCodeAt(L++)<<16|P.charCodeAt(L++)<<24;else for(k=0;16>k;++k)F[k]=P[L++]|P[L++]<<8|P[L++]<<16|P[L++]<<24;P=I.g[0],L=I.g[1],k=I.g[2];var T=I.g[3],O=P+(T^L&(k^T))+F[0]+3614090360&4294967295;P=L+(O<<7&4294967295|O>>>25),O=T+(k^P&(L^k))+F[1]+3905402710&4294967295,T=P+(O<<12&4294967295|O>>>20),O=k+(L^T&(P^L))+F[2]+606105819&4294967295,k=T+(O<<17&4294967295|O>>>15),O=L+(P^k&(T^P))+F[3]+3250441966&4294967295,L=k+(O<<22&4294967295|O>>>10),O=P+(T^L&(k^T))+F[4]+4118548399&4294967295,P=L+(O<<7&4294967295|O>>>25),O=T+(k^P&(L^k))+F[5]+1200080426&4294967295,T=P+(O<<12&4294967295|O>>>20),O=k+(L^T&(P^L))+F[6]+2821735955&4294967295,k=T+(O<<17&4294967295|O>>>15),O=L+(P^k&(T^P))+F[7]+4249261313&4294967295,L=k+(O<<22&4294967295|O>>>10),O=P+(T^L&(k^T))+F[8]+1770035416&4294967295,P=L+(O<<7&4294967295|O>>>25),O=T+(k^P&(L^k))+F[9]+2336552879&4294967295,T=P+(O<<12&4294967295|O>>>20),O=k+(L^T&(P^L))+F[10]+4294925233&4294967295,k=T+(O<<17&4294967295|O>>>15),O=L+(P^k&(T^P))+F[11]+2304563134&4294967295,L=k+(O<<22&4294967295|O>>>10),O=P+(T^L&(k^T))+F[12]+1804603682&4294967295,P=L+(O<<7&4294967295|O>>>25),O=T+(k^P&(L^k))+F[13]+4254626195&4294967295,T=P+(O<<12&4294967295|O>>>20),O=k+(L^T&(P^L))+F[14]+2792965006&4294967295,k=T+(O<<17&4294967295|O>>>15),O=L+(P^k&(T^P))+F[15]+1236535329&4294967295,L=k+(O<<22&4294967295|O>>>10),O=P+(k^T&(L^k))+F[1]+4129170786&4294967295,P=L+(O<<5&4294967295|O>>>27),O=T+(L^k&(P^L))+F[6]+3225465664&4294967295,T=P+(O<<9&4294967295|O>>>23),O=k+(P^L&(T^P))+F[11]+643717713&4294967295,k=T+(O<<14&4294967295|O>>>18),O=L+(T^P&(k^T))+F[0]+3921069994&4294967295,L=k+(O<<20&4294967295|O>>>12),O=P+(k^T&(L^k))+F[5]+3593408605&4294967295,P=L+(O<<5&4294967295|O>>>27),O=T+(L^k&(P^L))+F[10]+38016083&4294967295,T=P+(O<<9&4294967295|O>>>23),O=k+(P^L&(T^P))+F[15]+3634488961&4294967295,k=T+(O<<14&4294967295|O>>>18),O=L+(T^P&(k^T))+F[4]+3889429448&4294967295,L=k+(O<<20&4294967295|O>>>12),O=P+(k^T&(L^k))+F[9]+568446438&4294967295,P=L+(O<<5&4294967295|O>>>27),O=T+(L^k&(P^L))+F[14]+3275163606&4294967295,T=P+(O<<9&4294967295|O>>>23),O=k+(P^L&(T^P))+F[3]+4107603335&4294967295,k=T+(O<<14&4294967295|O>>>18),O=L+(T^P&(k^T))+F[8]+1163531501&4294967295,L=k+(O<<20&4294967295|O>>>12),O=P+(k^T&(L^k))+F[13]+2850285829&4294967295,P=L+(O<<5&4294967295|O>>>27),O=T+(L^k&(P^L))+F[2]+4243563512&4294967295,T=P+(O<<9&4294967295|O>>>23),O=k+(P^L&(T^P))+F[7]+1735328473&4294967295,k=T+(O<<14&4294967295|O>>>18),O=L+(T^P&(k^T))+F[12]+2368359562&4294967295,L=k+(O<<20&4294967295|O>>>12),O=P+(L^k^T)+F[5]+4294588738&4294967295,P=L+(O<<4&4294967295|O>>>28),O=T+(P^L^k)+F[8]+2272392833&4294967295,T=P+(O<<11&4294967295|O>>>21),O=k+(T^P^L)+F[11]+1839030562&4294967295,k=T+(O<<16&4294967295|O>>>16),O=L+(k^T^P)+F[14]+4259657740&4294967295,L=k+(O<<23&4294967295|O>>>9),O=P+(L^k^T)+F[1]+2763975236&4294967295,P=L+(O<<4&4294967295|O>>>28),O=T+(P^L^k)+F[4]+1272893353&4294967295,T=P+(O<<11&4294967295|O>>>21),O=k+(T^P^L)+F[7]+4139469664&4294967295,k=T+(O<<16&4294967295|O>>>16),O=L+(k^T^P)+F[10]+3200236656&4294967295,L=k+(O<<23&4294967295|O>>>9),O=P+(L^k^T)+F[13]+681279174&4294967295,P=L+(O<<4&4294967295|O>>>28),O=T+(P^L^k)+F[0]+3936430074&4294967295,T=P+(O<<11&4294967295|O>>>21),O=k+(T^P^L)+F[3]+3572445317&4294967295,k=T+(O<<16&4294967295|O>>>16),O=L+(k^T^P)+F[6]+76029189&4294967295,L=k+(O<<23&4294967295|O>>>9),O=P+(L^k^T)+F[9]+3654602809&4294967295,P=L+(O<<4&4294967295|O>>>28),O=T+(P^L^k)+F[12]+3873151461&4294967295,T=P+(O<<11&4294967295|O>>>21),O=k+(T^P^L)+F[15]+530742520&4294967295,k=T+(O<<16&4294967295|O>>>16),O=L+(k^T^P)+F[2]+3299628645&4294967295,L=k+(O<<23&4294967295|O>>>9),O=P+(k^(L|~T))+F[0]+4096336452&4294967295,P=L+(O<<6&4294967295|O>>>26),O=T+(L^(P|~k))+F[7]+1126891415&4294967295,T=P+(O<<10&4294967295|O>>>22),O=k+(P^(T|~L))+F[14]+2878612391&4294967295,k=T+(O<<15&4294967295|O>>>17),O=L+(T^(k|~P))+F[5]+4237533241&4294967295,L=k+(O<<21&4294967295|O>>>11),O=P+(k^(L|~T))+F[12]+1700485571&4294967295,P=L+(O<<6&4294967295|O>>>26),O=T+(L^(P|~k))+F[3]+2399980690&4294967295,T=P+(O<<10&4294967295|O>>>22),O=k+(P^(T|~L))+F[10]+4293915773&4294967295,k=T+(O<<15&4294967295|O>>>17),O=L+(T^(k|~P))+F[1]+2240044497&4294967295,L=k+(O<<21&4294967295|O>>>11),O=P+(k^(L|~T))+F[8]+1873313359&4294967295,P=L+(O<<6&4294967295|O>>>26),O=T+(L^(P|~k))+F[15]+4264355552&4294967295,T=P+(O<<10&4294967295|O>>>22),O=k+(P^(T|~L))+F[6]+2734768916&4294967295,k=T+(O<<15&4294967295|O>>>17),O=L+(T^(k|~P))+F[13]+1309151649&4294967295,L=k+(O<<21&4294967295|O>>>11),O=P+(k^(L|~T))+F[4]+4149444226&4294967295,P=L+(O<<6&4294967295|O>>>26),O=T+(L^(P|~k))+F[11]+3174756917&4294967295,T=P+(O<<10&4294967295|O>>>22),O=k+(P^(T|~L))+F[2]+718787259&4294967295,k=T+(O<<15&4294967295|O>>>17),O=L+(T^(k|~P))+F[9]+3951481745&4294967295,I.g[0]=I.g[0]+P&4294967295,I.g[1]=I.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+T&4294967295}r.prototype.u=function(I,P){P===void 0&&(P=I.length);for(var L=P-this.blockSize,F=this.B,k=this.h,T=0;T<P;){if(k==0)for(;T<=L;)s(this,I,T),T+=this.blockSize;if(typeof I=="string"){for(;T<P;)if(F[k++]=I.charCodeAt(T++),k==this.blockSize){s(this,F),k=0;break}}else for(;T<P;)if(F[k++]=I[T++],k==this.blockSize){s(this,F),k=0;break}}this.h=k,this.o+=P},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var P=1;P<I.length-8;++P)I[P]=0;var L=8*this.o;for(P=I.length-8;P<I.length;++P)I[P]=L&255,L/=256;for(this.u(I),I=Array(16),P=L=0;4>P;++P)for(var F=0;32>F;F+=8)I[L++]=this.g[P]>>>F&255;return I};function i(I,P){var L=a;return Object.prototype.hasOwnProperty.call(L,I)?L[I]:L[I]=P(I)}function o(I,P){this.h=P;for(var L=[],F=!0,k=I.length-1;0<=k;k--){var T=I[k]|0;F&&T==P||(L[k]=T,F=!1)}this.g=L}var a={};function c(I){return-128<=I&&128>I?i(I,function(P){return new o([P|0],0>P?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return _(u(-I));for(var P=[],L=1,F=0;I>=L;F++)P[F]=I/L|0,L*=4294967296;return new o(P,0)}function d(I,P){if(I.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(I.charAt(0)=="-")return _(d(I.substring(1),P));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=u(Math.pow(P,8)),F=h,k=0;k<I.length;k+=8){var T=Math.min(8,I.length-k),O=parseInt(I.substring(k,k+T),P);8>T?(T=u(Math.pow(P,T)),F=F.j(T).add(u(O))):(F=F.j(L),F=F.add(u(O)))}return F}var h=c(0),p=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-_(this).m();for(var I=0,P=1,L=0;L<this.g.length;L++){var F=this.i(L);I+=(0<=F?F:4294967296+F)*P,P*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(b(this))return"0";if(w(this))return"-"+_(this).toString(I);for(var P=u(Math.pow(I,6)),L=this,F="";;){var k=R(L,P).g;L=x(L,k.j(P));var T=((0<L.g.length?L.g[0]:L.h)>>>0).toString(I);if(L=k,b(L))return T+F;for(;6>T.length;)T="0"+T;F=T+F}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function b(I){if(I.h!=0)return!1;for(var P=0;P<I.g.length;P++)if(I.g[P]!=0)return!1;return!0}function w(I){return I.h==-1}t.l=function(I){return I=x(this,I),w(I)?-1:b(I)?0:1};function _(I){for(var P=I.g.length,L=[],F=0;F<P;F++)L[F]=~I.g[F];return new o(L,~I.h).add(p)}t.abs=function(){return w(this)?_(this):this},t.add=function(I){for(var P=Math.max(this.g.length,I.g.length),L=[],F=0,k=0;k<=P;k++){var T=F+(this.i(k)&65535)+(I.i(k)&65535),O=(T>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);F=O>>>16,T&=65535,O&=65535,L[k]=O<<16|T}return new o(L,L[L.length-1]&-2147483648?-1:0)};function x(I,P){return I.add(_(P))}t.j=function(I){if(b(this)||b(I))return h;if(w(this))return w(I)?_(this).j(_(I)):_(_(this).j(I));if(w(I))return _(this.j(_(I)));if(0>this.l(g)&&0>I.l(g))return u(this.m()*I.m());for(var P=this.g.length+I.g.length,L=[],F=0;F<2*P;F++)L[F]=0;for(F=0;F<this.g.length;F++)for(var k=0;k<I.g.length;k++){var T=this.i(F)>>>16,O=this.i(F)&65535,G=I.i(k)>>>16,ue=I.i(k)&65535;L[2*F+2*k]+=O*ue,v(L,2*F+2*k),L[2*F+2*k+1]+=T*ue,v(L,2*F+2*k+1),L[2*F+2*k+1]+=O*G,v(L,2*F+2*k+1),L[2*F+2*k+2]+=T*G,v(L,2*F+2*k+2)}for(F=0;F<P;F++)L[F]=L[2*F+1]<<16|L[2*F];for(F=P;F<2*P;F++)L[F]=0;return new o(L,0)};function v(I,P){for(;(I[P]&65535)!=I[P];)I[P+1]+=I[P]>>>16,I[P]&=65535,P++}function N(I,P){this.g=I,this.h=P}function R(I,P){if(b(P))throw Error("division by zero");if(b(I))return new N(h,h);if(w(I))return P=R(_(I),P),new N(_(P.g),_(P.h));if(w(P))return P=R(I,_(P)),new N(_(P.g),P.h);if(30<I.g.length){if(w(I)||w(P))throw Error("slowDivide_ only works with positive integers.");for(var L=p,F=P;0>=F.l(I);)L=M(L),F=M(F);var k=$(L,1),T=$(F,1);for(F=$(F,2),L=$(L,2);!b(F);){var O=T.add(F);0>=O.l(I)&&(k=k.add(L),T=O),F=$(F,1),L=$(L,1)}return P=x(I,k.j(P)),new N(k,P)}for(k=h;0<=I.l(P);){for(L=Math.max(1,Math.floor(I.m()/P.m())),F=Math.ceil(Math.log(L)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),T=u(L),O=T.j(P);w(O)||0<O.l(I);)L-=F,T=u(L),O=T.j(P);b(T)&&(T=p),k=k.add(T),I=x(I,O)}return new N(k,I)}t.A=function(I){return R(this,I).h},t.and=function(I){for(var P=Math.max(this.g.length,I.g.length),L=[],F=0;F<P;F++)L[F]=this.i(F)&I.i(F);return new o(L,this.h&I.h)},t.or=function(I){for(var P=Math.max(this.g.length,I.g.length),L=[],F=0;F<P;F++)L[F]=this.i(F)|I.i(F);return new o(L,this.h|I.h)},t.xor=function(I){for(var P=Math.max(this.g.length,I.g.length),L=[],F=0;F<P;F++)L[F]=this.i(F)^I.i(F);return new o(L,this.h^I.h)};function M(I){for(var P=I.g.length+1,L=[],F=0;F<P;F++)L[F]=I.i(F)<<1|I.i(F-1)>>>31;return new o(L,I.h)}function $(I,P){var L=P>>5;P%=32;for(var F=I.g.length-L,k=[],T=0;T<F;T++)k[T]=0<P?I.i(T+L)>>>P|I.i(T+L+1)<<32-P:I.i(T+L);return new o(k,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,hO=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Au=o}).apply(typeof EP<"u"?EP:typeof self<"u"?self:typeof window<"u"?window:{});var o0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fO,rg,pO,V0,d_,mO,gO,vO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,C,D){return m==Array.prototype||m==Object.prototype||(m[C]=D.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof o0=="object"&&o0];for(var C=0;C<m.length;++C){var D=m[C];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=n(this);function s(m,C){if(C)e:{var D=r;m=m.split(".");for(var W=0;W<m.length-1;W++){var ge=m[W];if(!(ge in D))break e;D=D[ge]}m=m[m.length-1],W=D[m],C=C(W),C!=W&&C!=null&&e(D,m,{configurable:!0,writable:!0,value:C})}}function i(m,C){m instanceof String&&(m+="");var D=0,W=!1,ge={next:function(){if(!W&&D<m.length){var Ne=D++;return{value:C(Ne,m[Ne]),done:!1}}return W=!0,{done:!0,value:void 0}}};return ge[Symbol.iterator]=function(){return ge},ge}s("Array.prototype.values",function(m){return m||function(){return i(this,function(C,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(m){var C=typeof m;return C=C!="object"?C:m?Array.isArray(m)?"array":C:"null",C=="array"||C=="object"&&typeof m.length=="number"}function u(m){var C=typeof m;return C=="object"&&m!=null||C=="function"}function d(m,C,D){return m.call.apply(m.bind,arguments)}function h(m,C,D){if(!m)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var ge=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ge,W),m.apply(C,ge)}}return function(){return m.apply(C,arguments)}}function p(m,C,D){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function g(m,C){var D=Array.prototype.slice.call(arguments,1);return function(){var W=D.slice();return W.push.apply(W,arguments),m.apply(this,W)}}function b(m,C){function D(){}D.prototype=C.prototype,m.aa=C.prototype,m.prototype=new D,m.prototype.constructor=m,m.Qb=function(W,ge,Ne){for(var $e=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)$e[Vt-2]=arguments[Vt];return C.prototype[ge].apply(W,$e)}}function w(m){const C=m.length;if(0<C){const D=Array(C);for(let W=0;W<C;W++)D[W]=m[W];return D}return[]}function _(m,C){for(let D=1;D<arguments.length;D++){const W=arguments[D];if(c(W)){const ge=m.length||0,Ne=W.length||0;m.length=ge+Ne;for(let $e=0;$e<Ne;$e++)m[ge+$e]=W[$e]}else m.push(W)}}class x{constructor(C,D){this.i=C,this.j=D,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function v(m){return/^[\s\xa0]*$/.test(m)}function N(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function R(m){return R[" "](m),m}R[" "]=function(){};var M=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function $(m,C,D){for(const W in m)C.call(D,m[W],W,m)}function I(m,C){for(const D in m)C.call(void 0,m[D],D,m)}function P(m){const C={};for(const D in m)C[D]=m[D];return C}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(m,C){let D,W;for(let ge=1;ge<arguments.length;ge++){W=arguments[ge];for(D in W)m[D]=W[D];for(let Ne=0;Ne<L.length;Ne++)D=L[Ne],Object.prototype.hasOwnProperty.call(W,D)&&(m[D]=W[D])}}function k(m){var C=1;m=m.split(":");const D=[];for(;0<C&&m.length;)D.push(m.shift()),C--;return m.length&&D.push(m.join(":")),D}function T(m){a.setTimeout(()=>{throw m},0)}function O(){var m=te;let C=null;return m.g&&(C=m.g,m.g=m.g.next,m.g||(m.h=null),C.next=null),C}class G{constructor(){this.h=this.g=null}add(C,D){const W=ue.get();W.set(C,D),this.h?this.h.next=W:this.g=W,this.h=W}}var ue=new x(()=>new ie,m=>m.reset());class ie{constructor(){this.next=this.g=this.h=null}set(C,D){this.h=C,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,Y=!1,te=new G,re=()=>{const m=a.Promise.resolve(void 0);fe=()=>{m.then(Ee)}};var Ee=()=>{for(var m;m=O();){try{m.h.call(m.g)}catch(D){T(D)}var C=ue;C.j(m),100>C.h&&(C.h++,m.next=C.g,C.g=m)}Y=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(m,C){this.type=m,this.g=this.target=C,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,C=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const D=()=>{};a.addEventListener("test",D,C),a.removeEventListener("test",D,C)}catch{}return m}();function se(m,C){if(Q.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var D=this.type=m.type,W=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=C,C=m.relatedTarget){if(M){e:{try{R(C.nodeName);var ge=!0;break e}catch{}ge=!1}ge||(C=null)}}else D=="mouseover"?C=m.fromElement:D=="mouseout"&&(C=m.toElement);this.relatedTarget=C,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:le[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&se.aa.h.call(this)}}b(se,Q);var le={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),we=0;function xe(m,C,D,W,ge){this.listener=m,this.proxy=null,this.src=C,this.type=D,this.capture=!!W,this.ha=ge,this.key=++we,this.da=this.fa=!1}function je(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ke(m){this.src=m,this.g={},this.h=0}ke.prototype.add=function(m,C,D,W,ge){var Ne=m.toString();m=this.g[Ne],m||(m=this.g[Ne]=[],this.h++);var $e=We(m,C,W,ge);return-1<$e?(C=m[$e],D||(C.fa=!1)):(C=new xe(C,this.src,Ne,!!W,ge),C.fa=D,m.push(C)),C};function Ue(m,C){var D=C.type;if(D in m.g){var W=m.g[D],ge=Array.prototype.indexOf.call(W,C,void 0),Ne;(Ne=0<=ge)&&Array.prototype.splice.call(W,ge,1),Ne&&(je(C),m.g[D].length==0&&(delete m.g[D],m.h--))}}function We(m,C,D,W){for(var ge=0;ge<m.length;++ge){var Ne=m[ge];if(!Ne.da&&Ne.listener==C&&Ne.capture==!!D&&Ne.ha==W)return ge}return-1}var ut="closure_lm_"+(1e6*Math.random()|0),Ae={};function ne(m,C,D,W,ge){if(Array.isArray(C)){for(var Ne=0;Ne<C.length;Ne++)ne(m,C[Ne],D,W,ge);return null}return D=De(D),m&&m[oe]?m.K(C,D,u(W)?!!W.capture:!1,ge):_t(m,C,D,!1,W,ge)}function _t(m,C,D,W,ge,Ne){if(!C)throw Error("Invalid event type");var $e=u(ge)?!!ge.capture:!!ge,Vt=ce(m);if(Vt||(m[ut]=Vt=new ke(m)),D=Vt.add(C,D,W,$e,Ne),D.proxy)return D;if(W=dt(),D.proxy=W,W.src=m,W.listener=D,m.addEventListener)J||(ge=$e),ge===void 0&&(ge=!1),m.addEventListener(C.toString(),W,ge);else if(m.attachEvent)m.attachEvent(tt(C.toString()),W);else if(m.addListener&&m.removeListener)m.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return D}function dt(){function m(D){return C.call(m.src,m.listener,D)}const C=X;return m}function qe(m,C,D,W,ge){if(Array.isArray(C))for(var Ne=0;Ne<C.length;Ne++)qe(m,C[Ne],D,W,ge);else W=u(W)?!!W.capture:!!W,D=De(D),m&&m[oe]?(m=m.i,C=String(C).toString(),C in m.g&&(Ne=m.g[C],D=We(Ne,D,W,ge),-1<D&&(je(Ne[D]),Array.prototype.splice.call(Ne,D,1),Ne.length==0&&(delete m.g[C],m.h--)))):m&&(m=ce(m))&&(C=m.g[C.toString()],m=-1,C&&(m=We(C,D,W,ge)),(D=-1<m?C[m]:null)&&Ze(D))}function Ze(m){if(typeof m!="number"&&m&&!m.da){var C=m.src;if(C&&C[oe])Ue(C.i,m);else{var D=m.type,W=m.proxy;C.removeEventListener?C.removeEventListener(D,W,m.capture):C.detachEvent?C.detachEvent(tt(D),W):C.addListener&&C.removeListener&&C.removeListener(W),(D=ce(C))?(Ue(D,m),D.h==0&&(D.src=null,C[ut]=null)):je(m)}}}function tt(m){return m in Ae?Ae[m]:Ae[m]="on"+m}function X(m,C){if(m.da)m=!0;else{C=new se(C,this);var D=m.listener,W=m.ha||m.src;m.fa&&Ze(m),m=D.call(W,C)}return m}function ce(m){return m=m[ut],m instanceof ke?m:null}var be="__closure_events_fn_"+(1e9*Math.random()>>>0);function De(m){return typeof m=="function"?m:(m[be]||(m[be]=function(C){return m.handleEvent(C)}),m[be])}function Te(){B.call(this),this.i=new ke(this),this.M=this,this.F=null}b(Te,B),Te.prototype[oe]=!0,Te.prototype.removeEventListener=function(m,C,D,W){qe(this,m,C,D,W)};function Ce(m,C){var D,W=m.F;if(W)for(D=[];W;W=W.F)D.push(W);if(m=m.M,W=C.type||C,typeof C=="string")C=new Q(C,m);else if(C instanceof Q)C.target=C.target||m;else{var ge=C;C=new Q(W,m),F(C,ge)}if(ge=!0,D)for(var Ne=D.length-1;0<=Ne;Ne--){var $e=C.g=D[Ne];ge=He($e,W,!0,C)&&ge}if($e=C.g=m,ge=He($e,W,!0,C)&&ge,ge=He($e,W,!1,C)&&ge,D)for(Ne=0;Ne<D.length;Ne++)$e=C.g=D[Ne],ge=He($e,W,!1,C)&&ge}Te.prototype.N=function(){if(Te.aa.N.call(this),this.i){var m=this.i,C;for(C in m.g){for(var D=m.g[C],W=0;W<D.length;W++)je(D[W]);delete m.g[C],m.h--}}this.F=null},Te.prototype.K=function(m,C,D,W){return this.i.add(String(m),C,!1,D,W)},Te.prototype.L=function(m,C,D,W){return this.i.add(String(m),C,!0,D,W)};function He(m,C,D,W){if(C=m.i.g[String(C)],!C)return!0;C=C.concat();for(var ge=!0,Ne=0;Ne<C.length;++Ne){var $e=C[Ne];if($e&&!$e.da&&$e.capture==D){var Vt=$e.listener,on=$e.ha||$e.src;$e.fa&&Ue(m.i,$e),ge=Vt.call(on,W)!==!1&&ge}}return ge&&!W.defaultPrevented}function Je(m,C,D){if(typeof m=="function")D&&(m=p(m,D));else if(m&&typeof m.handleEvent=="function")m=p(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:a.setTimeout(m,C||0)}function yt(m){m.g=Je(()=>{m.g=null,m.i&&(m.i=!1,yt(m))},m.l);const C=m.h;m.h=null,m.m.apply(null,C)}class Ye extends B{constructor(C,D){super(),this.m=C,this.l=D,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:yt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xn(m){B.call(this),this.h=m,this.g={}}b(Xn,B);var Zt=[];function qr(m){$(m.g,function(C,D){this.g.hasOwnProperty(D)&&Ze(C)},m),m.g={}}Xn.prototype.N=function(){Xn.aa.N.call(this),qr(this)},Xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gn=a.JSON.stringify,Cn=a.JSON.parse,si=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function nn(){}nn.prototype.h=null;function fa(m){return m.h||(m.h=m.i())}function $n(){}var Jr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ei(){Q.call(this,"d")}b(Ei,Q);function Vn(){Q.call(this,"c")}b(Vn,Q);var St={},vn=null;function Qi(){return vn=vn||new Te}St.La="serverreachability";function Ar(m){Q.call(this,St.La,m)}b(Ar,Q);function ps(m){const C=Qi();Ce(C,new Ar(C))}St.STAT_EVENT="statevent";function Ai(m,C){Q.call(this,St.STAT_EVENT,m),this.stat=C}b(Ai,Q);function ht(m){const C=Qi();Ce(C,new Ai(C,m))}St.Ma="timingevent";function ii(m,C){Q.call(this,St.Ma,m),this.size=C}b(ii,Q);function ms(m,C){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},C)}function Cr(){this.g=!0}Cr.prototype.xa=function(){this.g=!1};function fr(m,C,D,W,ge,Ne){m.info(function(){if(m.g)if(Ne)for(var $e="",Vt=Ne.split("&"),on=0;on<Vt.length;on++){var Ut=Vt[on].split("=");if(1<Ut.length){var Sn=Ut[0];Ut=Ut[1];var On=Sn.split("_");$e=2<=On.length&&On[1]=="type"?$e+(Sn+"="+Ut+"&"):$e+(Sn+"=redacted&")}}else $e=null;else $e=Ne;return"XMLHTTP REQ ("+W+") [attempt "+ge+"]: "+C+`
`+D+`
`+$e})}function or(m,C,D,W,ge,Ne,$e){m.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+ge+"]: "+C+`
`+D+`
`+Ne+" "+$e})}function Pr(m,C,D,W){m.info(function(){return"XMLHTTP TEXT ("+C+"): "+xo(m,D)+(W?" "+W:"")})}function dc(m,C){m.info(function(){return"TIMEOUT: "+C})}Cr.prototype.info=function(){};function xo(m,C){if(!m.g)return C;if(!C)return null;try{var D=JSON.parse(C);if(D){for(m=0;m<D.length;m++)if(Array.isArray(D[m])){var W=D[m];if(!(2>W.length)){var ge=W[1];if(Array.isArray(ge)&&!(1>ge.length)){var Ne=ge[0];if(Ne!="noop"&&Ne!="stop"&&Ne!="close")for(var $e=1;$e<ge.length;$e++)ge[$e]=""}}}}return gn(D)}catch{return C}}var gs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ds;function Ms(){}b(Ms,nn),Ms.prototype.g=function(){return new XMLHttpRequest},Ms.prototype.i=function(){return{}},Ds=new Ms;function pr(m,C,D,W){this.j=m,this.i=C,this.l=D,this.R=W||1,this.U=new Xn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ci}function Ci(){this.i=null,this.g="",this.h=!1}var pa={},ma={};function ga(m,C,D){m.L=1,m.v=dl(Fs(C)),m.m=D,m.P=!0,ol(m,null)}function ol(m,C){m.F=Date.now(),hc(m),m.A=Fs(m.v);var D=m.A,W=m.R;Array.isArray(W)||(W=[String(W)]),It(D.i,"t",W),m.C=0,D=m.j.J,m.h=new Ci,m.g=V(m.j,D?C:null,!m.m),0<m.O&&(m.M=new Ye(p(m.Y,m,m.g),m.O)),C=m.U,D=m.g,W=m.ca;var ge="readystatechange";Array.isArray(ge)||(ge&&(Zt[0]=ge.toString()),ge=Zt);for(var Ne=0;Ne<ge.length;Ne++){var $e=ne(D,ge[Ne],W||C.handleEvent,!1,C.h||C);if(!$e)break;C.g[$e.key]=$e}C=m.H?P(m.H):{},m.m?(m.u||(m.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,C)):(m.u="GET",m.g.ea(m.A,m.u,null,C)),ps(),fr(m.i,m.u,m.A,m.l,m.R,m.m)}pr.prototype.ca=function(m){m=m.target;const C=this.M;C&&Or(m)==3?C.j():this.Y(m)},pr.prototype.Y=function(m){try{if(m==this.g)e:{const On=Or(this.g);var C=this.g.Ba();const Po=this.g.Z();if(!(3>On)&&(On!=3||this.g&&(this.h.h||this.g.oa()||Wh(this.g)))){this.J||On!=4||C==7||(C==8||0>=Po?ps(3):ps(2)),va(this);var D=this.g.Z();this.X=D;t:if(al(this)){var W=Wh(this.g);m="";var ge=W.length,Ne=Or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bo(this),ya(this);var $e="";break t}this.h.i=new a.TextDecoder}for(C=0;C<ge;C++)this.h.h=!0,m+=this.h.i.decode(W[C],{stream:!(Ne&&C==ge-1)});W.length=0,this.h.g+=m,this.C=0,$e=this.h.g}else $e=this.g.oa();if(this.o=D==200,or(this.i,this.u,this.A,this.l,this.R,On,D),this.o){if(this.T&&!this.K){t:{if(this.g){var Vt,on=this.g;if((Vt=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Vt)){var Ut=Vt;break t}}Ut=null}if(D=Ut)Pr(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ll(this,D);else{this.o=!1,this.s=3,ht(12),bo(this),ya(this);break e}}if(this.P){D=!0;let ts;for(;!this.J&&this.C<$e.length;)if(ts=Dh(this,$e),ts==ma){On==4&&(this.s=4,ht(14),D=!1),Pr(this.i,this.l,null,"[Incomplete Response]");break}else if(ts==pa){this.s=4,ht(15),Pr(this.i,this.l,$e,"[Invalid Chunk]"),D=!1;break}else Pr(this.i,this.l,ts,null),ll(this,ts);if(al(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),On!=4||$e.length!=0||this.h.h||(this.s=1,ht(16),D=!1),this.o=this.o&&D,!D)Pr(this.i,this.l,$e,"[Invalid Chunked Response]"),bo(this),ya(this);else if(0<$e.length&&!this.W){this.W=!0;var Sn=this.j;Sn.g==this&&Sn.ba&&!Sn.M&&(Sn.j.info("Great, no buffering proxy detected. Bytes received: "+$e.length),Ac(Sn),Sn.M=!0,ht(11))}}else Pr(this.i,this.l,$e,null),ll(this,$e);On==4&&bo(this),this.o&&!this.J&&(On==4?Sa(this.j,this):(this.o=!1,hc(this)))}else ba(this.g),D==400&&0<$e.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),bo(this),ya(this)}}}catch{}finally{}};function al(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Dh(m,C){var D=m.C,W=C.indexOf(`
`,D);return W==-1?ma:(D=Number(C.substring(D,W)),isNaN(D)?pa:(W+=1,W+D>C.length?ma:(C=C.slice(W,W+D),m.C=W+D,C)))}pr.prototype.cancel=function(){this.J=!0,bo(this)};function hc(m){m.S=Date.now()+m.I,Mh(m,m.I)}function Mh(m,C){if(m.B!=null)throw Error("WatchDog timer not null");m.B=ms(p(m.ba,m),C)}function va(m){m.B&&(a.clearTimeout(m.B),m.B=null)}pr.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(dc(this.i,this.A),this.L!=2&&(ps(),ht(17)),bo(this),this.s=2,ya(this)):Mh(this,this.S-m)};function ya(m){m.j.G==0||m.J||Sa(m.j,m)}function bo(m){va(m);var C=m.M;C&&typeof C.ma=="function"&&C.ma(),m.M=null,qr(m.U),m.g&&(C=m.g,m.g=null,C.abort(),C.ma())}function ll(m,C){try{var D=m.j;if(D.G!=0&&(D.g==m||ld(D.h,m))){if(!m.K&&ld(D.h,m)&&D.G==3){try{var W=D.Da.g.parse(C)}catch{W=null}if(Array.isArray(W)&&W.length==3){var ge=W;if(ge[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<m.F)Co(D),_c(D);else break e;gl(D),ht(18)}}else D.za=ge[1],0<D.za-D.T&&37500>ge[2]&&D.F&&D.v==0&&!D.C&&(D.C=ms(p(D.Za,D),6e3));if(1>=cl(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else vs(D,11)}else if((m.K||D.g==m)&&Co(D),!v(C))for(ge=D.Da.g.parse(C),C=0;C<ge.length;C++){let Ut=ge[C];if(D.T=Ut[0],Ut=Ut[1],D.G==2)if(Ut[0]=="c"){D.K=Ut[1],D.ia=Ut[2];const Sn=Ut[3];Sn!=null&&(D.la=Sn,D.j.info("VER="+D.la));const On=Ut[4];On!=null&&(D.Aa=On,D.j.info("SVER="+D.Aa));const Po=Ut[5];Po!=null&&typeof Po=="number"&&0<Po&&(W=1.5*Po,D.L=W,D.j.info("backChannelRequestTimeoutMs_="+W)),W=D;const ts=m.g;if(ts){const Na=ts.g?ts.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Na){var Ne=W.h;Ne.g||Na.indexOf("spdy")==-1&&Na.indexOf("quic")==-1&&Na.indexOf("h2")==-1||(Ne.j=Ne.l,Ne.g=new Set,Ne.h&&(Wn(Ne,Ne.h),Ne.h=null))}if(W.D){const Ea=ts.g?ts.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(W.ya=Ea,Pn(W.I,W.D,Ea))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-m.F,D.j.info("Handshake RTT: "+D.R+"ms")),W=D;var $e=m;if(W.qa=S(W,W.J?W.ia:null,W.W),$e.K){cd(W.h,$e);var Vt=$e,on=W.L;on&&(Vt.I=on),Vt.B&&(va(Vt),hc(Vt)),W.g=$e}else Ec(W);0<D.i.length&&Sc(D)}else Ut[0]!="stop"&&Ut[0]!="close"||vs(D,7);else D.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?vs(D,7):Ao(D):Ut[0]!="noop"&&D.l&&D.l.ta(Ut),D.v=0)}}ps(4)}catch{}}var pm=class{constructor(m,C){this.g=m,this.map=C}};function ad(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fh(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function cl(m){return m.h?1:m.g?m.g.size:0}function ld(m,C){return m.h?m.h==C:m.g?m.g.has(C):!1}function Wn(m,C){m.g?m.g.add(C):m.h=C}function cd(m,C){m.h&&m.h==C?m.h=null:m.g&&m.g.has(C)&&m.g.delete(C)}ad.prototype.cancel=function(){if(this.i=ud(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function ud(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let C=m.i;for(const D of m.g.values())C=C.concat(D.D);return C}return w(m.i)}function Vh(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var C=[],D=m.length,W=0;W<D;W++)C.push(m[W]);return C}C=[],D=0;for(W in m)C[D++]=m[W];return C}function dd(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var C=[];m=m.length;for(var D=0;D<m;D++)C.push(D);return C}C=[],D=0;for(const W in m)C[D++]=W;return C}}}function Uh(m,C){if(m.forEach&&typeof m.forEach=="function")m.forEach(C,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,C,void 0);else for(var D=dd(m),W=Vh(m),ge=W.length,Ne=0;Ne<ge;Ne++)C.call(void 0,W[Ne],D&&D[Ne],m)}var ai=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fc(m,C){if(m){m=m.split("&");for(var D=0;D<m.length;D++){var W=m[D].indexOf("="),ge=null;if(0<=W){var Ne=m[D].substring(0,W);ge=m[D].substring(W+1)}else Ne=m[D];C(Ne,ge?decodeURIComponent(ge.replace(/\+/g," ")):"")}}}function ar(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof ar){this.h=m.h,ul(this,m.j),this.o=m.o,this.g=m.g,pc(this,m.s),this.l=m.l;var C=m.i,D=new wa;D.i=C.i,C.g&&(D.g=new Map(C.g),D.h=C.h),hd(this,D),this.m=m.m}else m&&(C=String(m).match(ai))?(this.h=!1,ul(this,C[1]||"",!0),this.o=hl(C[2]||""),this.g=hl(C[3]||"",!0),pc(this,C[4]),this.l=hl(C[5]||"",!0),hd(this,C[6]||"",!0),this.m=hl(C[7]||"")):(this.h=!1,this.i=new wa(null,this.h))}ar.prototype.toString=function(){var m=[],C=this.j;C&&m.push(_o(C,Bh,!0),":");var D=this.g;return(D||C=="file")&&(m.push("//"),(C=this.o)&&m.push(_o(C,Bh,!0),"@"),m.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&m.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&m.push("/"),m.push(_o(D,D.charAt(0)=="/"?So:gm,!0))),(D=this.i.toString())&&m.push("?",D),(D=this.m)&&m.push("#",_o(D,gc)),m.join("")};function Fs(m){return new ar(m)}function ul(m,C,D){m.j=D?hl(C,!0):C,m.j&&(m.j=m.j.replace(/:$/,""))}function pc(m,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);m.s=C}else m.s=null}function hd(m,C,D){C instanceof wa?(m.i=C,vm(m.i,m.h)):(D||(C=_o(C,mc)),m.i=new wa(C,m.h))}function Pn(m,C,D){m.i.set(C,D)}function dl(m){return Pn(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function hl(m,C){return m?C?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function _o(m,C,D){return typeof m=="string"?(m=encodeURI(m).replace(C,mm),D&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function mm(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Bh=/[#\/\?@]/g,gm=/[#\?:]/g,So=/[#\?]/g,mc=/[#\?@]/g,gc=/#/g;function wa(m,C){this.h=this.g=null,this.i=m||null,this.j=!!C}function Hn(m){m.g||(m.g=new Map,m.h=0,m.i&&fc(m.i,function(C,D){m.add(decodeURIComponent(C.replace(/\+/g," ")),D)}))}t=wa.prototype,t.add=function(m,C){Hn(this),this.i=null,m=xa(this,m);var D=this.g.get(m);return D||this.g.set(m,D=[]),D.push(C),this.h+=1,this};function zh(m,C){Hn(m),C=xa(m,C),m.g.has(C)&&(m.i=null,m.h-=m.g.get(C).length,m.g.delete(C))}function fd(m,C){return Hn(m),C=xa(m,C),m.g.has(C)}t.forEach=function(m,C){Hn(this),this.g.forEach(function(D,W){D.forEach(function(ge){m.call(C,ge,W,this)},this)},this)},t.na=function(){Hn(this);const m=Array.from(this.g.values()),C=Array.from(this.g.keys()),D=[];for(let W=0;W<C.length;W++){const ge=m[W];for(let Ne=0;Ne<ge.length;Ne++)D.push(C[W])}return D},t.V=function(m){Hn(this);let C=[];if(typeof m=="string")fd(this,m)&&(C=C.concat(this.g.get(xa(this,m))));else{m=Array.from(this.g.values());for(let D=0;D<m.length;D++)C=C.concat(m[D])}return C},t.set=function(m,C){return Hn(this),this.i=null,m=xa(this,m),fd(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[C]),this.h+=1,this},t.get=function(m,C){return m?(m=this.V(m),0<m.length?String(m[0]):C):C};function It(m,C,D){zh(m,C),0<D.length&&(m.i=null,m.g.set(xa(m,C),w(D)),m.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],C=Array.from(this.g.keys());for(var D=0;D<C.length;D++){var W=C[D];const Ne=encodeURIComponent(String(W)),$e=this.V(W);for(W=0;W<$e.length;W++){var ge=Ne;$e[W]!==""&&(ge+="="+encodeURIComponent(String($e[W]))),m.push(ge)}}return this.i=m.join("&")};function xa(m,C){return C=String(C),m.j&&(C=C.toLowerCase()),C}function vm(m,C){C&&!m.j&&(Hn(m),m.i=null,m.g.forEach(function(D,W){var ge=W.toLowerCase();W!=ge&&(zh(this,W),It(this,ge,D))},m)),m.j=C}function Xi(m,C){const D=new Cr;if(a.Image){const W=new Image;W.onload=g(Pi,D,"TestLoadImage: loaded",!0,C,W),W.onerror=g(Pi,D,"TestLoadImage: error",!1,C,W),W.onabort=g(Pi,D,"TestLoadImage: abort",!1,C,W),W.ontimeout=g(Pi,D,"TestLoadImage: timeout",!1,C,W),a.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=m}else C(!1)}function qh(m,C){const D=new Cr,W=new AbortController,ge=setTimeout(()=>{W.abort(),Pi(D,"TestPingServer: timeout",!1,C)},1e4);fetch(m,{signal:W.signal}).then(Ne=>{clearTimeout(ge),Ne.ok?Pi(D,"TestPingServer: ok",!0,C):Pi(D,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(ge),Pi(D,"TestPingServer: error",!1,C)})}function Pi(m,C,D,W,ge){try{ge&&(ge.onload=null,ge.onerror=null,ge.onabort=null,ge.ontimeout=null),W(D)}catch{}}function vc(){this.g=new si}function pd(m,C,D){const W=D||"";try{Uh(m,function(ge,Ne){let $e=ge;u(ge)&&($e=gn(ge)),C.push(W+Ne+"="+encodeURIComponent($e))})}catch(ge){throw C.push(W+"type="+encodeURIComponent("_badmap")),ge}}function yc(m){this.l=m.Ub||null,this.j=m.eb||!1}b(yc,nn),yc.prototype.g=function(){return new wc(this.l,this.j)},yc.prototype.i=function(m){return function(){return m}}({});function wc(m,C){Te.call(this),this.D=m,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(wc,Te),t=wc.prototype,t.open=function(m,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=C,this.readyState=1,Ti(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(C.body=m),(this.D||a).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,No(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$h(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function $h(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var C=m.value?m.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!m.done}))&&(this.response=this.responseText+=C)}m.done?No(this):Ti(this),this.readyState==3&&$h(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,No(this))},t.Qa=function(m){this.g&&(this.response=m,No(this))},t.ga=function(){this.g&&No(this)};function No(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ti(m)}t.setRequestHeader=function(m,C){this.u.append(m,C)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],C=this.h.entries();for(var D=C.next();!D.done;)D=D.value,m.push(D[0]+": "+D[1]),D=C.next();return m.join(`\r
`)};function Ti(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(wc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Eo(m){let C="";return $(m,function(D,W){C+=W,C+=":",C+=D,C+=`\r
`}),C}function md(m,C,D){e:{for(W in D){var W=!1;break e}W=!0}W||(D=Eo(D),typeof m=="string"?D!=null&&encodeURIComponent(String(D)):Pn(m,C,D))}function _n(m){Te.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(_n,Te);var gd=/^https?$/i,xc=["POST","PUT"];t=_n.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,C,D,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);C=C?C.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ds.g(),this.v=this.o?fa(this.o):fa(Ds),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(C,String(m),!0),this.B=!1}catch(Ne){vd(this,Ne);return}if(m=D||"",D=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var ge in W)D.set(ge,W[ge]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const Ne of W.keys())D.set(Ne,W.get(Ne));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(D.keys()).find(Ne=>Ne.toLowerCase()=="content-type"),ge=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xc,C,void 0))||W||ge||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ne,$e]of D)this.g.setRequestHeader(Ne,$e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ii(this),this.u=!0,this.g.send(m),this.u=!1}catch(Ne){vd(this,Ne)}};function vd(m,C){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=C,m.m=5,yd(m),fl(m)}function yd(m){m.A||(m.A=!0,Ce(m,"complete"),Ce(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Ce(this,"complete"),Ce(this,"abort"),fl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fl(this,!0)),_n.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wd(this):this.bb())},t.bb=function(){wd(this)};function wd(m){if(m.h&&typeof o<"u"&&(!m.v[1]||Or(m)!=4||m.Z()!=2)){if(m.u&&Or(m)==4)Je(m.Ea,0,m);else if(Ce(m,"readystatechange"),Or(m)==4){m.h=!1;try{const $e=m.Z();e:switch($e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var D;if(!(D=C)){var W;if(W=$e===0){var ge=String(m.D).match(ai)[1]||null;!ge&&a.self&&a.self.location&&(ge=a.self.location.protocol.slice(0,-1)),W=!gd.test(ge?ge.toLowerCase():"")}D=W}if(D)Ce(m,"complete"),Ce(m,"success");else{m.m=6;try{var Ne=2<Or(m)?m.g.statusText:""}catch{Ne=""}m.l=Ne+" ["+m.Z()+"]",yd(m)}}finally{fl(m)}}}}function fl(m,C){if(m.g){Ii(m);const D=m.g,W=m.v[0]?()=>{}:null;m.g=null,m.v=null,C||Ce(m,"ready");try{D.onreadystatechange=W}catch{}}}function Ii(m){m.I&&(a.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Or(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var C=this.g.responseText;return m&&C.indexOf(m)==0&&(C=C.substring(m.length)),Cn(C)}};function Wh(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function ba(m){const C={};m=(m.g&&2<=Or(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<m.length;W++){if(v(m[W]))continue;var D=k(m[W]);const ge=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const Ne=C[ge]||[];C[ge]=Ne,Ne.push(D)}I(C,function(W){return W.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function es(m,C,D){return D&&D.internalChannelParams&&D.internalChannelParams[m]||C}function bc(m){this.Aa=0,this.i=[],this.j=new Cr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=es("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=es("baseRetryDelayMs",5e3,m),this.cb=es("retryDelaySeedMs",1e4,m),this.Wa=es("forwardChannelMaxRetries",2,m),this.wa=es("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ad(m&&m.concurrentRequestLimit),this.Da=new vc,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=bc.prototype,t.la=8,t.G=1,t.connect=function(m,C,D,W){ht(0),this.W=m,this.H=C||{},D&&W!==void 0&&(this.H.OSID=D,this.H.OAID=W),this.F=this.X,this.I=S(this,null,this.W),Sc(this)};function Ao(m){if(pl(m),m.G==3){var C=m.U++,D=Fs(m.I);if(Pn(D,"SID",m.K),Pn(D,"RID",C),Pn(D,"TYPE","terminate"),_a(m,D),C=new pr(m,m.j,C),C.L=2,C.v=dl(Fs(D)),D=!1,a.navigator&&a.navigator.sendBeacon)try{D=a.navigator.sendBeacon(C.v.toString(),"")}catch{}!D&&a.Image&&(new Image().src=C.v,D=!0),D||(C.g=V(C.j,null),C.g.ea(C.v)),C.F=Date.now(),hc(C)}Pc(m)}function _c(m){m.g&&(Ac(m),m.g.cancel(),m.g=null)}function pl(m){_c(m),m.u&&(a.clearTimeout(m.u),m.u=null),Co(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function Sc(m){if(!Fh(m.h)&&!m.s){m.s=!0;var C=m.Ga;fe||re(),Y||(fe(),Y=!0),te.add(C,m),m.B=0}}function xd(m,C){return cl(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=C.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=ms(p(m.Ga,m,C),Cc(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const ge=new pr(this,this.j,m);let Ne=this.o;if(this.S&&(Ne?(Ne=P(Ne),F(Ne,this.S)):Ne=this.S),this.m!==null||this.O||(ge.H=Ne,Ne=null),this.P)e:{for(var C=0,D=0;D<this.i.length;D++){t:{var W=this.i[D];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(C+=W,4096<C){C=D;break e}if(C===4096||D===this.i.length-1){C=D+1;break e}}C=1e3}else C=1e3;C=ml(this,ge,C),D=Fs(this.I),Pn(D,"RID",m),Pn(D,"CVER",22),this.D&&Pn(D,"X-HTTP-Session-Id",this.D),_a(this,D),Ne&&(this.O?C="headers="+encodeURIComponent(String(Eo(Ne)))+"&"+C:this.m&&md(D,this.m,Ne)),Wn(this.h,ge),this.Ua&&Pn(D,"TYPE","init"),this.P?(Pn(D,"$req",C),Pn(D,"SID","null"),ge.T=!0,ga(ge,D,null)):ga(ge,D,C),this.G=2}}else this.G==3&&(m?Nc(this,m):this.i.length==0||Fh(this.h)||Nc(this))};function Nc(m,C){var D;C?D=C.l:D=m.U++;const W=Fs(m.I);Pn(W,"SID",m.K),Pn(W,"RID",D),Pn(W,"AID",m.T),_a(m,W),m.m&&m.o&&md(W,m.m,m.o),D=new pr(m,m.j,D,m.B+1),m.m===null&&(D.H=m.o),C&&(m.i=C.D.concat(m.i)),C=ml(m,D,1e3),D.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Wn(m.h,D),ga(D,W,C)}function _a(m,C){m.H&&$(m.H,function(D,W){Pn(C,W,D)}),m.l&&Uh({},function(D,W){Pn(C,W,D)})}function ml(m,C,D){D=Math.min(m.i.length,D);var W=m.l?p(m.l.Na,m.l,m):null;e:{var ge=m.i;let Ne=-1;for(;;){const $e=["count="+D];Ne==-1?0<D?(Ne=ge[0].g,$e.push("ofs="+Ne)):Ne=0:$e.push("ofs="+Ne);let Vt=!0;for(let on=0;on<D;on++){let Ut=ge[on].g;const Sn=ge[on].map;if(Ut-=Ne,0>Ut)Ne=Math.max(0,ge[on].g-100),Vt=!1;else try{pd(Sn,$e,"req"+Ut+"_")}catch{W&&W(Sn)}}if(Vt){W=$e.join("&");break e}}}return m=m.i.splice(0,D),C.D=m,W}function Ec(m){if(!m.g&&!m.u){m.Y=1;var C=m.Fa;fe||re(),Y||(fe(),Y=!0),te.add(C,m),m.v=0}}function gl(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=ms(p(m.Fa,m),Cc(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Hh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=ms(p(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),_c(this),Hh(this))};function Ac(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function Hh(m){m.g=new pr(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var C=Fs(m.qa);Pn(C,"RID","rpc"),Pn(C,"SID",m.K),Pn(C,"AID",m.T),Pn(C,"CI",m.F?"0":"1"),!m.F&&m.ja&&Pn(C,"TO",m.ja),Pn(C,"TYPE","xmlhttp"),_a(m,C),m.m&&m.o&&md(C,m.m,m.o),m.L&&(m.g.I=m.L);var D=m.g;m=m.ia,D.L=1,D.v=dl(Fs(C)),D.m=null,D.P=!0,ol(D,m)}t.Za=function(){this.C!=null&&(this.C=null,_c(this),gl(this),ht(19))};function Co(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function Sa(m,C){var D=null;if(m.g==C){Co(m),Ac(m),m.g=null;var W=2}else if(ld(m.h,C))D=C.D,cd(m.h,C),W=1;else return;if(m.G!=0){if(C.o)if(W==1){D=C.m?C.m.length:0,C=Date.now()-C.F;var ge=m.B;W=Qi(),Ce(W,new ii(W,D)),Sc(m)}else Ec(m);else if(ge=C.s,ge==3||ge==0&&0<C.X||!(W==1&&xd(m,C)||W==2&&gl(m)))switch(D&&0<D.length&&(C=m.h,C.i=C.i.concat(D)),ge){case 1:vs(m,5);break;case 4:vs(m,10);break;case 3:vs(m,6);break;default:vs(m,2)}}}function Cc(m,C){let D=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(D*=2),D*C}function vs(m,C){if(m.j.info("Error code "+C),C==2){var D=p(m.fb,m),W=m.Xa;const ge=!W;W=new ar(W||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ul(W,"https"),dl(W),ge?Xi(W.toString(),D):qh(W.toString(),D)}else ht(2);m.G=0,m.l&&m.l.sa(C),Pc(m),pl(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Pc(m){if(m.G=0,m.ka=[],m.l){const C=ud(m.h);(C.length!=0||m.i.length!=0)&&(_(m.ka,C),_(m.ka,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.ra()}}function S(m,C,D){var W=D instanceof ar?Fs(D):new ar(D);if(W.g!="")C&&(W.g=C+"."+W.g),pc(W,W.s);else{var ge=a.location;W=ge.protocol,C=C?C+"."+ge.hostname:ge.hostname,ge=+ge.port;var Ne=new ar(null);W&&ul(Ne,W),C&&(Ne.g=C),ge&&pc(Ne,ge),D&&(Ne.l=D),W=Ne}return D=m.D,C=m.ya,D&&C&&Pn(W,D,C),Pn(W,"VER",m.la),_a(m,W),W}function V(m,C,D){if(C&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=m.Ca&&!m.pa?new _n(new yc({eb:D})):new _n(m.pa),C.Ha(m.J),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ee(){}t=ee.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ae(){}ae.prototype.g=function(m,C){return new ve(m,C)};function ve(m,C){Te.call(this),this.g=new bc(C),this.l=m,this.h=C&&C.messageUrlParams||null,m=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(m?m["X-WebChannel-Content-Type"]=C.messageContentType:m={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(m?m["X-WebChannel-Client-Profile"]=C.va:m={"X-WebChannel-Client-Profile":C.va}),this.g.S=m,(m=C&&C.Sb)&&!v(m)&&(this.g.m=m),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!v(C)&&(this.g.D=C,m=this.h,m!==null&&C in m&&(m=this.h,C in m&&delete m[C])),this.j=new nt(this)}b(ve,Te),ve.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ve.prototype.close=function(){Ao(this.g)},ve.prototype.o=function(m){var C=this.g;if(typeof m=="string"){var D={};D.__data__=m,m=D}else this.u&&(D={},D.__data__=gn(m),m=D);C.i.push(new pm(C.Ya++,m)),C.G==3&&Sc(C)},ve.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,ve.aa.N.call(this)};function Ie(m){Ei.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var C=m.__sm__;if(C){e:{for(const D in C){m=D;break e}m=void 0}(this.i=m)&&(m=this.i,C=C!==null&&m in C?C[m]:void 0),this.data=C}else this.data=m}b(Ie,Ei);function ze(){Vn.call(this),this.status=1}b(ze,Vn);function nt(m){this.g=m}b(nt,ee),nt.prototype.ua=function(){Ce(this.g,"a")},nt.prototype.ta=function(m){Ce(this.g,new Ie(m))},nt.prototype.sa=function(m){Ce(this.g,new ze)},nt.prototype.ra=function(){Ce(this.g,"b")},ae.prototype.createWebChannel=ae.prototype.g,ve.prototype.send=ve.prototype.o,ve.prototype.open=ve.prototype.m,ve.prototype.close=ve.prototype.close,vO=function(){return new ae},gO=function(){return Qi()},mO=St,d_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gs.NO_ERROR=0,gs.TIMEOUT=8,gs.HTTP_ERROR=6,V0=gs,oi.COMPLETE="complete",pO=oi,$n.EventType=Jr,Jr.OPEN="a",Jr.CLOSE="b",Jr.ERROR="c",Jr.MESSAGE="d",Te.prototype.listen=Te.prototype.K,rg=$n,_n.prototype.listenOnce=_n.prototype.L,_n.prototype.getLastError=_n.prototype.Ka,_n.prototype.getLastErrorCode=_n.prototype.Ba,_n.prototype.getStatus=_n.prototype.Z,_n.prototype.getResponseJson=_n.prototype.Oa,_n.prototype.getResponseText=_n.prototype.oa,_n.prototype.send=_n.prototype.ea,_n.prototype.setWithCredentials=_n.prototype.Ha,fO=_n}).apply(typeof o0<"u"?o0:typeof self<"u"?self:typeof window<"u"?window:{});const AP="@firebase/firestore",CP="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}As.UNAUTHENTICATED=new As(null),As.GOOGLE_CREDENTIALS=new As("google-credentials-uid"),As.FIRST_PARTY=new As("first-party-uid"),As.MOCK_USER=new As("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new ON("@firebase/firestore");function mf(){return gh.logLevel}function ct(t,...e){if(gh.logLevel<=ln.DEBUG){const n=e.map(KN);gh.debug(`Firestore (${im}): ${t}`,...n)}}function nc(t,...e){if(gh.logLevel<=ln.ERROR){const n=e.map(KN);gh.error(`Firestore (${im}): ${t}`,...n)}}function Op(t,...e){if(gh.logLevel<=ln.WARN){const n=e.map(KN);gh.warn(`Firestore (${im}): ${t}`,...n)}}function KN(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t="Unexpected state"){const e=`FIRESTORE (${im}) INTERNAL ASSERTION FAILED: `+t;throw nc(e),new Error(e)}function An(t,e){t||Lt()}function Wt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends nl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(As.UNAUTHENTICATED))}shutdown(){}}class rZ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sZ{constructor(e){this.t=e,this.currentUser=As.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){An(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new zl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new zl,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new zl)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(An(typeof r.accessToken=="string"),new yO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return An(e===null||typeof e=="string"),new As(e)}}class iZ{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=As.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class oZ{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new iZ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(As.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aZ{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ys(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){An(this.o===void 0);const r=i=>{i.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ct("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new PP(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(An(typeof n.token=="string"),this.R=n.token,new PP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lZ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=lZ(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Jt(t,e){return t<e?-1:t>e?1:0}function h_(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Jt(r,s);{const i=wO(),o=cZ(i.encode(TP(t,n)),i.encode(TP(e,n)));return o!==0?o:Jt(r,s)}}n+=r>65535?2:1}return Jt(t.length,e.length)}function TP(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function cZ(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Jt(t[n],e[n]);return Jt(t.length,e.length)}function Dp(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=-62135596800,kP=1e6;class Br{static now(){return Br.fromMillis(Date.now())}static fromDate(e){return Br.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*kP);return new Br(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new it(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new it(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<IP)throw new it(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kP}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-IP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{static fromTimestamp(e){return new Ft(e)}static min(){return new Ft(new Br(0,0))}static max(){return new Ft(new Br(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="__name__";class Ia{constructor(e,n,r){n===void 0?n=0:n>e.length&&Lt(),r===void 0?r=e.length-n:r>e.length-n&&Lt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ia.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ia?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Ia.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Jt(e.length,n.length)}static compareSegments(e,n){const r=Ia.isNumericId(e),s=Ia.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ia.extractNumericId(e).compare(Ia.extractNumericId(n)):h_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Au.fromString(e.substring(4,e.length-2))}}class zn extends Ia{construct(e,n,r){return new zn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new it(Re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new zn(n)}static emptyPath(){return new zn([])}}const uZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cs extends Ia{construct(e,n,r){return new cs(e,n,r)}static isValidIdentifier(e){return uZ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jP}static keyField(){return new cs([jP])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new it(Re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new it(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new it(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new it(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cs(n)}static emptyPath(){return new cs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.path=e}static fromPath(e){return new bt(zn.fromString(e))}static fromName(e){return new bt(zn.fromString(e).popFirst(5))}static empty(){return new bt(zn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return zn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bt(new zn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=-1;function dZ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ft.fromTimestamp(r===1e9?new Br(n+1,0):new Br(n,r));return new Uu(s,bt.empty(),e)}function hZ(t){return new Uu(t.readTime,t.key,nv)}class Uu{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Uu(Ft.min(),bt.empty(),nv)}static max(){return new Uu(Ft.max(),bt.empty(),nv)}}function fZ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=bt.comparator(t.documentKey,e.documentKey),n!==0?n:Jt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pZ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function om(t){if(t.code!==Re.FAILED_PRECONDITION||t.message!==pZ)throw t;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ve((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ve?n:Ve.resolve(n)}catch(n){return Ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ve.reject(n)}static resolve(e){return new Ve((n,r)=>{n(e)})}static reject(e){return new Ve((n,r)=>{r(e)})}static waitFor(e){return new Ve((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=Ve.resolve(!1);for(const r of e)n=n.next(s=>s?Ve.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Ve((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new Ve((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function gZ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function am(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}hw.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=-1;function fw(t){return t==null}function q1(t){return t===0&&1/t==-1/0}function vZ(t){return typeof t=="number"&&Number.isInteger(t)&&!q1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="";function yZ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=RP(e)),e=wZ(t.get(n),e);return RP(e)}function wZ(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case bO:n+="";break;default:n+=i}}return n}function RP(t){return t+bO+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function nd(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _O(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n){this.comparator=e,this.root=n||os.EMPTY}insert(e,n){return new ir(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,os.BLACK,null,null))}remove(e){return new ir(this.comparator,this.root.remove(e,this.comparator).copy(null,null,os.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new a0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new a0(this.root,e,this.comparator,!1)}getReverseIterator(){return new a0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new a0(this.root,e,this.comparator,!0)}}class a0{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class os{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??os.RED,this.left=s??os.EMPTY,this.right=i??os.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new os(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return os.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return os.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,os.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,os.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Lt();const e=this.left.check();if(e!==this.right.check())throw Lt();return e+(this.isRed()?0:1)}}os.EMPTY=null,os.RED=!0,os.BLACK=!1;os.EMPTY=new class{constructor(){this.size=0}get key(){throw Lt()}get value(){throw Lt()}get color(){throw Lt()}get left(){throw Lt()}get right(){throw Lt()}copy(e,n,r,s,i){return this}insert(e,n,r){return new os(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.comparator=e,this.data=new ir(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new OP(this.data.getIterator())}getIteratorFrom(e){return new OP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof zr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zr(this.comparator);return n.data=e,n}}class OP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.fields=e,e.sort(cs.comparator)}static empty(){return new Fi([])}unionWith(e){let n=new zr(cs.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Fi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Dp(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new SO("Invalid base64 string: "+i):i}}(e);return new fs(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new fs(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fs.EMPTY_BYTE_STRING=new fs("");const xZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bu(t){if(An(!!t),typeof t=="string"){let e=0;const n=xZ.exec(t);if(An(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vr(t.seconds),nanos:vr(t.nanos)}}function vr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zu(t){return typeof t=="string"?fs.fromBase64String(t):fs.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO="server_timestamp",EO="__type__",AO="__previous_value__",CO="__local_write_time__";function pw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[EO])===null||n===void 0?void 0:n.stringValue)===NO}function mw(t){const e=t.mapValue.fields[AO];return pw(e)?mw(e):e}function rv(t){const e=Bu(t.mapValue.fields[CO].timestampValue);return new Br(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bZ{constructor(e,n,r,s,i,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}const $1="(default)";class sv{constructor(e,n){this.projectId=e,this.database=n||$1}static empty(){return new sv("","")}get isDefaultDatabase(){return this.database===$1}isEqual(e){return e instanceof sv&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="__type__",_Z="__max__",l0={mapValue:{}},TO="__vector__",W1="value";function qu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pw(t)?4:NZ(t)?9007199254740991:SZ(t)?10:11:Lt()}function Xa(t,e){if(t===e)return!0;const n=qu(t);if(n!==qu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rv(t).isEqual(rv(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Bu(s.timestampValue),a=Bu(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return zu(s.bytesValue).isEqual(zu(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return vr(s.geoPointValue.latitude)===vr(i.geoPointValue.latitude)&&vr(s.geoPointValue.longitude)===vr(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return vr(s.integerValue)===vr(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=vr(s.doubleValue),a=vr(i.doubleValue);return o===a?q1(o)===q1(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Dp(t.arrayValue.values||[],e.arrayValue.values||[],Xa);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(LP(o)!==LP(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Xa(o[c],a[c])))return!1;return!0}(t,e);default:return Lt()}}function iv(t,e){return(t.values||[]).find(n=>Xa(n,e))!==void 0}function Mp(t,e){if(t===e)return 0;const n=qu(t),r=qu(e);if(n!==r)return Jt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Jt(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=vr(i.integerValue||i.doubleValue),c=vr(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return DP(t.timestampValue,e.timestampValue);case 4:return DP(rv(t),rv(e));case 5:return h_(t.stringValue,e.stringValue);case 6:return function(i,o){const a=zu(i),c=zu(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const d=Jt(a[u],c[u]);if(d!==0)return d}return Jt(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Jt(vr(i.latitude),vr(o.latitude));return a!==0?a:Jt(vr(i.longitude),vr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return MP(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,c,u,d;const h=i.fields||{},p=o.fields||{},g=(a=h[W1])===null||a===void 0?void 0:a.arrayValue,b=(c=p[W1])===null||c===void 0?void 0:c.arrayValue,w=Jt(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((d=b==null?void 0:b.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:MP(g,b)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===l0.mapValue&&o===l0.mapValue)return 0;if(i===l0.mapValue)return 1;if(o===l0.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const p=h_(c[h],d[h]);if(p!==0)return p;const g=Mp(a[c[h]],u[d[h]]);if(g!==0)return g}return Jt(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Lt()}}function DP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Jt(t,e);const n=Bu(t),r=Bu(e),s=Jt(n.seconds,r.seconds);return s!==0?s:Jt(n.nanos,r.nanos)}function MP(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Mp(n[s],r[s]);if(i)return i}return Jt(n.length,r.length)}function Fp(t){return f_(t)}function f_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Bu(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zu(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return bt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=f_(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${f_(n.fields[o])}`;return s+"}"}(t.mapValue):Lt()}function U0(t){switch(qu(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mw(t);return e?16+U0(e):16;case 5:return 2*t.stringValue.length;case 6:return zu(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+U0(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return nd(r.fields,(i,o)=>{s+=i.length+U0(o)}),s}(t.mapValue);default:throw Lt()}}function H1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function p_(t){return!!t&&"integerValue"in t}function QN(t){return!!t&&"arrayValue"in t}function FP(t){return!!t&&"nullValue"in t}function VP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function B0(t){return!!t&&"mapValue"in t}function SZ(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[PO])===null||n===void 0?void 0:n.stringValue)===TO}function Sg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return nd(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sg(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function NZ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_Z}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.value=e}static empty(){return new yi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!B0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sg(n)}setAll(e){let n=cs.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Sg(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());B0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];B0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){nd(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new yi(Sg(this.value))}}function IO(t){const e=[];return nd(t.fields,(n,r)=>{const s=new cs([n]);if(B0(r)){const i=IO(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Fi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ts(e,0,Ft.min(),Ft.min(),Ft.min(),yi.empty(),0)}static newFoundDocument(e,n,r,s){return new Ts(e,1,n,Ft.min(),r,s,0)}static newNoDocument(e,n){return new Ts(e,2,n,Ft.min(),Ft.min(),yi.empty(),0)}static newUnknownDocument(e,n){return new Ts(e,3,n,Ft.min(),Ft.min(),yi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ts&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ts(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n){this.position=e,this.inclusive=n}}function UP(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=bt.comparator(bt.fromName(o.referenceValue),n.key):r=Mp(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function BP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n="asc"){this.field=e,this.dir=n}}function EZ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{}class Rr extends kO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new CZ(e,n,r):n==="array-contains"?new IZ(e,r):n==="in"?new kZ(e,r):n==="not-in"?new jZ(e,r):n==="array-contains-any"?new RZ(e,r):new Rr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new PZ(e,r):new TZ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Mp(n,this.value)):n!==null&&qu(this.value)===qu(n)&&this.matchesComparison(Mp(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Lt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oa extends kO{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new oa(e,n)}matches(e){return jO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function jO(t){return t.op==="and"}function RO(t){return AZ(t)&&jO(t)}function AZ(t){for(const e of t.filters)if(e instanceof oa)return!1;return!0}function m_(t){if(t instanceof Rr)return t.field.canonicalString()+t.op.toString()+Fp(t.value);if(RO(t))return t.filters.map(e=>m_(e)).join(",");{const e=t.filters.map(n=>m_(n)).join(",");return`${t.op}(${e})`}}function LO(t,e){return t instanceof Rr?function(r,s){return s instanceof Rr&&r.op===s.op&&r.field.isEqual(s.field)&&Xa(r.value,s.value)}(t,e):t instanceof oa?function(r,s){return s instanceof oa&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&LO(o,s.filters[a]),!0):!1}(t,e):void Lt()}function OO(t){return t instanceof Rr?function(n){return`${n.field.canonicalString()} ${n.op} ${Fp(n.value)}`}(t):t instanceof oa?function(n){return n.op.toString()+" {"+n.getFilters().map(OO).join(" ,")+"}"}(t):"Filter"}class CZ extends Rr{constructor(e,n,r){super(e,n,r),this.key=bt.fromName(r.referenceValue)}matches(e){const n=bt.comparator(e.key,this.key);return this.matchesComparison(n)}}class PZ extends Rr{constructor(e,n){super(e,"in",n),this.keys=DO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class TZ extends Rr{constructor(e,n){super(e,"not-in",n),this.keys=DO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>bt.fromName(r.referenceValue))}class IZ extends Rr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return QN(n)&&iv(n.arrayValue,this.value)}}class kZ extends Rr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iv(this.value.arrayValue,n)}}class jZ extends Rr{constructor(e,n){super(e,"not-in",n)}matches(e){if(iv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!iv(this.value.arrayValue,n)}}class RZ extends Rr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!QN(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>iv(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LZ{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.le=null}}function zP(t,e=null,n=[],r=[],s=null,i=null,o=null){return new LZ(t,e,n,r,s,i,o)}function XN(t){const e=Wt(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>m_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),fw(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fp(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fp(r)).join(",")),e.le=n}return e.le}function ZN(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!EZ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BP(t.startAt,e.startAt)&&BP(t.endAt,e.endAt)}function g_(t){return bt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function OZ(t,e,n,r,s,i,o,a){return new kh(t,e,n,r,s,i,o,a)}function JN(t){return new kh(t)}function qP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eE(t){return t.collectionGroup!==null}function tp(t){const e=Wt(t);if(e.he===null){e.he=[];const n=new Set;for(const i of e.explicitOrderBy)e.he.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new zr(cs.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.he.push(new ov(i,r))}),n.has(cs.keyField().canonicalString())||e.he.push(new ov(cs.keyField(),r))}return e.he}function Wa(t){const e=Wt(t);return e.Pe||(e.Pe=DZ(e,tp(t))),e.Pe}function DZ(t,e){if(t.limitType==="F")return zP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ov(s.field,i)});const n=t.endAt?new Vp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vp(t.startAt.position,t.startAt.inclusive):null;return zP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function v_(t,e){const n=t.filters.concat([e]);return new kh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function G1(t,e,n){return new kh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gw(t,e){return ZN(Wa(t),Wa(e))&&t.limitType===e.limitType}function MO(t){return`${XN(Wa(t))}|lt:${t.limitType}`}function gf(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>OO(s)).join(", ")}]`),fw(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Fp(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Fp(s)).join(",")),`Target(${r})`}(Wa(t))}; limitType=${t.limitType})`}function vw(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):bt.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of tp(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const u=UP(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,tp(r),s)||r.endAt&&!function(o,a,c){const u=UP(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,tp(r),s))}(t,e)}function MZ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FO(t){return(e,n)=>{let r=!1;for(const s of tp(t)){const i=FZ(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function FZ(t,e,n){const r=t.field.isKeyField()?bt.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),u=a.data.field(i);return c!==null&&u!==null?Mp(c,u):Lt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Lt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){nd(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return _O(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VZ=new ir(bt.comparator);function rc(){return VZ}const VO=new ir(bt.comparator);function sg(...t){let e=VO;for(const n of t)e=e.insert(n.key,n);return e}function UO(t){let e=VO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fd(){return Ng()}function BO(){return Ng()}function Ng(){return new jh(t=>t.toString(),(t,e)=>t.isEqual(e))}const UZ=new ir(bt.comparator),BZ=new zr(bt.comparator);function cn(...t){let e=BZ;for(const n of t)e=e.add(n);return e}const zZ=new zr(Jt);function qZ(){return zZ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:q1(e)?"-0":e}}function zO(t){return{integerValue:""+t}}function $Z(t,e){return vZ(e)?zO(e):tE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this._=void 0}}function WZ(t,e,n){return t instanceof av?function(s,i){const o={fields:{[EO]:{stringValue:NO},[CO]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&pw(i)&&(i=mw(i)),i&&(o.fields[AO]=i),{mapValue:o}}(n,e):t instanceof lv?$O(t,e):t instanceof cv?WO(t,e):function(s,i){const o=qO(s,i),a=$P(o)+$P(s.Ie);return p_(o)&&p_(s.Ie)?zO(a):tE(s.serializer,a)}(t,e)}function HZ(t,e,n){return t instanceof lv?$O(t,e):t instanceof cv?WO(t,e):n}function qO(t,e){return t instanceof K1?function(r){return p_(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class av extends yw{}class lv extends yw{constructor(e){super(),this.elements=e}}function $O(t,e){const n=HO(e);for(const r of t.elements)n.some(s=>Xa(s,r))||n.push(r);return{arrayValue:{values:n}}}class cv extends yw{constructor(e){super(),this.elements=e}}function WO(t,e){let n=HO(e);for(const r of t.elements)n=n.filter(s=>!Xa(s,r));return{arrayValue:{values:n}}}class K1 extends yw{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function $P(t){return vr(t.integerValue||t.doubleValue)}function HO(t){return QN(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GZ{constructor(e,n){this.field=e,this.transform=n}}function KZ(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof lv&&s instanceof lv||r instanceof cv&&s instanceof cv?Dp(r.elements,s.elements,Xa):r instanceof K1&&s instanceof K1?Xa(r.Ie,s.Ie):r instanceof av&&s instanceof av}(t.transform,e.transform)}class YZ{constructor(e,n){this.version=e,this.transformResults=n}}class ea{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ea}static exists(e){return new ea(void 0,e)}static updateTime(e){return new ea(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function z0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ww{}function GO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new YO(t.key,ea.none()):new Zv(t.key,t.data,ea.none());{const n=t.data,r=yi.empty();let s=new zr(cs.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new rd(t.key,r,new Fi(s.toArray()),ea.none())}}function QZ(t,e,n){t instanceof Zv?function(s,i,o){const a=s.value.clone(),c=HP(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof rd?function(s,i,o){if(!z0(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=HP(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(KO(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Eg(t,e,n,r){return t instanceof Zv?function(i,o,a,c){if(!z0(i.precondition,o))return a;const u=i.value.clone(),d=GP(i.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof rd?function(i,o,a,c){if(!z0(i.precondition,o))return a;const u=GP(i.fieldTransforms,c,o),d=o.data;return d.setAll(KO(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return z0(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function XZ(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=qO(r.transform,s||null);i!=null&&(n===null&&(n=yi.empty()),n.set(r.field,i))}return n||null}function WP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Dp(r,s,(i,o)=>KZ(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zv extends ww{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class rd extends ww{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function KO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function HP(t,e,n){const r=new Map;An(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,HZ(o,a,n[s]))}return r}function GP(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,WZ(i,o,e))}return r}class YO extends ww{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZZ extends ww{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JZ{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&QZ(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Eg(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Eg(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BO();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=GO(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Ft.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),cn())}isEqual(e){return this.batchId===e.batchId&&Dp(this.mutations,e.mutations,(n,r)=>WP(n,r))&&Dp(this.baseMutations,e.baseMutations,(n,r)=>WP(n,r))}}class nE{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){An(e.mutations.length===r.length);let s=function(){return UZ}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new nE(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eJ=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kr,fn;function nJ(t){switch(t){case Re.OK:return Lt();case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0;default:return Lt()}}function QO(t){if(t===void 0)return nc("GRPC error has no .code"),Re.UNKNOWN;switch(t){case kr.OK:return Re.OK;case kr.CANCELLED:return Re.CANCELLED;case kr.UNKNOWN:return Re.UNKNOWN;case kr.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case kr.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case kr.INTERNAL:return Re.INTERNAL;case kr.UNAVAILABLE:return Re.UNAVAILABLE;case kr.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case kr.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case kr.NOT_FOUND:return Re.NOT_FOUND;case kr.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case kr.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case kr.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case kr.ABORTED:return Re.ABORTED;case kr.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case kr.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case kr.DATA_LOSS:return Re.DATA_LOSS;default:return Lt()}}(fn=kr||(kr={}))[fn.OK=0]="OK",fn[fn.CANCELLED=1]="CANCELLED",fn[fn.UNKNOWN=2]="UNKNOWN",fn[fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fn[fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fn[fn.NOT_FOUND=5]="NOT_FOUND",fn[fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",fn[fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",fn[fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",fn[fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fn[fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fn[fn.ABORTED=10]="ABORTED",fn[fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",fn[fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",fn[fn.INTERNAL=13]="INTERNAL",fn[fn.UNAVAILABLE=14]="UNAVAILABLE",fn[fn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rJ=new Au([4294967295,4294967295],0);function KP(t){const e=wO().encode(t),n=new hO;return n.update(e),new Uint8Array(n.digest())}function YP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Au([n,r],0),new Au([s,i],0)]}class rE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ig(`Invalid padding: ${n}`);if(r<0)throw new ig(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ig(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ig(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Au.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(Au.fromNumber(r)));return s.compare(rJ)===1&&(s=new Au([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=KP(e),[r,s]=YP(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);if(!this.Re(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new rE(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=KP(e),[r,s]=YP(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ig extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Jv.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xw(Ft.min(),s,new ir(Jt),rc(),cn())}}class Jv{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jv(r,n,cn(),cn(),cn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class XO{constructor(e,n){this.targetId=e,this.ge=n}}class ZO{constructor(e,n,r=fs.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class QP{constructor(){this.pe=0,this.ye=XP(),this.we=fs.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=cn(),n=cn(),r=cn();return this.ye.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Lt()}}),new Jv(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=XP()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,An(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class sJ{constructor(e){this.ke=e,this.qe=new Map,this.Qe=rc(),this.$e=c0(),this.Ue=c0(),this.Ke=new ir(Jt)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Lt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const i=s.target;if(g_(i))if(r===0){const o=new bt(i.path);this.ze(n,o,Ts.newNoDocument(o,Ft.min()))}else An(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),c=a?this.nt(a,e,o):1;if(c!==0){this.Ye(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=zu(r).toUint8Array()}catch(c){if(c instanceof SO)return Op("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new rE(o,s,i)}catch(c){return Op(c instanceof ig?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,i,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((i,o)=>{const a=this.Xe(o);if(a){if(i.current&&g_(a.target)){const c=new bt(a.target.path);this._t(c).has(o)||this.ut(o,c)||this.ze(o,c,Ts.newNoDocument(c,e))}i.ve&&(n.set(o,i.Fe()),i.Me())}});let r=cn();this.Ue.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.Xe(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.Qe.forEach((i,o)=>o.setReadTime(e));const s=new xw(e,n,this.Ke,this.Qe,r);return this.Qe=rc(),this.$e=c0(),this.Ue=c0(),this.Ke=new ir(Jt),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new QP,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new zr(Jt),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new zr(Jt),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new QP),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function c0(){return new ir(bt.comparator)}function XP(){return new ir(bt.comparator)}const iJ={asc:"ASCENDING",desc:"DESCENDING"},oJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aJ={and:"AND",or:"OR"};class lJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function y_(t,e){return t.useProto3Json||fw(e)?e:{value:e}}function Y1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cJ(t,e){return Y1(t,e.toTimestamp())}function Ha(t){return An(!!t),Ft.fromTimestamp(function(n){const r=Bu(n);return new Br(r.seconds,r.nanos)}(t))}function sE(t,e){return w_(t,e).canonicalString()}function w_(t,e){const n=function(s){return new zn(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function eD(t){const e=zn.fromString(t);return An(iD(e)),e}function x_(t,e){return sE(t.databaseId,e.path)}function vb(t,e){const n=eD(e);if(n.get(1)!==t.databaseId.projectId)throw new it(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new it(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new bt(nD(n))}function tD(t,e){return sE(t.databaseId,e)}function uJ(t){const e=eD(t);return e.length===4?zn.emptyPath():nD(e)}function b_(t){return new zn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nD(t){return An(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ZP(t,e,n){return{name:x_(t,e),fields:n.value.mapValue.fields}}function dJ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Lt()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(An(d===void 0||typeof d=="string"),fs.fromBase64String(d||"")):(An(d===void 0||d instanceof Buffer||d instanceof Uint8Array),fs.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?Re.UNKNOWN:QO(u.code);return new it(d,u.message||"")}(o);n=new ZO(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=vb(t,r.document.name),i=Ha(r.document.updateTime),o=r.document.createTime?Ha(r.document.createTime):Ft.min(),a=new yi({mapValue:{fields:r.document.fields}}),c=Ts.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new q0(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=vb(t,r.document),i=r.readTime?Ha(r.readTime):Ft.min(),o=Ts.newNoDocument(s,i),a=r.removedTargetIds||[];n=new q0([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=vb(t,r.document),i=r.removedTargetIds||[];n=new q0([],i,s,null)}else{if(!("filter"in e))return Lt();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new tJ(s,i),a=r.targetId;n=new XO(a,o)}}return n}function hJ(t,e){let n;if(e instanceof Zv)n={update:ZP(t,e.key,e.value)};else if(e instanceof YO)n={delete:x_(t,e.key)};else if(e instanceof rd)n={update:ZP(t,e.key,e.data),updateMask:bJ(e.fieldMask)};else{if(!(e instanceof ZZ))return Lt();n={verify:x_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof av)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof lv)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cv)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof K1)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Lt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:cJ(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Lt()}(t,e.precondition)),n}function fJ(t,e){return t&&t.length>0?(An(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Ha(s.updateTime):Ha(i);return o.isEqual(Ft.min())&&(o=Ha(i)),new YZ(o,s.transformResults||[])}(n,e))):[]}function pJ(t,e){return{documents:[tD(t,e.path)]}}function mJ(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tD(t,s);const i=function(u){if(u.length!==0)return sD(oa.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:vf(p.field),direction:yJ(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=y_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ht:n,parent:s}}function gJ(t){let e=uJ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){An(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const p=rD(h);return p instanceof oa&&RO(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(b){return new ov(yf(b.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,fw(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(h){const p=!!h.before,g=h.values||[];return new Vp(g,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,g=h.values||[];return new Vp(g,p)}(n.endAt)),OZ(e,s,o,i,a,"F",c,u)}function vJ(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Lt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yf(n.unaryFilter.field);return Rr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=yf(n.unaryFilter.field);return Rr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=yf(n.unaryFilter.field);return Rr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=yf(n.unaryFilter.field);return Rr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Lt()}}(t):t.fieldFilter!==void 0?function(n){return Rr.create(yf(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Lt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return oa.create(n.compositeFilter.filters.map(r=>rD(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Lt()}}(n.compositeFilter.op))}(t):Lt()}function yJ(t){return iJ[t]}function wJ(t){return oJ[t]}function xJ(t){return aJ[t]}function vf(t){return{fieldPath:t.canonicalString()}}function yf(t){return cs.fromServerFormat(t.fieldPath)}function sD(t){return t instanceof Rr?function(n){if(n.op==="=="){if(VP(n.value))return{unaryFilter:{field:vf(n.field),op:"IS_NAN"}};if(FP(n.value))return{unaryFilter:{field:vf(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VP(n.value))return{unaryFilter:{field:vf(n.field),op:"IS_NOT_NAN"}};if(FP(n.value))return{unaryFilter:{field:vf(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vf(n.field),op:wJ(n.op),value:n.value}}}(t):t instanceof oa?function(n){const r=n.getFilters().map(s=>sD(s));return r.length===1?r[0]:{compositeFilter:{op:xJ(n.op),filters:r}}}(t):Lt()}function bJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n,r,s,i=Ft.min(),o=Ft.min(),a=fs.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new hu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _J{constructor(e){this.Tt=e}}function SJ(t){const e=gJ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?G1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NJ{constructor(){this.Tn=new EJ}addToCollectionParentIndex(e,n){return this.Tn.add(n),Ve.resolve()}getCollectionParents(e,n){return Ve.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Ve.resolve()}deleteFieldIndex(e,n){return Ve.resolve()}deleteAllFieldIndexes(e){return Ve.resolve()}createTargetIndexes(e,n){return Ve.resolve()}getDocumentsMatchingTarget(e,n){return Ve.resolve(null)}getIndexType(e,n){return Ve.resolve(0)}getFieldIndexes(e,n){return Ve.resolve([])}getNextCollectionGroupToUpdate(e){return Ve.resolve(null)}getMinOffset(e,n){return Ve.resolve(Uu.min())}getMinOffsetFromCollectionGroup(e,n){return Ve.resolve(Uu.min())}updateCollectionGroup(e,n,r){return Ve.resolve()}updateIndexEntries(e,n){return Ve.resolve()}}class EJ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new zr(zn.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new zr(zn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oD=41943040;class pi{static withCacheSize(e){return new pi(e,pi.DEFAULT_COLLECTION_PERCENTILE,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi.DEFAULT_COLLECTION_PERCENTILE=10,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pi.DEFAULT=new pi(oD,pi.DEFAULT_COLLECTION_PERCENTILE,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pi.DISABLED=new pi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Up(0)}static Kn(){return new Up(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="LruGarbageCollector",AJ=1048576;function tT([t,e],[n,r]){const s=Jt(t,n);return s===0?Jt(e,r):s}class CJ{constructor(e){this.Hn=e,this.buffer=new zr(tT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class PJ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ct(eT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){am(n)?ct(eT,"Ignoring IndexedDB error during garbage collection: ",n):await om(n)}await this.er(3e5)})}}class TJ{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ve.resolve(hw.ae);const r=new CJ(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),Ve.resolve(JP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JP):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,i,o,a,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),mf()<=ln.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),Ve.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function IJ(t,e){return new TJ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kJ{constructor(){this.changes=new jh(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ts.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RJ{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Eg(r.mutation,s,Fi.empty(),Br.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,cn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=cn()){const s=Fd();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=sg();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fd();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,cn()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=rc();const o=Ng(),a=function(){return Ng()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof rd)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Eg(d.mutation,u,d.mutation.getFieldMask(),Br.now())):o.set(u.key,Fi.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new jJ(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ng();let s=new ir((o,a)=>o-a),i=cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Fi.empty();d=a.applyToLocalView(u,d),r.set(c,d);const h=(s.get(a.batchId)||cn()).add(c);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,d=c.value,h=BO();d.forEach(p=>{if(!i.has(p)){const g=GO(n.get(p),r.get(p));g!==null&&h.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return Ve.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return bt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Ve.resolve(Fd());let a=nv,c=i;return o.next(u=>Ve.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?Ve.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,cn())).next(d=>({batchId:a,changes:UO(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new bt(n)).next(r=>{let s=sg();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=sg();return this.indexManager.getCollectionParents(e,i).next(a=>Ve.forEach(a,c=>{const u=function(h,p){return new kh(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Ts.newInvalidDocument(d)))});let a=sg();return o.forEach((c,u)=>{const d=i.get(c);d!==void 0&&Eg(d.mutation,u,Fi.empty(),Br.now()),vw(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LJ{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Ve.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ha(s.createTime)}}(n)),Ve.resolve()}getNamedQuery(e,n){return Ve.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:SJ(s.bundledQuery),readTime:Ha(s.readTime)}}(n)),Ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OJ{constructor(){this.overlays=new ir(bt.comparator),this.Rr=new Map}getOverlay(e,n){return Ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fd();return Ve.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Et(e,n,i)}),Ve.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Rr.delete(r)),Ve.resolve()}getOverlaysForCollection(e,n,r){const s=Fd(),i=n.length+1,o=new bt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return Ve.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ir((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Fd(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Fd(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return Ve.resolve(a)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new eJ(n,r));let i=this.Rr.get(n);i===void 0&&(i=cn(),this.Rr.set(n,i)),this.Rr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DJ{constructor(){this.sessionToken=fs.EMPTY_BYTE_STRING}getSessionToken(e){return Ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.Vr=new zr(Hr.mr),this.gr=new zr(Hr.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Hr(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Hr(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new bt(new zn([])),r=new Hr(n,e),s=new Hr(n,e+1),i=[];return this.gr.forEachInRange([r,s],o=>{this.wr(o),i.push(o.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new bt(new zn([])),r=new Hr(n,e),s=new Hr(n,e+1);let i=cn();return this.gr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Hr(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Hr{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return bt.comparator(e.key,n.key)||Jt(e.Cr,n.Cr)}static pr(e,n){return Jt(e.Cr,n.Cr)||bt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new zr(Hr.mr)}checkEmpty(e){return Ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new JZ(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Mr=this.Mr.add(new Hr(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ve.resolve(o)}lookupMutationBatch(e,n){return Ve.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),i=s<0?0:s;return Ve.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ve.resolve(this.mutationQueue.length===0?YN:this.Fr-1)}getAllMutationBatches(e){return Ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Hr(n,0),s=new Hr(n,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([r,s],o=>{const a=this.Or(o.Cr);i.push(a)}),Ve.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zr(Jt);return n.forEach(s=>{const i=new Hr(s,0),o=new Hr(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,o],a=>{r=r.add(a.Cr)})}),Ve.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;bt.isDocumentKey(i)||(i=i.child(""));const o=new Hr(new bt(i),0);let a=new zr(Jt);return this.Mr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(c.Cr)),!0)},o),Ve.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){An(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Ve.forEach(n.mutations,s=>{const i=new Hr(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Hr(n,0),s=this.Mr.firstAfterOrEqual(r);return Ve.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ve.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FJ{constructor(e){this.kr=e,this.docs=function(){return new ir(bt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ve.resolve(r?r.document.mutableCopy():Ts.newInvalidDocument(n))}getEntries(e,n){let r=rc();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ts.newInvalidDocument(s))}),Ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=rc();const o=n.path,a=new bt(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||fZ(hZ(d),r)<=0||(s.has(d.key)||vw(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return Ve.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Lt()}qr(e,n){return Ve.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new VJ(this)}getSize(e){return Ve.resolve(this.size)}}class VJ extends kJ{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),Ve.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{constructor(e){this.persistence=e,this.Qr=new jh(n=>XN(n),ZN),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.$r=0,this.Ur=new iE,this.targetCount=0,this.Kr=Up.Un()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),Ve.resolve()}getLastRemoteSnapshotVersion(e){return Ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ve.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),Ve.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Up(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Ve.resolve()}updateTargetData(e,n){return this.zn(n),Ve.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,Ve.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Ve.waitFor(i).next(()=>s)}getTargetCount(e){return Ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return Ve.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),Ve.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Ve.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),Ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return Ve.resolve(r)}containsKey(e,n){return Ve.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new hw(0),this.zr=!1,this.zr=!0,this.jr=new DJ,this.referenceDelegate=e(this),this.Hr=new UJ(this),this.indexManager=new NJ,this.remoteDocumentCache=function(s){return new FJ(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new _J(n),this.Yr=new LJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new MJ(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){ct("MemoryPersistence","Starting transaction:",e);const s=new BJ(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(i=>this.referenceDelegate.Xr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}ei(e,n){return Ve.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class BJ extends mZ{constructor(e){super(),this.currentSequenceNumber=e}}class oE{constructor(e){this.persistence=e,this.ti=new iE,this.ni=null}static ri(e){return new oE(e)}get ii(){if(this.ni)return this.ni;throw Lt()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),Ve.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),Ve.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Ve.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ii.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ve.forEach(this.ii,r=>{const s=bt.fromPath(r);return this.si(e,s).next(i=>{i||n.removeEntry(s,Ft.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Ve.or([()=>Ve.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Q1{constructor(e,n){this.persistence=e,this.oi=new jh(r=>yZ(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=IJ(this,n)}static ri(e,n){return new Q1(e,n)}Zr(){}Xr(e){return Ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return Ve.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(i=>i?Ve.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Ft.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Ve.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),Ve.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),Ve.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Ve.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=U0(e.data.value)),n}ar(e,n,r){return Ve.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return Ve.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=cn(),s=cn();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new aE(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return SK()?8:gZ(js())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new zJ;return this._s(e,n,o).next(a=>{if(i.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>i.result)}us(e,n,r,s){return r.documentReadCount<this.es?(mf()<=ln.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",gf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Ve.resolve()):(mf()<=ln.DEBUG&&ct("QueryEngine","Query:",gf(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(mf()<=ln.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",gf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wa(n))):Ve.resolve())}rs(e,n){if(qP(n))return Ve.resolve(null);let r=Wa(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=G1(n,null,"F"),r=Wa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=cn(...i);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.cs(n,a);return this.ls(n,u,o,c.readTime)?this.rs(e,G1(n,null,"F")):this.hs(e,u,n,c)}))})))}ss(e,n,r,s){return qP(n)||s.isEqual(Ft.min())?Ve.resolve(null):this.ns.getDocuments(e,r).next(i=>{const o=this.cs(n,i);return this.ls(n,o,r,s)?Ve.resolve(null):(mf()<=ln.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),gf(n)),this.hs(e,o,n,dZ(s,nv)).next(a=>a))})}cs(e,n){let r=new zr(FO(e));return n.forEach((s,i)=>{vw(e,i)&&(r=r.add(i))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,n,r){return mf()<=ln.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",gf(n)),this.ns.getDocumentsMatchingQuery(e,n,Uu.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="LocalStore",$J=3e8;class WJ{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new ir(Jt),this.Is=new jh(i=>XN(i),ZN),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RJ(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function HJ(t,e,n,r){return new WJ(t,e,n,r)}async function lD(t,e){const n=Wt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=cn();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Rs:u,removedBatchIds:o,addedBatchIds:a}))})})}function GJ(t,e){const n=Wt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){const h=u.batch,p=h.keys();let g=Ve.resolve();return p.forEach(b=>{g=g.next(()=>d.getEntry(c,b)).next(w=>{const _=u.docVersions.get(b);An(_!==null),w.version.compareTo(_)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=cn();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function cD(t){const e=Wt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function KJ(t,e){const n=Wt(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(n.Hr.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Hr.addMatchingKeys(i,d.addedDocuments,h)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(fs.EMPTY_BYTE_STRING,Ft.min()).withLastLimboFreeSnapshotVersion(Ft.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(h,g),function(w,_,x){return w.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=$J?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,g,d)&&a.push(n.Hr.updateTargetData(i,g))});let c=rc(),u=cn();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(YJ(i,o,e.documentUpdates).next(d=>{c=d.Vs,u=d.fs})),!r.isEqual(Ft.min())){const d=n.Hr.getLastRemoteSnapshotVersion(i).next(h=>n.Hr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return Ve.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ts=s,i))}function YJ(t,e,n){let r=cn(),s=cn();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=rc();return n.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(Ft.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):ct(lE,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Vs:o,fs:s}})}function QJ(t,e){const n=Wt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=YN),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XJ(t,e){const n=Wt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(i=>i?(s=i,Ve.resolve(s)):n.Hr.allocateTargetId(r).next(o=>(s=new hu(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function __(t,e,n){const r=Wt(t),s=r.Ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!am(o))throw o;ct(lE,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function nT(t,e,n){const r=Wt(t);let s=Ft.min(),i=cn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const h=Wt(c),p=h.Is.get(d);return p!==void 0?Ve.resolve(h.Ts.get(p)):h.Hr.getTargetData(u,d)}(r,o,Wa(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?s:Ft.min(),n?i:cn())).next(a=>(ZJ(r,MZ(e),a),{documents:a,gs:i})))}function ZJ(t,e,n){let r=t.Es.get(e)||Ft.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Es.set(e,r)}class rT{constructor(){this.activeTargetIds=qZ()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JJ{constructor(){this.ho=new rT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new rT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eee{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="ConnectivityMonitor";class iT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ct(sT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ct(sT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u0=null;function S_(){return u0===null?u0=function(){return 268435456+Math.round(2147483648*Math.random())}():u0++,"0x"+u0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="RestConnection",tee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nee{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===$1?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,n,r,s,i){const o=S_(),a=this.bo(e,n.toUriEncodedString());ct(yb,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(c,s,i),this.vo(e,a,c,r).then(u=>(ct(yb,`Received RPC '${e}' ${o}: `,u),u),u=>{throw Op(yb,`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}Co(e,n,r,s,i,o){return this.So(e,n,r,s,i)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+im}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}bo(e,n){const r=tee[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ree{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="WebChannelConnection";class see extends nee{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const i=S_();return new Promise((o,a)=>{const c=new fO;c.setWithCredentials(!0),c.listenOnce(pO.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case V0.NO_ERROR:const d=c.getResponseJson();ct(xs,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case V0.TIMEOUT:ct(xs,`RPC '${e}' ${i} timed out`),a(new it(Re.DEADLINE_EXCEEDED,"Request time out"));break;case V0.HTTP_ERROR:const h=c.getStatus();if(ct(xs,`RPC '${e}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const b=function(_){const x=_.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(x)>=0?x:Re.UNKNOWN}(g.status);a(new it(b,g.message))}else a(new it(Re.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new it(Re.UNAVAILABLE,"Connection failed."));break;default:Lt()}}finally{ct(xs,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);ct(xs,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",u,r,15)})}Wo(e,n,r){const s=S_(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vO(),a=gO(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");ct(xs,`Creating RPC '${e}' stream ${s}: ${d}`,c);const h=o.createWebChannel(d,c);let p=!1,g=!1;const b=new ree({Fo:_=>{g?ct(xs,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(p||(ct(xs,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),ct(xs,`RPC '${e}' stream ${s} sending:`,_),h.send(_))},Mo:()=>h.close()}),w=(_,x,v)=>{_.listen(x,N=>{try{v(N)}catch(R){setTimeout(()=>{throw R},0)}})};return w(h,rg.EventType.OPEN,()=>{g||(ct(xs,`RPC '${e}' stream ${s} transport opened.`),b.Qo())}),w(h,rg.EventType.CLOSE,()=>{g||(g=!0,ct(xs,`RPC '${e}' stream ${s} transport closed`),b.Uo())}),w(h,rg.EventType.ERROR,_=>{g||(g=!0,Op(xs,`RPC '${e}' stream ${s} transport errored:`,_),b.Uo(new it(Re.UNAVAILABLE,"The operation could not be completed")))}),w(h,rg.EventType.MESSAGE,_=>{var x;if(!g){const v=_.data[0];An(!!v);const N=v,R=(N==null?void 0:N.error)||((x=N[0])===null||x===void 0?void 0:x.error);if(R){ct(xs,`RPC '${e}' stream ${s} received error:`,R);const M=R.status;let $=function(L){const F=kr[L];if(F!==void 0)return QO(F)}(M),I=R.message;$===void 0&&($=Re.INTERNAL,I="Unknown error status: "+M+" with message "+R.message),g=!0,b.Uo(new it($,I)),h.close()}else ct(xs,`RPC '${e}' stream ${s} received:`,v),b.Ko(v)}}),w(a,mO.STAT_EVENT,_=>{_.stat===d_.PROXY?ct(xs,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===d_.NOPROXY&&ct(xs,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.$o()},0),b}}function wb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(t){return new lJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&ct("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="PersistentStream";class dD{constructor(e,n,r,s,i,o,a,c){this.Ti=e,this.n_=r,this.r_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new uD(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===Re.RESOURCE_EXHAUSTED?(nc(n.toString()),nc("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new it(Re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ct(oT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ct(oT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iee extends dD{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=dJ(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ft.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ft.min():o.readTime?Ha(o.readTime):Ft.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=b_(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=g_(c)?{documents:pJ(i,c)}:{query:mJ(i,c).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=JO(i,o.resumeToken);const u=y_(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ft.min())>0){a.readTime=Y1(i,o.snapshotVersion.toTimestamp());const u=y_(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=vJ(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=b_(this.serializer),n.removeTarget=e,this.I_(n)}}class oee extends dD{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return An(!!e.streamToken),this.lastStreamToken=e.streamToken,An(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){An(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=fJ(e.writeResults,e.commitTime),r=Ha(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=b_(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>hJ(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aee{}class lee extends aee{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new it(Re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,w_(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new it(Re.UNKNOWN,i.toString())})}Co(e,n,r,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,w_(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new it(Re.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class cee{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(nc(n),this.N_=!1):ct("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="RemoteStore";class uee{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(o=>{r.enqueueAndForget(async()=>{Rh(this)&&(ct(vh,"Restarting streams for network reachability change."),await async function(c){const u=Wt(c);u.W_.add(4),await ey(u),u.j_.set("Unknown"),u.W_.delete(4),await _w(u)}(this))})}),this.j_=new cee(r,s)}}async function _w(t){if(Rh(t))for(const e of t.G_)await e(!0)}async function ey(t){for(const e of t.G_)await e(!1)}function hD(t,e){const n=Wt(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),hE(n)?dE(n):lm(n).c_()&&uE(n,e))}function cE(t,e){const n=Wt(t),r=lm(n);n.K_.delete(e),r.c_()&&fD(n,e),n.K_.size===0&&(r.c_()?r.P_():Rh(n)&&n.j_.set("Unknown"))}function uE(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ft.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lm(t).y_(e)}function fD(t,e){t.H_.Ne(e),lm(t).w_(e)}function dE(t){t.H_=new sJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),lm(t).start(),t.j_.B_()}function hE(t){return Rh(t)&&!lm(t).u_()&&t.K_.size>0}function Rh(t){return Wt(t).W_.size===0}function pD(t){t.H_=void 0}async function dee(t){t.j_.set("Online")}async function hee(t){t.K_.forEach((e,n)=>{uE(t,e)})}async function fee(t,e){pD(t),hE(t)?(t.j_.q_(e),dE(t)):t.j_.set("Unknown")}async function pee(t,e,n){if(t.j_.set("Online"),e instanceof ZO&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.K_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.K_.delete(a),s.H_.removeTarget(a))}(t,e)}catch(r){ct(vh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await X1(t,r)}else if(e instanceof q0?t.H_.We(e):e instanceof XO?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Ft.min()))try{const r=await cD(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.H_.ot(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.K_.get(u);d&&i.K_.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const d=i.K_.get(c);if(!d)return;i.K_.set(c,d.withResumeToken(fs.EMPTY_BYTE_STRING,d.snapshotVersion)),fD(i,c);const h=new hu(d.target,c,u,d.sequenceNumber);uE(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ct(vh,"Failed to raise snapshot:",r),await X1(t,r)}}async function X1(t,e,n){if(!am(e))throw e;t.W_.add(1),await ey(t),t.j_.set("Offline"),n||(n=()=>cD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ct(vh,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await _w(t)})}function mD(t,e){return e().catch(n=>X1(t,n,e))}async function Sw(t){const e=Wt(t),n=$u(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:YN;for(;mee(e);)try{const s=await QJ(e.localStore,r);if(s===null){e.U_.length===0&&n.P_();break}r=s.batchId,gee(e,s)}catch(s){await X1(e,s)}gD(e)&&vD(e)}function mee(t){return Rh(t)&&t.U_.length<10}function gee(t,e){t.U_.push(e);const n=$u(t);n.c_()&&n.S_&&n.b_(e.mutations)}function gD(t){return Rh(t)&&!$u(t).u_()&&t.U_.length>0}function vD(t){$u(t).start()}async function vee(t){$u(t).C_()}async function yee(t){const e=$u(t);for(const n of t.U_)e.b_(n.mutations)}async function wee(t,e,n){const r=t.U_.shift(),s=nE.from(r,e,n);await mD(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Sw(t)}async function xee(t,e){e&&$u(t).S_&&await async function(r,s){if(function(o){return nJ(o)&&o!==Re.ABORTED}(s.code)){const i=r.U_.shift();$u(r).h_(),await mD(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Sw(r)}}(t,e),gD(t)&&vD(t)}async function aT(t,e){const n=Wt(t);n.asyncQueue.verifyOperationInProgress(),ct(vh,"RemoteStore received new credentials");const r=Rh(n);n.W_.add(3),await ey(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await _w(n)}async function bee(t,e){const n=Wt(t);e?(n.W_.delete(2),await _w(n)):e||(n.W_.add(2),await ey(n),n.j_.set("Unknown"))}function lm(t){return t.J_||(t.J_=function(n,r,s){const i=Wt(n);return i.M_(),new iee(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:dee.bind(null,t),No:hee.bind(null,t),Lo:fee.bind(null,t),p_:pee.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),hE(t)?dE(t):t.j_.set("Unknown")):(await t.J_.stop(),pD(t))})),t.J_}function $u(t){return t.Y_||(t.Y_=function(n,r,s){const i=Wt(n);return i.M_(),new oee(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:vee.bind(null,t),Lo:xee.bind(null,t),D_:yee.bind(null,t),v_:wee.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Sw(t)):(await t.Y_.stop(),t.U_.length>0&&(ct(vh,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new zl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new fE(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pE(t,e){if(nc("AsyncQueue",`${e}: ${t}`),am(t))return new it(Re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{static emptySet(e){return new np(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||bt.comparator(n.key,r.key):(n,r)=>bt.comparator(n.key,r.key),this.keyedMap=sg(),this.sortedSet=new ir(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof np)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new np;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.Z_=new ir(bt.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Lt():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Bp{constructor(e,n,r,s,i,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Bp(e,n,np.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ee{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class See{constructor(){this.queries=cT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=Wt(n),i=s.queries;s.queries=cT(),i.forEach((o,a)=>{for(const c of a.ta)c.onError(r)})})(this,new it(Re.ABORTED,"Firestore shutting down"))}}function cT(){return new jh(t=>MO(t),gw)}async function yD(t,e){const n=Wt(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.na()&&e.ra()&&(r=2):(i=new _ee,r=e.ra()?0:1);try{switch(r){case 0:i.ea=await n.onListen(s,!0);break;case 1:i.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=pE(o,`Initialization of query '${gf(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ta.push(e),e.sa(n.onlineState),i.ea&&e.oa(i.ea)&&mE(n)}async function wD(t,e){const n=Wt(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ta.indexOf(e);o>=0&&(i.ta.splice(o,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Nee(t,e){const n=Wt(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ta)a.oa(s)&&(r=!0);o.ea=s}}r&&mE(n)}function Eee(t,e,n){const r=Wt(t),s=r.queries.get(e);if(s)for(const i of s.ta)i.onError(n);r.queries.delete(e)}function mE(t){t.ia.forEach(e=>{e.next()})}var N_,uT;(uT=N_||(N_={}))._a="default",uT.Cache="cache";class xD{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Bp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Bp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==N_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.key=e}}class _D{constructor(e){this.key=e}}class Aee{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=cn(),this.mutatedKeys=cn(),this.ya=FO(e),this.wa=new np(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new lT,s=n?n.wa:this.wa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),g=vw(this.query,h)?h:null,b=!!p&&this.mutatedKeys.has(p.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;p&&g?p.data.isEqual(g.data)?b!==w&&(r.track({type:3,doc:g}),_=!0):this.va(p,g)||(r.track({type:2,doc:g}),_=!0,(c&&this.ya(g,c)>0||u&&this.ya(g,u)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),_=!0):p&&!g&&(r.track({type:1,doc:p}),_=!0,(c||u)&&(a=!0)),_&&(g?(o=o.add(g),i=w?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{wa:o,Da:r,ls:a,mutatedKeys:i}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((d,h)=>function(g,b){const w=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lt()}};return w(g)-w(b)}(d.type,h.type)||this.ya(d.doc,h.doc)),this.Ca(r),s=s!=null&&s;const a=n&&!s?this.Fa():[],c=this.pa.size===0&&this.current&&!s?1:0,u=c!==this.ga;return this.ga=c,o.length!==0||u?{snapshot:new Bp(this.query,e.wa,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new lT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=cn(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new _D(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new bD(r))}),n}Oa(e){this.fa=e.gs,this.pa=cn();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Bp.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const gE="SyncEngine";class Cee{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Pee{constructor(e){this.key=e,this.Ba=!1}}class Tee{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new jh(a=>MO(a),gw),this.qa=new Map,this.Qa=new Set,this.$a=new ir(bt.comparator),this.Ua=new Map,this.Ka=new iE,this.Wa={},this.Ga=new Map,this.za=Up.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Iee(t,e,n=!0){const r=PD(t);let s;const i=r.ka.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await SD(r,e,n,!0),s}async function kee(t,e){const n=PD(t);await SD(n,e,!0,!1)}async function SD(t,e,n,r){const s=await XJ(t.localStore,Wa(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await jee(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&hD(t.remoteStore,s),a}async function jee(t,e,n,r,s){t.Ha=(h,p,g)=>async function(w,_,x,v){let N=_.view.ba(x);N.ls&&(N=await nT(w.localStore,_.query,!1).then(({documents:I})=>_.view.ba(I,N)));const R=v&&v.targetChanges.get(_.targetId),M=v&&v.targetMismatches.get(_.targetId)!=null,$=_.view.applyChanges(N,w.isPrimaryClient,R,M);return hT(w,_.targetId,$.Ma),$.snapshot}(t,h,p,g);const i=await nT(t.localStore,e,!0),o=new Aee(e,i.gs),a=o.ba(i.documents),c=Jv.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,c);hT(t,n,u.Ma);const d=new Cee(e,n,o);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),u.snapshot}async function Ree(t,e,n){const r=Wt(t),s=r.ka.get(e),i=r.qa.get(s.targetId);if(i.length>1)return r.qa.set(s.targetId,i.filter(o=>!gw(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await __(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&cE(r.remoteStore,s.targetId),E_(r,s.targetId)}).catch(om)):(E_(r,s.targetId),await __(r.localStore,s.targetId,!0))}async function Lee(t,e){const n=Wt(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),cE(n.remoteStore,r.targetId))}async function Oee(t,e,n){const r=zee(t);try{const s=await function(o,a){const c=Wt(o),u=Br.now(),d=a.reduce((g,b)=>g.add(b.key),cn());let h,p;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=rc(),w=cn();return c.ds.getEntries(g,d).next(_=>{b=_,b.forEach((x,v)=>{v.isValidDocument()||(w=w.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,b)).next(_=>{h=_;const x=[];for(const v of a){const N=XZ(v,h.get(v.key).overlayedDocument);N!=null&&x.push(new rd(v.key,N,IO(N.value.mapValue),ea.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,x,a)}).next(_=>{p=_;const x=_.applyToLocalDocumentSet(h,w);return c.documentOverlayCache.saveOverlays(g,_.batchId,x)})}).then(()=>({batchId:p.batchId,changes:UO(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let u=o.Wa[o.currentUser.toKey()];u||(u=new ir(Jt)),u=u.insert(a,c),o.Wa[o.currentUser.toKey()]=u}(r,s.batchId,n),await ty(r,s.changes),await Sw(r.remoteStore)}catch(s){const i=pE(s,"Failed to persist write");n.reject(i)}}async function ND(t,e){const n=Wt(t);try{const r=await KJ(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ua.get(i);o&&(An(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?An(o.Ba):s.removedDocuments.size>0&&(An(o.Ba),o.Ba=!1))}),await ty(n,r,e)}catch(r){await om(r)}}function dT(t,e,n){const r=Wt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((i,o)=>{const a=o.view.sa(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=Wt(o);c.onlineState=a;let u=!1;c.queries.forEach((d,h)=>{for(const p of h.ta)p.sa(a)&&(u=!0)}),u&&mE(c)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Dee(t,e,n){const r=Wt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ua.get(e),i=s&&s.key;if(i){let o=new ir(bt.comparator);o=o.insert(i,Ts.newNoDocument(i,Ft.min()));const a=cn().add(i),c=new xw(Ft.min(),new Map,new ir(Jt),o,a);await ND(r,c),r.$a=r.$a.remove(i),r.Ua.delete(e),vE(r)}else await __(r.localStore,e,!1).then(()=>E_(r,e,n)).catch(om)}async function Mee(t,e){const n=Wt(t),r=e.batch.batchId;try{const s=await GJ(n.localStore,e);AD(n,r,null),ED(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ty(n,s)}catch(s){await om(s)}}async function Fee(t,e,n){const r=Wt(t);try{const s=await function(o,a){const c=Wt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(h=>(An(h!==null),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);AD(r,e,n),ED(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ty(r,s)}catch(s){await om(s)}}function ED(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function AD(t,e,n){const r=Wt(t);let s=r.Wa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function E_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||CD(t,r)})}function CD(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(cE(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),vE(t))}function hT(t,e,n){for(const r of n)r instanceof bD?(t.Ka.addReference(r.key,e),Vee(t,r)):r instanceof _D?(ct(gE,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||CD(t,r.key)):Lt()}function Vee(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(ct(gE,"New document in limbo: "+n),t.Qa.add(r),vE(t))}function vE(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new bt(zn.fromString(e)),r=t.za.next();t.Ua.set(r,new Pee(n)),t.$a=t.$a.insert(n,r),hD(t.remoteStore,new hu(Wa(JN(n.path)),r,"TargetPurposeLimboResolution",hw.ae))}}async function ty(t,e,n){const r=Wt(t),s=[],i=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,c)=>{o.push(r.Ha(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){s.push(u);const h=aE.Yi(c.targetId,u);i.push(h)}}))}),await Promise.all(o),r.La.p_(s),await async function(c,u){const d=Wt(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Ve.forEach(u,p=>Ve.forEach(p.Hi,g=>d.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>Ve.forEach(p.Ji,g=>d.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!am(h))throw h;ct(lE,"Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const g=d.Ts.get(p),b=g.snapshotVersion,w=g.withLastLimboFreeSnapshotVersion(b);d.Ts=d.Ts.insert(p,w)}}}(r.localStore,i))}async function Uee(t,e){const n=Wt(t);if(!n.currentUser.isEqual(e)){ct(gE,"User change. New user:",e.toKey());const r=await lD(n.localStore,e);n.currentUser=e,function(i,o){i.Ga.forEach(a=>{a.forEach(c=>{c.reject(new it(Re.CANCELLED,o))})}),i.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ty(n,r.Rs)}}function Bee(t,e){const n=Wt(t),r=n.Ua.get(e);if(r&&r.Ba)return cn().add(r.key);{let s=cn();const i=n.qa.get(e);if(!i)return s;for(const o of i){const a=n.ka.get(o);s=s.unionWith(a.view.Sa)}return s}}function PD(t){const e=Wt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ND.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dee.bind(null,e),e.La.p_=Nee.bind(null,e.eventManager),e.La.Ja=Eee.bind(null,e.eventManager),e}function zee(t){const e=Wt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fee.bind(null,e),e}class Z1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bw(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return HJ(this.persistence,new qJ,e.initialUser,this.serializer)}Xa(e){return new aD(oE.ri,this.serializer)}Za(e){return new JJ}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Z1.provider={build:()=>new Z1};class qee extends Z1{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){An(this.persistence.referenceDelegate instanceof Q1);const r=this.persistence.referenceDelegate.garbageCollector;return new PJ(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?pi.withCacheSize(this.cacheSizeBytes):pi.DEFAULT;return new aD(r=>Q1.ri(r,n),this.serializer)}}class A_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Uee.bind(null,this.syncEngine),await bee(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new See}()}createDatastore(e){const n=bw(e.databaseInfo.databaseId),r=function(i){return new see(i)}(e.databaseInfo);return function(i,o,a,c){return new lee(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new uee(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>dT(this.syncEngine,n,0),function(){return iT.D()?new iT:new eee}())}createSyncEngine(e,n){return function(s,i,o,a,c,u,d){const h=new Tee(s,i,o,a,c,u);return d&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Wt(s);ct(vh,"RemoteStore shutting down."),i.W_.add(5),await ey(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}A_.provider={build:()=>new A_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):nc("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu="FirestoreClient";class $ee{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=As.UNAUTHENTICATED,this.clientId=xO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ct(Wu,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ct(Wu,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=pE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xb(t,e){t.asyncQueue.verifyOperationInProgress(),ct(Wu,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await lD(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Wee(t);ct(Wu,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>aT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>aT(e.remoteStore,s)),t._onlineComponents=e}async function Wee(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ct(Wu,"Using user provided OfflineComponentProvider");try{await xb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Re.FAILED_PRECONDITION||s.code===Re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Op("Error using user provided cache. Falling back to memory cache: "+n),await xb(t,new Z1)}}else ct(Wu,"Using default OfflineComponentProvider"),await xb(t,new qee(void 0));return t._offlineComponents}async function ID(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ct(Wu,"Using user provided OnlineComponentProvider"),await fT(t,t._uninitializedComponentsProvider._online)):(ct(Wu,"Using default OnlineComponentProvider"),await fT(t,new A_))),t._onlineComponents}function Hee(t){return ID(t).then(e=>e.syncEngine)}async function kD(t){const e=await ID(t),n=e.eventManager;return n.onListen=Iee.bind(null,e.syncEngine),n.onUnlisten=Ree.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kee.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Lee.bind(null,e.syncEngine),n}function Gee(t,e,n={}){const r=new zl;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,u){const d=new TD({next:p=>{d.su(),o.enqueueAndForget(()=>wD(i,h));const g=p.docs.has(a);!g&&p.fromCache?u.reject(new it(Re.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&c&&c.source==="server"?u.reject(new it(Re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new xD(JN(a.path),d,{includeMetadataChanges:!0,Ta:!0});return yD(i,h)}(await kD(t),t.asyncQueue,e,n,r)),r.promise}function Kee(t,e,n={}){const r=new zl;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,u){const d=new TD({next:p=>{d.su(),o.enqueueAndForget(()=>wD(i,h)),p.fromCache&&c.source==="server"?u.reject(new it(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new xD(a,d,{includeMetadataChanges:!0,Ta:!0});return yD(i,h)}(await kD(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t,e,n){if(!n)throw new it(Re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Yee(t,e,n,r){if(e===!0&&r===!0)throw new it(Re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mT(t){if(!bt.isDocumentKey(t))throw new it(Re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gT(t){if(bt.isDocumentKey(t))throw new it(Re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Lt()}function Za(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new it(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nw(t);throw new it(Re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Qee(t,e){if(e<=0)throw new it(Re.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="firestore.googleapis.com",vT=!0;class yT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new it(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LD,this.ssl=vT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:vT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AJ)throw new it(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Yee("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new it(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new it(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new it(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ew{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nZ;switch(r.type){case"firstParty":return new oZ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=pT.get(n);r&&(ct("ComponentProvider","Removing Datastore"),pT.delete(n),r.terminate())}(this),Promise.resolve()}}function Xee(t,e,n,r={}){var s;const i=(t=Za(t,Ew))._getSettings(),o=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i.host!==LD&&i.host!==a&&Op("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},i),{host:a,ssl:!1,emulatorOptions:r});if(!hh(c,o)&&(t._setSettings(c),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=As.MOCK_USER;else{u=vL(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new it(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new As(h)}t._authCredentials=new rZ(new yO(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lc(this.firestore,e,this._query)}}class Js{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Js(this.firestore,e,this._key)}}class Cu extends lc{constructor(e,n,r){super(e,n,JN(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Js(this.firestore,null,new bt(e))}withConverter(e){return new Cu(this.firestore,e,this._path)}}function us(t,e,...n){if(t=sr(t),RD("collection","path",e),t instanceof Ew){const r=zn.fromString(e,...n);return gT(r),new Cu(t,null,r)}{if(!(t instanceof Js||t instanceof Cu))throw new it(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(zn.fromString(e,...n));return gT(r),new Cu(t.firestore,null,r)}}function yr(t,e,...n){if(t=sr(t),arguments.length===1&&(e=xO.newId()),RD("doc","path",e),t instanceof Ew){const r=zn.fromString(e,...n);return mT(r),new Js(t,null,new bt(r))}{if(!(t instanceof Js||t instanceof Cu))throw new it(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(zn.fromString(e,...n));return mT(r),new Js(t.firestore,t instanceof Cu?t.converter:null,new bt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="AsyncQueue";class xT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new uD(this,"async_queue_retry"),this.Su=()=>{const r=wb();r&&ct(wT,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=wb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=wb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new zl;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!am(e))throw e;ct(wT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw nc("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=fE.createAndSchedule(this,e,n,r,i=>this.Fu(i));return this.fu.push(s),s}Du(){this.gu&&Lt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class cm extends Ew{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new xT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xT(e),this._firestoreClient=void 0,await e}}}function Zee(t,e){const n=typeof t=="object"?t:MN(),r=typeof t=="string"?t:$1,s=aw(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=pL("firestore");i&&Xee(s,...i)}return s}function yE(t){if(t._terminated)throw new it(Re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Jee(t),t._firestoreClient}function Jee(t){var e,n,r;const s=t._freezeSettings(),i=function(a,c,u,d){return new bZ(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,jD(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new $ee(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zp(fs.fromBase64String(e))}catch(n){throw new it(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zp(fs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new it(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new it(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new it(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ete=/^__.*__$/;class tte{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new rd(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zv(e,this.data,n,this.fieldTransforms)}}class OD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new rd(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lt()}}class bE{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new bE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return J1(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(DD(this.Lu)&&ete.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class nte{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bw(e)}ju(e,n,r,s=!1){return new bE({Lu:e,methodName:n,zu:r,path:cs.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ny(t){const e=t._freezeSettings(),n=bw(t._databaseId);return new nte(t._databaseId,!!e.ignoreUndefinedProperties,n)}function MD(t,e,n,r,s,i={}){const o=t.ju(i.merge||i.mergeFields?2:0,e,n,s);SE("Data must be an object, but it was:",o,r);const a=VD(r,o);let c,u;if(i.merge)c=new Fi(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=C_(e,h,n);if(!o.contains(p))throw new it(Re.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);BD(d,p)||d.push(p)}c=new Fi(d),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new tte(new yi(a),c,u)}class Pw extends Cw{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pw}}class _E extends Cw{_toFieldTransform(e){return new GZ(e.path,new av)}isEqual(e){return e instanceof _E}}function rte(t,e,n,r){const s=t.ju(1,e,n);SE("Data must be an object, but it was:",s,r);const i=[],o=yi.empty();nd(r,(c,u)=>{const d=NE(e,c,n);u=sr(u);const h=s.Uu(d);if(u instanceof Pw)i.push(d);else{const p=ry(u,h);p!=null&&(i.push(d),o.set(d,p))}});const a=new Fi(i);return new OD(o,a,s.fieldTransforms)}function ste(t,e,n,r,s,i){const o=t.ju(1,e,n),a=[C_(e,r,n)],c=[s];if(i.length%2!=0)throw new it(Re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(C_(e,i[p])),c.push(i[p+1]);const u=[],d=yi.empty();for(let p=a.length-1;p>=0;--p)if(!BD(u,a[p])){const g=a[p];let b=c[p];b=sr(b);const w=o.Uu(g);if(b instanceof Pw)u.push(g);else{const _=ry(b,w);_!=null&&(u.push(g),d.set(g,_))}}const h=new Fi(u);return new OD(d,h,o.fieldTransforms)}function FD(t,e,n,r=!1){return ry(n,t.ju(r?4:3,e))}function ry(t,e){if(UD(t=sr(t)))return SE("Unsupported field value:",e,t),VD(t,e);if(t instanceof Cw)return function(r,s){if(!DD(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=ry(a,s.Ku(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=sr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $Z(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Br.fromDate(r);return{timestampValue:Y1(s.serializer,i)}}if(r instanceof Br){const i=new Br(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Y1(s.serializer,i)}}if(r instanceof wE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zp)return{bytesValue:JO(s.serializer,r._byteString)};if(r instanceof Js){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:sE(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof xE)return function(o,a){return{mapValue:{fields:{[PO]:{stringValue:TO},[W1]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Wu("VectorValues must only contain numeric values.");return tE(a.serializer,u)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${Nw(r)}`)}(t,e)}function VD(t,e){const n={};return _O(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nd(t,(r,s)=>{const i=ry(s,e.qu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function UD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Br||t instanceof wE||t instanceof zp||t instanceof Js||t instanceof Cw||t instanceof xE)}function SE(t,e,n){if(!UD(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Nw(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function C_(t,e,n){if((e=sr(e))instanceof Aw)return e._internalPath;if(typeof e=="string")return NE(t,e);throw J1("Field path arguments must be of type string or ",t,!1,void 0,n)}const ite=new RegExp("[~\\*/\\[\\]]");function NE(t,e,n){if(e.search(ite)>=0)throw J1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Aw(...e.split("."))._internalPath}catch{throw J1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function J1(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new it(Re.INVALID_ARGUMENT,a+t+c)}function BD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Js(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ote(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Tw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ote extends EE{data(){return super.data()}}function Tw(t,e){return typeof e=="string"?NE(t,e):e instanceof Aw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ate(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new it(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AE{}class Iw extends AE{}function Ho(t,e,...n){let r=[];e instanceof AE&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof CE).length,a=i.filter(c=>c instanceof kw).length;if(o>1||o>0&&a>0)throw new it(Re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class kw extends Iw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new kw(e,n,r)}_apply(e){const n=this._parse(e);return zD(e._query,n),new lc(e.firestore,e.converter,v_(e._query,n))}_parse(e){const n=ny(e.firestore);return function(i,o,a,c,u,d,h){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new it(Re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){NT(h,d);const b=[];for(const w of h)b.push(ST(c,i,w));p={arrayValue:{values:b}}}else p=ST(c,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||NT(h,d),p=FD(a,o,h,d==="in"||d==="not-in");return Rr.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ga(t,e,n){const r=e,s=Tw("where",t);return kw._create(s,r,n)}class CE extends AE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new CE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:oa.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)zD(o,c),o=v_(o,c)}(e._query,n),new lc(e.firestore,e.converter,v_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class PE extends Iw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new PE(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new it(Re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new it(Re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ov(i,o)}(e._query,this._field,this._direction);return new lc(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new kh(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function fu(t,e="asc"){const n=e,r=Tw("orderBy",t);return PE._create(r,n)}class TE extends Iw{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new TE(e,n,r)}_apply(e){return new lc(e.firestore,e.converter,G1(e._query,this._limit,this._limitType))}}function bT(t){return Qee("limit",t),TE._create("limit",t,"F")}class IE extends Iw{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new IE(e,n,r)}_apply(e){const n=lte(e,this.type,this._docOrFields,this._inclusive);return new lc(e.firestore,e.converter,function(s,i){return new kh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function _T(...t){return IE._create("startAfter",t,!1)}function lte(t,e,n,r){if(n[0]=sr(n[0]),n[0]instanceof EE)return function(i,o,a,c,u){if(!c)throw new it(Re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const h of tp(i))if(h.field.isKeyField())d.push(H1(o,c.key));else{const p=c.data.field(h.field);if(pw(p))throw new it(Re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const g=h.field.canonicalString();throw new it(Re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}d.push(p)}return new Vp(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=ny(t.firestore);return function(o,a,c,u,d,h){const p=o.explicitOrderBy;if(d.length>p.length)throw new it(Re.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const g=[];for(let b=0;b<d.length;b++){const w=d[b];if(p[b].field.isKeyField()){if(typeof w!="string")throw new it(Re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof w}`);if(!eE(o)&&w.indexOf("/")!==-1)throw new it(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${w}' contains a slash.`);const _=o.path.child(zn.fromString(w));if(!bt.isDocumentKey(_))throw new it(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const x=new bt(_);g.push(H1(a,x))}else{const _=FD(c,u,w);g.push(_)}}return new Vp(g,h)}(t._query,t.firestore._databaseId,s,e,n,r)}}function ST(t,e,n){if(typeof(n=sr(n))=="string"){if(n==="")throw new it(Re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eE(e)&&n.indexOf("/")!==-1)throw new it(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(zn.fromString(n));if(!bt.isDocumentKey(r))throw new it(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return H1(t,new bt(r))}if(n instanceof Js)return H1(t,n._key);throw new it(Re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nw(n)}.`)}function NT(t,e){if(!Array.isArray(t)||t.length===0)throw new it(Re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zD(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new it(Re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(Re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class cte{convertValue(e,n="none"){switch(qu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Lt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return nd(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[W1].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>vr(o.doubleValue));return new xE(i)}convertGeoPoint(e){return new wE(vr(e.latitude),vr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rv(e));default:return null}}convertTimestamp(e){const n=Bu(e);return new Br(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=zn.fromString(e);An(iD(r));const s=new sv(r.get(1),r.get(3)),i=new bt(r.popFirst(5));return s.isEqual(n)||nc(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $D extends EE{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Tw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class $0 extends $D{data(e={}){return super.data(e)}}class ute{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new og(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $0(this._firestore,this._userDataWriter,r.key,r,new og(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new it(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new $0(s._firestore,s._userDataWriter,a.doc.key,a.doc,new og(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new $0(s._firestore,s._userDataWriter,a.doc.key,a.doc,new og(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:dte(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dte(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){t=Za(t,Js);const e=Za(t.firestore,cm);return Gee(yE(e),t._key).then(n=>hte(e,t,n))}class WD extends cte{constructor(e){super(),this.firestore=e}convertBytes(e){return new zp(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Js(this.firestore,null,n)}}function Go(t){t=Za(t,lc);const e=Za(t.firestore,cm),n=yE(e),r=new WD(e);return ate(t._query),Kee(n,t._query).then(s=>new ute(e,r,t,s))}function rp(t,e,n){t=Za(t,Js);const r=Za(t.firestore,cm),s=qD(t.converter,e);return kE(r,[MD(ny(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ea.none())])}function qp(t,e,n,...r){t=Za(t,Js);const s=Za(t.firestore,cm),i=ny(s);let o;return o=typeof(e=sr(e))=="string"||e instanceof Aw?ste(i,"updateDoc",t._key,e,n,r):rte(i,"updateDoc",t._key,e),kE(s,[o.toMutation(t._key,ea.exists(!0))])}function $p(t,e){const n=Za(t.firestore,cm),r=yr(t),s=qD(t.converter,e);return kE(n,[MD(ny(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ea.exists(!1))]).then(()=>r)}function kE(t,e){return function(r,s){const i=new zl;return r.asyncQueue.enqueueAndForget(async()=>Oee(await Hee(r),s,i)),i.promise}(yE(t),e)}function hte(t,e,n){const r=n.docs.get(e._key),s=new WD(t);return new $D(t,s,e._key,r,new og(n.hasPendingWrites,n.fromCache),e.converter)}function Vi(){return new _E("serverTimestamp")}(function(e,n=!0){(function(s){im=s})(Ih),fh(new Vu("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new cm(new sZ(r.getProvider("auth-internal")),new aZ(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new it(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sv(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),za(AP,CP,e),za(AP,CP,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="firebasestorage.googleapis.com",GD="storageBucket",fte=2*60*1e3,pte=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends nl{constructor(e,n,r=0){super(bb(e),`Firebase Storage: ${n} (${bb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xr||(Xr={}));function bb(t){return"storage/"+t}function KD(){const t="An unknown error occurred, please check the error payload for server response.";return new Zr(Xr.UNKNOWN,t)}function mte(t){return new Zr(Xr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function gte(t){return new Zr(Xr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vte(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Zr(Xr.UNAUTHENTICATED,t)}function yte(){return new Zr(Xr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function wte(t){return new Zr(Xr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function xte(){return new Zr(Xr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bte(){return new Zr(Xr.CANCELED,"User canceled the upload/download.")}function _te(t){return new Zr(Xr.INVALID_URL,"Invalid URL '"+t+"'.")}function Ste(t){return new Zr(Xr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Nte(){return new Zr(Xr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+GD+"' property when initializing the app?")}function Ete(){return new Zr(Xr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function P_(t){return new Zr(Xr.INVALID_ARGUMENT,t)}function YD(){return new Zr(Xr.APP_DELETED,"The Firebase app was deleted.")}function Ate(t){return new Zr(Xr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zm(t){throw new Zr(Xr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ui.makeFromUrl(e,n)}catch{return new Ui(e,"")}if(r.path==="")return r;throw Ste(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function u(R){R.path_=decodeURIComponent(R.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${s}/o${p}`,"i"),b={bucket:1,path:3},w=n===HD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",x=new RegExp(`^https?://${w}/${s}/${_}`,"i"),N=[{regex:a,indices:c,postModify:i},{regex:g,indices:b,postModify:u},{regex:x,indices:{bucket:1,path:2},postModify:u}];for(let R=0;R<N.length;R++){const M=N[R],$=M.regex.exec(e);if($){const I=$[M.indices.bucket];let P=$[M.indices.path];P||(P=""),r=new Ui(I,P),M.postModify(r);break}}if(r==null)throw _te(e);return r}}class Cte{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pte(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function c(){return a===2}let u=!1;function d(..._){u||(u=!0,e.apply(null,_))}function h(_){s=setTimeout(()=>{s=null,t(g,c())},_)}function p(){i&&clearTimeout(i)}function g(_,...x){if(u){p();return}if(_){p(),d.call(null,_,...x);return}if(c()||o){p(),d.call(null,_,...x);return}r<64&&(r*=2);let N;a===1?(a=2,N=0):N=(r+Math.random())*1e3,h(N)}let b=!1;function w(_){b||(b=!0,p(),!u&&(s!==null?(_||(a=2),clearTimeout(s),h(0)):_||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,w(!0)},n),w}function Tte(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ite(t){return t!==void 0}function kte(t){return typeof t=="object"&&!Array.isArray(t)}function QD(t){return typeof t=="string"||t instanceof String}function ET(t,e,n,r){if(r<e)throw P_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw P_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function ZD(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Xd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xd||(Xd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jte(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rte{constructor(e,n,r,s,i,o,a,c,u,d,h,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,b)=>{this.resolve_=g,this.reject_=b,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new d0(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Xd.NO_ERROR,c=i.getStatus();if(!a||jte(c,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Xd.ABORT;r(!1,new d0(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new d0(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());Ite(c)?i(c):i()}catch(c){o(c)}else if(a!==null){const c=KD();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(s.canceled){const c=this.appDelete_?YD():bte();o(c)}else{const c=xte();o(c)}};this.canceled_?n(!1,new d0(!1,null,!0)):this.backoffId_=Pte(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Tte(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class d0{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Lte(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Ote(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Dte(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Mte(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Fte(t,e,n,r,s,i,o=!0){const a=ZD(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return Dte(u,e),Lte(u,n),Ote(u,i),Mte(u,r),new Rte(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){let e;try{e=JSON.parse(t)}catch{return null}return kte(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vte(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Ute(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function eM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bte(t,e){return e}class zs{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||Bte}}let h0=null;function zte(t){return!QD(t)||t.length<2?t:eM(t)}function qte(){if(h0)return h0;const t=[];t.push(new zs("bucket")),t.push(new zs("generation")),t.push(new zs("metageneration")),t.push(new zs("name","fullPath",!0));function e(i,o){return zte(o)}const n=new zs("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new zs("size");return s.xform=r,t.push(s),t.push(new zs("timeCreated")),t.push(new zs("updated")),t.push(new zs("md5Hash",null,!0)),t.push(new zs("cacheControl",null,!0)),t.push(new zs("contentDisposition",null,!0)),t.push(new zs("contentEncoding",null,!0)),t.push(new zs("contentLanguage",null,!0)),t.push(new zs("contentType",null,!0)),t.push(new zs("metadata","customMetadata",!0)),h0=t,h0}function $te(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Ui(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function Wte(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return $te(r,t),r}function Hte(t,e,n){const r=JD(e);return r===null?null:Wte(t,r,n)}function Gte(t,e,n,r){const s=JD(e);if(s===null||!QD(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const d=t.bucket,h=t.fullPath,p="/b/"+o(d)+"/o/"+o(h),g=XD(p,n,r),b=ZD({alt:"media",token:u});return g+b})[0]}class Kte{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yte(t){if(!t)throw KD()}function Qte(t,e){function n(r,s){const i=Hte(t,s,e);return Yte(i!==null),Gte(i,s,t.host,t._protocol)}return n}function Xte(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=yte():s=vte():n.getStatus()===402?s=gte(t.bucket):n.getStatus()===403?s=wte(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function Zte(t){const e=Xte(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=mte(t.path)),i.serverResponse=s.serverResponse,i}return n}function Jte(t,e,n){const r=e.fullServerUrl(),s=XD(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Kte(s,i,Qte(t,n),o);return a.errorHandler=Zte(e),a}class ene{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xd.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xd.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xd.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw zm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class tne extends ene{initXhr(){this.xhr_.responseType="text"}}function nne(){return new tne}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n){this._service=e,n instanceof Ui?this._location=n:this._location=Ui.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new yh(e,n)}get root(){const e=new Ui(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eM(this._location.path)}get storage(){return this._service}get parent(){const e=Vte(this._location.path);if(e===null)return null;const n=new Ui(this._location.bucket,e);return new yh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Ate(e)}}function rne(t){t._throwIfRoot("getDownloadURL");const e=Jte(t.storage,t._location,qte());return t.storage.makeRequestWithTokens(e,nne).then(n=>{if(n===null)throw Ete();return n})}function sne(t,e){const n=Ute(t._location.path,e),r=new Ui(t._location.bucket,n);return new yh(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ine(t){return/^[A-Za-z]+:\/\//.test(t)}function one(t,e){return new yh(t,e)}function tM(t,e){if(t instanceof jE){const n=t;if(n._bucket==null)throw Nte();const r=new yh(n,n._bucket);return e!=null?tM(r,e):r}else return e!==void 0?sne(t,e):t}function ane(t,e){if(e&&ine(e)){if(t instanceof jE)return one(t,e);throw P_("To use ref(service, url), the first argument must be a Storage instance.")}else return tM(t,e)}function AT(t,e){const n=e==null?void 0:e[GD];return n==null?null:Ui.makeFromBucketSpec(n,t)}function lne(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:vL(s,t.app.options.projectId))}class jE{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=HD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fte,this._maxUploadRetryTime=pte,this._requests=new Set,s!=null?this._bucket=Ui.makeFromBucketSpec(s,this._host):this._bucket=AT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ui.makeFromBucketSpec(this._url,e):this._bucket=AT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ET("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ET("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ys(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new yh(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Cte(YD());{const o=Fte(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const CT="@firebase/storage",PT="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="storage";function cne(t){return t=sr(t),rne(t)}function une(t,e){return t=sr(t),ane(t,e)}function dne(t=MN(),e){t=sr(t);const r=aw(t,nM).getImmediate({identifier:e}),s=pL("storage");return s&&hne(r,...s),r}function hne(t,e,n,r={}){lne(t,e,n,r)}function fne(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new jE(n,r,s,e,Ih)}function pne(){fh(new Vu(nM,fne,"PUBLIC").setMultipleInstances(!0)),za(CT,PT,""),za(CT,PT,"esm2017")}pne();const mne="/api/imgbb/upload";async function RE(t){try{try{return await gne(t)}catch(e){return console.warn("Server-side ImgBB upload failed, falling back to direct upload:",e),await vne(t)}}catch(e){throw console.error("Error uploading image to ImgBB:",e),e}}async function gne(t){const e=new FormData;e.append("image",t);const n=await fetch(mne,{method:"POST",body:e}),r=await n.json();if(!n.ok||!r.success)throw new Error(r.error||"Failed to upload image via server API");return r.data.url}async function vne(t){throw new Error("ImgBB API key is not configured")}async function yne(t){if(!t||t.length===0)return[];try{const e=Array.from(t).map(r=>RE(r));return await Promise.all(e)}catch(e){throw console.error("Error uploading multiple images to ImgBB:",e),e}}const wne={apiKey:void 0,authDomain:"undefined.firebaseapp.com",projectId:void 0,storageBucket:"undefined.appspot.com",messagingSenderId:"",appId:void 0},LE=xL(wne),Cs=eZ(LE),tn=Zee(LE),rM=dne(LE),TT=new zo,OE=async()=>{try{try{const t=await iO(Cs,TT);return iM(t)}catch(t){if(console.warn("Popup sign-in failed, trying redirect method:",t),t.code==="auth/popup-blocked"||t.code==="auth/popup-closed-by-user"||t.code==="auth/cancelled-popup-request")return sessionStorage.setItem("authRedirectUrl",window.location.href),await lO(Cs,TT),null;throw t}}catch(t){throw console.error("Error signing in with Google:",t),t}},sM=async()=>{try{const t=await cO(Cs);return t?iM(t):null}catch(t){throw console.error("Error handling Google redirect result:",t),t}},iM=async t=>{const e=t.user;return(await Vl(yr(tn,"users",e.uid))).exists()||await rp(yr(tn,"users",e.uid),{uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,university:"",yearLevel:"",isAnonymousSeller:!1,phoneNumber:e.phoneNumber||"",whatsappNumber:"",createdAt:Vi()}),e},oM=async(t,e,n,r,s,i,o)=>{try{const c=(await HL(Cs,t,e)).user;return await U1(c,{displayName:n}),await rp(yr(tn,"users",c.uid),{uid:c.uid,email:c.email,displayName:n,photoURL:c.photoURL||"",university:r||"",yearLevel:s||"",isAnonymousSeller:!1,phoneNumber:i||"",whatsappNumber:o||"",createdAt:Vi()}),c}catch(a){throw console.error("Error registering with email:",a),a}},aM=async(t,e)=>{try{return(await GL(Cs,t,e)).user}catch(n){throw console.error("Error logging in with email:",n),n}},lM=async()=>{try{await YL(Cs)}catch(t){throw console.error("Error signing out:",t),t}},e2=async(t,e)=>{try{const n={};return(e.displayName||e.photoURL)&&(await U1(t,{displayName:e.displayName,photoURL:e.photoURL}),e.displayName&&(n.displayName=e.displayName),e.photoURL&&(n.photoURL=e.photoURL)),e.university&&(n.university=e.university),e.yearLevel&&(n.yearLevel=e.yearLevel),e.isAnonymousSeller!==void 0&&(n.isAnonymousSeller=e.isAnonymousSeller),e.phoneNumber&&(n.phoneNumber=e.phoneNumber),e.whatsappNumber&&(n.whatsappNumber=e.whatsappNumber),Object.keys(n).length>0&&await qp(yr(tn,"users",t.uid),n),!0}catch(n){throw console.error("Error updating user profile:",n),n}},cM=async(t,e)=>{try{return await RE(t)}catch(n){throw console.error("Error uploading product image:",n),n}},DE=async(t,e)=>{try{const n=t.slice(0,5),r=await yne(n);return console.log(`Successfully uploaded ${r.length} images`),r}catch(n){throw console.error("Error uploading multiple product images:",n),n}},uM=async(t,e)=>{try{return await RE(t)}catch(n){throw console.error("Error uploading profile image:",n),n}},ME=async(t,e)=>{try{const n={...t,userId:e,isSold:!1,isFeatured:!1,createdAt:Vi()};return{id:(await $p(us(tn,"products"),n)).id,...n}}catch(n){throw console.error("Error adding product:",n),n}},ta=async(t={})=>{try{const{categoryId:e,limit:n=10,lastVisible:r,isSold:s,userId:i,isFeatured:o,searchQuery:a,minPrice:c,maxPrice:u,condition:d,yearLevel:h,university:p,sortBy:g="newest",onlyAvailable:b=!1}=t;let w=us(tn,"products"),_=[],x=!1,v=g!=="newest";(a||c!==void 0||u!==void 0||d&&d.length>0||h||p||b||v)&&(x=!0);try{e&&_.push(Ga("categoryId","==",e)),i&&_.push(Ga("userId","==",i)),s!==void 0?(_.push(Ga("isSold","==",s)),o?x=!0:_.push(fu("createdAt","desc"))):(o&&(x=!0),_.push(fu("createdAt","desc")));const N=x?n*10:n;_.push(bT(N)),r&&_.push(_T(r)),w=Ho(w,..._);const R=await Go(w),M=[];if(R.forEach(I=>{const P=I.data();if(P){let L=new Date;if(P.createdAt&&typeof P.createdAt=="object"&&"toDate"in P.createdAt&&typeof P.createdAt.toDate=="function"&&(L=P.createdAt.toDate()),x){if(o&&P.isFeatured!==!0||s!==void 0&&P.isSold!==s)return;if(a&&a.trim()!==""){const F=a.toLowerCase(),k=(P.title||"").toLowerCase(),T=(P.description||"").toLowerCase(),O=(P.sellerName||"").toLowerCase();if(!k.includes(F)&&!T.includes(F)&&!O.includes(F))return}if(c!==void 0&&P.price<c*100||u!==void 0&&P.price>u*100||d&&d.length>0&&!d.includes(P.condition)||h&&P.sellerYearLevel!==h||p&&p.trim()!==""&&!(P.sellerUniversity||"").toLowerCase().includes(p.toLowerCase())||b&&P.quantity<=0)return}M.push({id:I.id,...P,createdAt:L})}}),v)switch(g){case"price_asc":M.sort((I,P)=>I.price-P.price);break;case"price_desc":M.sort((I,P)=>P.price-I.price);break;default:break}(x||v)&&M.length>n&&M.splice(n);const $=R.docs[R.docs.length-1];return{products:M,lastVisible:$}}catch(N){console.warn("Index error in Firestore query, falling back to client-side filtering:",N),w=Ho(us(tn,"products"),fu("createdAt","desc"),bT(100)),r&&(w=Ho(w,_T(r)));const R=await Go(w),M=[];switch(R.forEach($=>{const I=$.data();if(I){let P=new Date;if(I.createdAt&&typeof I.createdAt=="object"&&"toDate"in I.createdAt&&typeof I.createdAt.toDate=="function"&&(P=I.createdAt.toDate()),e&&I.categoryId!==e||i&&I.userId!==i||s!==void 0&&I.isSold!==s||o&&I.isFeatured!==!0)return;if(a&&a.trim()!==""){const L=a.toLowerCase(),F=(I.title||"").toLowerCase(),k=(I.description||"").toLowerCase(),T=(I.sellerName||"").toLowerCase();if(!F.includes(L)&&!k.includes(L)&&!T.includes(L))return}if(c!==void 0&&I.price<c*100||u!==void 0&&I.price>u*100||d&&d.length>0&&!d.includes(I.condition)||h&&I.sellerYearLevel!==h||p&&p.trim()!==""&&!(I.sellerUniversity||"").toLowerCase().includes(p.toLowerCase())||b&&I.quantity<=0)return;M.push({id:$.id,...I,createdAt:P})}}),g){case"price_asc":M.sort(($,I)=>$.price-I.price);break;case"price_desc":M.sort(($,I)=>I.price-$.price);break;default:break}return M.length>n&&M.splice(n),{products:M,lastVisible:null}}}catch(e){return console.error("Error getting products:",e),{products:[],lastVisible:null}}},jw=async t=>{try{const e=yr(tn,"products",t),n=await Vl(e);if(n.exists()){const r=n.data();let s=new Date;r.createdAt&&typeof r.createdAt=="object"&&"toDate"in r.createdAt&&typeof r.createdAt.toDate=="function"&&(s=r.createdAt.toDate());const i=r.userId||null;let o=null;if(i)try{const a=yr(tn,"users",i),c=await Vl(a);if(c.exists()){const u=c.data();o={displayName:u.displayName||"Anonymous",university:u.university||"",phoneNumber:u.phoneNumber||"",whatsappNumber:u.whatsappNumber||"",isAnonymousSeller:u.isAnonymousSeller||!1,yearLevel:u.yearLevel||"",photoURL:u.photoURL||null}}}catch(a){console.warn("Could not fetch seller details:",a)}return{id:n.id,...r,createdAt:s,userId:i,sellerName:(o==null?void 0:o.displayName)||"Unknown Seller",sellerUniversity:(o==null?void 0:o.university)||"",sellerYearLevel:(o==null?void 0:o.yearLevel)||"",sellerPhotoURL:(o==null?void 0:o.photoURL)||null,whatsappNumber:(o==null?void 0:o.whatsappNumber)||"",isAnonymousSeller:(o==null?void 0:o.isAnonymousSeller)||!1}}else return null}catch(e){throw console.error("Error getting product by ID:",e),e}},dM=async(t,e)=>{try{const n=yr(tn,"products",t),r=await Vl(n);if(!r.exists())throw new Error("Product not found");const s={...e,updatedAt:Vi()};return e.isSold&&!r.data().soldAt&&(s.soldAt=Vi()),e.isSold===!1&&r.data().soldAt&&(s.soldAt=null),await qp(n,s),!0}catch(n){throw console.error("Error updating product:",n),n}},FE=async(t,e,n)=>{try{const r={productId:t,userId:e,amount:n,isAccepted:!1,createdAt:Vi()};return{id:(await $p(us(tn,"bids"),r)).id,...r}}catch(r){throw console.error("Error placing bid:",r),r}},VE=async t=>{try{const e=Ho(us(tn,"bids"),Ga("productId","==",t),fu("amount","desc")),n=await Go(e),r=[];return n.forEach(s=>{const i=s.data();if(i){let o=new Date;i.createdAt&&typeof i.createdAt=="object"&&"toDate"in i.createdAt&&typeof i.createdAt.toDate=="function"&&(o=i.createdAt.toDate()),r.push({id:s.id,...i,createdAt:o})}}),r}catch(e){throw console.error("Error getting bids for product:",e),e}},xne=async(t,e)=>{try{const n=yr(tn,"bids",t);await qp(n,{isAccepted:!0});const r=yr(tn,"products",e);return await qp(r,{isSold:!0}),!0}catch(n){throw console.error("Error accepting bid:",n),n}},hM=async(t,e,n,r,s)=>{try{const i={buyerId:t,sellerId:e,productId:n,amount:r,receipt:s,createdAt:Vi()},o=await $p(us(tn,"purchases"),i);return await qp(yr(tn,"products",n),{isSold:!0}),{id:o.id,...i}}catch(i){throw console.error("Error creating purchase:",i),i}},fM=async(t,e)=>{try{const n=e==="buyer"?"buyerId":"sellerId",r=Ho(us(tn,"purchases"),Ga(n,"==",t),fu("createdAt","desc")),s=await Go(r),i=[];return s.forEach(o=>{const a=o.data();if(a){let c=new Date;a.createdAt&&typeof a.createdAt=="object"&&"toDate"in a.createdAt&&typeof a.createdAt.toDate=="function"&&(c=a.createdAt.toDate()),i.push({id:o.id,...a,createdAt:c})}}),i}catch(n){throw console.error("Error getting purchases by user:",n),n}},Rw=async(t,e,n,r)=>{try{const s={senderId:t,receiverId:e,content:n,productId:r,isRead:!1,createdAt:Vi()};return{id:(await $p(us(tn,"messages"),s)).id,...s}}catch(s){throw console.error("Error sending message:",s),s}},pM=async t=>{try{try{const e=Ho(us(tn,"messages"),Ga("receiverId","==",t),fu("createdAt","desc")),n=await Go(e),r=[];return n.forEach(s=>{const i=s.data();if(i){let o=new Date;i.createdAt&&typeof i.createdAt=="object"&&"toDate"in i.createdAt&&typeof i.createdAt.toDate=="function"&&(o=i.createdAt.toDate()),r.push({id:s.id,...i,createdAt:o})}}),r}catch(e){console.warn("Index error in messages query, falling back to client-side filtering:",e);const n=Ho(us(tn,"messages"),Ga("receiverId","==",t)),r=await Go(n),s=[];return r.forEach(i=>{const o=i.data();if(o){let a=new Date;o.createdAt&&typeof o.createdAt=="object"&&"toDate"in o.createdAt&&typeof o.createdAt.toDate=="function"&&(a=o.createdAt.toDate()),s.push({id:i.id,...o,createdAt:a})}}),s.sort((i,o)=>o.createdAt.getTime()-i.createdAt.getTime()),s}}catch(e){return console.error("Error getting messages for user:",e),[]}},Lh=async()=>{try{const t=await Go(us(tn,"categories"));if(t.empty){const n=[{id:"books",name:"Books",icon:"books"},{id:"electronics",name:"Electronics",icon:"electronics"},{id:"furniture",name:"Furniture",icon:"furniture"},{id:"clothing",name:"Clothing",icon:"clothing"},{id:"stationery",name:"Stationery",icon:"stationery"},{id:"gaming",name:"Gaming",icon:"gaming"},{id:"more",name:"More",icon:"more"}];try{for(const r of n)await rp(yr(tn,"categories",r.id),{name:r.name,icon:r.icon})}catch(r){console.log("Error creating default categories:",r)}return n}const e=[];return t.forEach(n=>{const r=n.data();r&&e.push({id:n.id,...r})}),e}catch(t){return console.error("Error getting categories:",t),[{id:"books",name:"Books",icon:"books"},{id:"electronics",name:"Electronics",icon:"electronics"},{id:"furniture",name:"Furniture",icon:"furniture"},{id:"clothing",name:"Clothing",icon:"clothing"},{id:"stationery",name:"Stationery",icon:"stationery"},{id:"gaming",name:"Gaming",icon:"gaming"},{id:"more",name:"More",icon:"more"}]}},bne=async(t,e,n,r,s)=>{try{const i={title:t,description:e,userId:n,discount:s,isActive:!0,createdAt:Vi()},o=await $p(us(tn,"bulkSales"),i),a=r.map(c=>({bulkSaleId:o.id,productId:c}));for(const c of a)await $p(us(tn,"bulkSaleProducts"),c);return{id:o.id,...i,productIds:r}}catch(i){throw console.error("Error creating bulk sale:",i),i}},mM=async()=>{try{try{const t=Ho(us(tn,"bulkSales"),Ga("isActive","==",!0),fu("createdAt","desc")),e=await Go(t),n=[];for(const r of e.docs){const s=r.data();if(s){let i=new Date;s.createdAt&&typeof s.createdAt=="object"&&"toDate"in s.createdAt&&typeof s.createdAt.toDate=="function"&&(i=s.createdAt.toDate());const o={id:r.id,...s,createdAt:i},a=Ho(us(tn,"bulkSaleProducts"),Ga("bulkSaleId","==",r.id)),c=await Go(a),u=[];c.forEach(d=>{const h=d.data();h&&h.productId&&u.push(h.productId)}),n.push({...o,productIds:u})}}return n}catch(t){console.warn("Index error in bulk sales query, falling back to client-side filtering:",t);const e=Ho(us(tn,"bulkSales")),n=await Go(e),r=[];for(const s of n.docs){const i=s.data();if(i){if(i.isActive!==!0)continue;let o=new Date;i.createdAt&&typeof i.createdAt=="object"&&"toDate"in i.createdAt&&typeof i.createdAt.toDate=="function"&&(o=i.createdAt.toDate());const a={id:s.id,...i,createdAt:o},c=Ho(us(tn,"bulkSaleProducts"),Ga("bulkSaleId","==",s.id)),u=await Go(c),d=[];u.forEach(h=>{const p=h.data();p&&p.productId&&d.push(p.productId)}),r.push({...a,productIds:d})}}return r.sort((s,i)=>i.createdAt.getTime()-s.createdAt.getTime()),r}}catch(t){return console.error("Error getting bulk sales:",t),[]}},gM=Object.freeze(Object.defineProperty({__proto__:null,acceptBid:xne,addProduct:ME,auth:Cs,createBulkSale:bne,createPurchase:hM,db:tn,getBidsForProduct:VE,getBulkSales:mM,getCategories:Lh,getMessagesForUser:pM,getProductById:jw,getProducts:ta,getPurchasesByUser:fM,handleGoogleRedirectResult:sM,loginWithEmail:aM,logoutUser:lM,placeBid:FE,registerWithEmail:oM,sendMessage:Rw,signInWithGoogle:OE,storage:rM,updateProduct:dM,updateUserProfile:e2,uploadMultipleProductImages:DE,uploadProductImage:cM,uploadProfileImage:uM},Symbol.toStringTag,{value:"Module"}));function _ne({user:t}){const[e,n]=E.useState(!1),{toast:r}=Si(),s=async()=>{try{await lM(),r({title:"Logged out",description:"You have been successfully logged out"})}catch(i){console.error("Logout error:",i),r({title:"Error",description:"Failed to log out. Please try again.",variant:"destructive"})}};return l.jsxs(J6,{open:e,onOpenChange:n,children:[l.jsx(eL,{className:"flex items-center focus:outline-none",children:l.jsxs(ch,{className:"h-8 w-8",children:[l.jsx(uh,{src:t.photoURL||void 0,alt:t.displayName||"User"}),l.jsx(dh,{className:"bg-primary text-primary-foreground",children:t.displayName?t.displayName.charAt(0).toUpperCase():l.jsx(jp,{className:"h-4 w-4"})})]})}),l.jsxs(jN,{align:"end",className:"w-48",children:[l.jsx(RN,{children:l.jsxs("div",{className:"flex flex-col space-y-1",children:[l.jsx("p",{className:"text-sm font-medium",children:t.displayName||"User"}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:t.email})]})}),l.jsx(j1,{}),l.jsx(pn,{href:"/profile",children:l.jsxs(Rl,{className:"cursor-pointer",children:[l.jsx(Rq,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Profile"})]})}),l.jsx(pn,{href:"/my-listings",children:l.jsxs(Rl,{className:"cursor-pointer",children:[l.jsx(Su,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"My Listings"})]})}),l.jsx(pn,{href:"/purchase-history",children:l.jsxs(Rl,{className:"cursor-pointer",children:[l.jsx(Su,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Purchase History"})]})}),l.jsx(pn,{href:"/settings",children:l.jsxs(Rl,{className:"cursor-pointer",children:[l.jsx(iR,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Settings"})]})}),l.jsx(j1,{}),l.jsxs(Rl,{onClick:s,className:"cursor-pointer",children:[l.jsx(Wq,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Log out"})]})]})]})}const vM=E.createContext({user:null,userDetails:null,isLoading:!0}),Sne=({children:t})=>{const[e,n]=E.useState(null),[r,s]=E.useState(null),[i,o]=E.useState(!0);return E.useEffect(()=>{sM().then(c=>{c&&console.log("Successfully signed in with Google redirect")}).catch(c=>{console.error("Error handling Google redirect:",c)});const a=KL(Cs,async c=>{if(n(c),c)try{const u=await Vl(yr(tn,"users",c.uid));u.exists()?s(u.data()):console.warn("User exists in Auth but not in Firestore. This should not happen normally.");const d=sessionStorage.getItem("authRedirectUrl");d&&(sessionStorage.removeItem("authRedirectUrl"),window.location.href=d)}catch(u){console.error("Error fetching user details:",u)}else s(null);o(!1)});return()=>a()},[]),l.jsx(vM.Provider,{value:{user:e,userDetails:r,isLoading:i},children:t})},Yi=()=>E.useContext(vM);var UE="Dialog",[yM,Sue]=Ls(UE),[Nne,ca]=yM(UE),wM=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=E.useRef(null),c=E.useRef(null),[u=!1,d]=Hi({prop:r,defaultProp:s,onChange:i});return l.jsx(Nne,{scope:e,triggerRef:a,contentRef:c,contentId:po(),titleId:po(),descriptionId:po(),open:u,onOpenChange:d,onOpenToggle:E.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};wM.displayName=UE;var xM="DialogTrigger",bM=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ca(xM,n),i=$t(e,s.triggerRef);return l.jsx(mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":qE(s.open),...r,ref:i,onClick:Qe(t.onClick,s.onOpenToggle)})});bM.displayName=xM;var BE="DialogPortal",[Ene,_M]=yM(BE,{forceMount:void 0}),SM=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=ca(BE,e);return l.jsx(Ene,{scope:e,forceMount:n,children:E.Children.map(r,o=>l.jsx(Os,{present:n||i.open,children:l.jsx(Bv,{asChild:!0,container:s,children:o})}))})};SM.displayName=BE;var t2="DialogOverlay",NM=E.forwardRef((t,e)=>{const n=_M(t2,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ca(t2,t.__scopeDialog);return i.modal?l.jsx(Os,{present:r||i.open,children:l.jsx(Ane,{...s,ref:e})}):null});NM.displayName=t2;var Ane=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ca(t2,n);return l.jsx(rw,{as:Xl,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(mt.div,{"data-state":qE(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),wh="DialogContent",EM=E.forwardRef((t,e)=>{const n=_M(wh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ca(wh,t.__scopeDialog);return l.jsx(Os,{present:r||i.open,children:i.modal?l.jsx(Cne,{...s,ref:e}):l.jsx(Pne,{...s,ref:e})})});EM.displayName=wh;var Cne=E.forwardRef((t,e)=>{const n=ca(wh,t.__scopeDialog),r=E.useRef(null),s=$t(e,n.contentRef,r);return E.useEffect(()=>{const i=r.current;if(i)return SN(i)},[]),l.jsx(AM,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Qe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Qe(t.onFocusOutside,i=>i.preventDefault())})}),Pne=E.forwardRef((t,e)=>{const n=ca(wh,t.__scopeDialog),r=E.useRef(!1),s=E.useRef(!1);return l.jsx(AM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),AM=E.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=ca(wh,n),c=E.useRef(null),u=$t(e,c);return fN(),l.jsxs(l.Fragment,{children:[l.jsx(K2,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Uv,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":qE(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Tne,{titleId:a.titleId}),l.jsx(kne,{contentRef:c,descriptionId:a.descriptionId})]})]})}),zE="DialogTitle",CM=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ca(zE,n);return l.jsx(mt.h2,{id:s.titleId,...r,ref:e})});CM.displayName=zE;var PM="DialogDescription",TM=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ca(PM,n);return l.jsx(mt.p,{id:s.descriptionId,...r,ref:e})});TM.displayName=PM;var IM="DialogClose",kM=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ca(IM,n);return l.jsx(mt.button,{type:"button",...r,ref:e,onClick:Qe(t.onClick,()=>s.onOpenChange(!1))})});kM.displayName=IM;function qE(t){return t?"open":"closed"}var jM="DialogTitleWarning",[Nue,RM]=Fz(jM,{contentName:wh,titleName:zE,docsSlug:"dialog"}),Tne=({titleId:t})=>{const e=RM(jM),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Ine="DialogDescriptionWarning",kne=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${RM(Ine).contentName}}.`;return E.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},LM=wM,jne=bM,OM=SM,Lw=NM,Ow=EM,Dw=CM,Mw=TM,$E=kM;const Pu=LM,Rne=OM,Zd=$E,DM=E.forwardRef(({className:t,...e},n)=>l.jsx(Lw,{ref:n,className:Xe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));DM.displayName=Lw.displayName;const ql=E.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(Rne,{children:[l.jsx(DM,{}),l.jsxs(Ow,{ref:r,className:Xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs($E,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(ls,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ql.displayName=Ow.displayName;const $l=({className:t,...e})=>l.jsx("div",{className:Xe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});$l.displayName="DialogHeader";const Fw=({className:t,...e})=>l.jsx("div",{className:Xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Fw.displayName="DialogFooter";const Wl=E.forwardRef(({className:t,...e},n)=>l.jsx(Dw,{ref:n,className:Xe("text-lg font-semibold leading-none tracking-tight",t),...e}));Wl.displayName=Dw.displayName;const Lne=E.forwardRef(({className:t,...e},n)=>l.jsx(Mw,{ref:n,className:Xe("text-sm text-muted-foreground",t),...e}));Lne.displayName=Mw.displayName;const Qt=E.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:Xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Qt.displayName="Input";var One="Label",MM=E.forwardRef((t,e)=>l.jsx(mt.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));MM.displayName=One;var FM=MM;const Dne=em("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ks=E.forwardRef(({className:t,...e},n)=>l.jsx(FM,{ref:n,className:Xe(Dne(),t),...e}));Ks.displayName=FM.displayName;var Mne="Separator",IT="horizontal",Fne=["horizontal","vertical"],VM=E.forwardRef((t,e)=>{const{decorative:n,orientation:r=IT,...s}=t,i=Vne(r)?r:IT,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return l.jsx(mt.div,{"data-orientation":i,...a,...s,ref:e})});VM.displayName=Mne;function Vne(t){return Fne.includes(t)}var UM=VM;const Ll=E.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>l.jsx(UM,{ref:s,decorative:n,orientation:e,className:Xe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Ll.displayName=UM.displayName;var BM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kT=wt.createContext&&wt.createContext(BM),Une=["attr","size","title"];function Bne(t,e){if(t==null)return{};var n=zne(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function n2(){return n2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n2.apply(this,arguments)}function jT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function r2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jT(Object(n),!0).forEach(function(r){qne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qne(t,e,n){return e=$ne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ne(t){var e=Wne(t,"string");return typeof e=="symbol"?e:e+""}function Wne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zM(t){return t&&t.map((e,n)=>wt.createElement(e.tag,r2({key:n},e.attr),zM(e.child)))}function Vw(t){return e=>wt.createElement(Hne,n2({attr:r2({},t.attr)},e),zM(t.child))}function Hne(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=Bne(t,Une),a=s||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),wt.createElement("svg",n2({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:r2(r2({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&wt.createElement("title",null,i),t.children)};return kT!==void 0?wt.createElement(kT.Consumer,null,n=>e(n)):e(BM)}function qM(t){return Vw({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}function Gne(){const[t,e]=E.useState(null),[n,r]=E.useState(null),[s,i]=E.useState(!0),[o,a]=E.useState(null);E.useEffect(()=>{const w=KL(Cs,async _=>{if(e(_),_)try{const x=await Vl(yr(tn,"users",_.uid));x.exists()&&r(x.data())}catch(x){console.error("Error fetching user details:",x)}else r(null);i(!1)});return()=>w()},[]);const c=async(w,_,x)=>{i(!0),a(null);try{const N=(await HL(Cs,w,_)).user;await U1(N,{displayName:x}),await rp(yr(tn,"users",N.uid),{uid:N.uid,email:N.email,displayName:x,photoURL:N.photoURL||"",university:"",yearLevel:"",isAnonymousSeller:!1,phoneNumber:"",whatsappNumber:"",createdAt:Vi()})}catch(v){throw a(v.message),v}finally{i(!1)}},u=async(w,_)=>{i(!0),a(null);try{await GL(Cs,w,_)}catch(x){throw a(x.message),x}finally{i(!1)}},d=async()=>{i(!0),a(null);try{const w=new zo,x=(await iO(Cs,w)).user;(await Vl(yr(tn,"users",x.uid))).exists()||await rp(yr(tn,"users",x.uid),{uid:x.uid,email:x.email,displayName:x.displayName,photoURL:x.photoURL,university:"",yearLevel:"",isAnonymousSeller:!1,phoneNumber:x.phoneNumber||"",whatsappNumber:"",createdAt:Vi()})}catch(w){throw a(w.message),w}finally{i(!1)}},h=async()=>{a(null);try{await YL(Cs)}catch(w){throw a(w.message),w}},p=async w=>{i(!0),a(null);try{if(!t)throw new Error("No user logged in");(w.displayName||w.photoURL)&&await U1(t,{displayName:w.displayName||t.displayName,photoURL:w.photoURL||t.photoURL}),await qp(yr(tn,"users",t.uid),{...w,updatedAt:Vi()});const _=await Vl(yr(tn,"users",t.uid));_.exists()&&r(_.data())}catch(_){throw a(_.message),_}finally{i(!1)}},g=async()=>{i(!0),a(null);try{const w=new zo;await lO(Cs,w)}catch(w){throw a(w.message),w}finally{i(!1)}};return E.useEffect(()=>{(async()=>{try{const _=await cO(Cs);if(_){const x=_.user;(await Vl(yr(tn,"users",x.uid))).exists()||await rp(yr(tn,"users",x.uid),{uid:x.uid,email:x.email,displayName:x.displayName,photoURL:x.photoURL,university:"",yearLevel:"",isAnonymousSeller:!1,phoneNumber:x.phoneNumber||"",whatsappNumber:"",createdAt:Vi()})}}catch(_){console.error("Error with redirect sign in:",_)}})()},[]),{user:t,userDetails:n,isLoading:s,error:o,signup:c,login:u,googleSignIn:d,googleSignInWithRedirect:g,logout:h,updateUserProfile:p,resetPassword:async w=>{i(!0),a(null);try{await zQ(Cs,w)}catch(_){throw a(_.message),_}finally{i(!1)}}}}function ua({isOpen:t,onClose:e,openSignup:n}){const[r,s]=E.useState(""),[i,o]=E.useState(""),[a,c]=E.useState(!1),[u,d]=E.useState(!1),[h,p]=E.useState(""),{toast:g}=Si(),{resetPassword:b}=Gne(),w=async R=>{if(R.preventDefault(),!r.trim()||!i.trim()){g({title:"Missing fields",description:"Please enter both email and password",variant:"destructive"});return}c(!0);try{await aM(r,i),g({title:"Login successful",description:"Welcome back to UniMarket!"}),e()}catch(M){console.error("Login error:",M);let $="Failed to sign in. Please check your credentials.";M.code==="auth/user-not-found"||M.code==="auth/wrong-password"?$="Invalid email or password.":M.code==="auth/too-many-requests"&&($="Too many failed login attempts. Please try again later."),g({title:"Login failed",description:$,variant:"destructive"})}finally{c(!1)}},_=async()=>{c(!0);try{await OE(),g({title:"Login successful",description:"Welcome to UniMarket!"}),e()}catch(R){console.error("Google sign in error:",R),g({title:"Login failed",description:"Failed to sign in with Google.",variant:"destructive"})}finally{c(!1)}},x=()=>{e(),n()},v=async R=>{if(R.preventDefault(),!h.trim()){g({title:"Email required",description:"Please enter your email address",variant:"destructive"});return}c(!0);try{await b(h),g({title:"Password reset email sent",description:"Check your email for instructions to reset your password"}),d(!1)}catch(M){console.error("Password reset error:",M);let $="Failed to send password reset email.";M.code==="auth/user-not-found"&&($="No account exists with this email."),g({title:"Password reset failed",description:$,variant:"destructive"})}finally{c(!1)}},N=()=>{d(!u),u||p(r)};return l.jsx(Pu,{open:t,onOpenChange:e,children:l.jsxs(ql,{className:"sm:max-w-md",children:[l.jsxs($l,{children:[l.jsx(Wl,{className:"text-xl",children:u?"Reset Password":"Sign In"}),l.jsxs(Zd,{className:"absolute right-4 top-4",children:[l.jsx(ls,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]}),u?l.jsxs(l.Fragment,{children:[l.jsxs(Fe,{variant:"ghost",className:"flex items-center justify-start px-0 mb-4",onClick:N,disabled:a,children:[l.jsx(Cq,{className:"h-4 w-4 mr-2"}),"Back to login"]}),l.jsx("form",{onSubmit:v,children:l.jsxs("div",{className:"space-y-4 py-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ks,{htmlFor:"resetEmail",children:"Email"}),l.jsx(Qt,{id:"resetEmail",type:"email",placeholder:"your@email.edu",value:h,onChange:R=>p(R.target.value),disabled:a})]}),l.jsx(Fe,{type:"submit",className:"w-full",disabled:a,children:a?"Sending...":"Send Reset Link"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"We'll send you an email with a link to reset your password."})]})})]}):l.jsxs(l.Fragment,{children:[l.jsx("form",{onSubmit:w,children:l.jsxs("div",{className:"space-y-4 py-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ks,{htmlFor:"email",children:"Email"}),l.jsx(Qt,{id:"email",type:"email",placeholder:"your@email.edu",value:r,onChange:R=>s(R.target.value),disabled:a})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ks,{htmlFor:"password",children:"Password"}),l.jsx(Qt,{id:"password",type:"password",placeholder:"••••••••",value:i,onChange:R=>o(R.target.value),disabled:a}),l.jsx("div",{className:"flex justify-end",children:l.jsx(Fe,{variant:"link",className:"p-0 h-auto text-xs",onClick:N,type:"button",children:"Forgot password?"})})]}),l.jsx(Fe,{type:"submit",className:"w-full",disabled:a,children:a?"Signing in...":"Sign In"})]})}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx(Ll,{})}),l.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:l.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or sign in with"})})]}),l.jsxs("div",{className:"mt-4 flex justify-between gap-2",children:[l.jsxs(Fe,{variant:"outline",className:"w-full",onClick:_,disabled:a,children:[l.jsx(qM,{className:"h-5 w-5 mr-2"}),"Google"]}),l.jsxs(Fe,{variant:"outline",className:"w-full",disabled:a,children:[l.jsx(tR,{className:"h-5 w-5 mr-2"}),"Email Link"]})]})]}),l.jsx("div",{className:"mt-4 text-center text-sm",children:l.jsxs("p",{className:"text-muted-foreground",children:["Don't have an account?"," ",l.jsx(Fe,{variant:"link",className:"p-0",onClick:x,children:"Sign up"})]})})]})]})})}function cc({isOpen:t,onClose:e,openLogin:n}){const[r,s]=E.useState(""),[i,o]=E.useState(""),[a,c]=E.useState(""),[u,d]=E.useState(""),[h,p]=E.useState(""),[g,b]=E.useState(""),[w,_]=E.useState(!1),{toast:x}=Si(),v=async M=>{if(M.preventDefault(),!r.trim()||!i.trim()||!u.trim()){x({title:"Missing fields",description:"Please fill out all required fields",variant:"destructive"});return}if(i!==a){x({title:"Passwords don't match",description:"Please make sure your passwords match",variant:"destructive"});return}_(!0);try{await oM(r,i,u,h,g),x({title:"Account created",description:"Welcome to UniMarket!"}),e()}catch($){console.error("Signup error:",$);let I="Failed to create account.";$.code==="auth/email-already-in-use"?I="This email is already in use.":$.code==="auth/weak-password"?I="Password is too weak. Please use a stronger password.":$.code==="auth/invalid-email"&&(I="Invalid email address."),x({title:"Signup failed",description:I,variant:"destructive"})}finally{_(!1)}},N=async()=>{_(!0);try{await OE(),x({title:"Account created",description:"Welcome to UniMarket!"}),e()}catch(M){console.error("Google sign up error:",M),x({title:"Signup failed",description:"Failed to sign up with Google.",variant:"destructive"})}finally{_(!1)}},R=()=>{e(),n()};return l.jsx(Pu,{open:t,onOpenChange:e,children:l.jsxs(ql,{className:"sm:max-w-md",children:[l.jsxs($l,{children:[l.jsx(Wl,{className:"text-xl",children:"Create Account"}),l.jsxs(Zd,{className:"absolute right-4 top-4",children:[l.jsx(ls,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]}),l.jsx("form",{onSubmit:v,children:l.jsxs("div",{className:"space-y-4 py-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ks,{htmlFor:"fullName",children:"Full Name"}),l.jsx(Qt,{id:"fullName",placeholder:"Your Name",value:u,onChange:M=>d(M.target.value),disabled:w})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ks,{htmlFor:"email",children:"Email"}),l.jsx(Qt,{id:"email",type:"email",placeholder:"your@email.edu",value:r,onChange:M=>s(M.target.value),disabled:w})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ks,{htmlFor:"university",children:"University (Optional)"}),l.jsx(Qt,{id:"university",placeholder:"Your University",value:h,onChange:M=>p(M.target.value),disabled:w})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ks,{htmlFor:"yearLevel",children:"Year Level (Optional)"}),l.jsx(Qt,{id:"yearLevel",placeholder:"e.g. Junior Year",value:g,onChange:M=>b(M.target.value),disabled:w})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ks,{htmlFor:"signupPassword",children:"Password"}),l.jsx(Qt,{id:"signupPassword",type:"password",placeholder:"••••••••",value:i,onChange:M=>o(M.target.value),disabled:w})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ks,{htmlFor:"confirmPassword",children:"Confirm Password"}),l.jsx(Qt,{id:"confirmPassword",type:"password",placeholder:"••••••••",value:a,onChange:M=>c(M.target.value),disabled:w})]}),l.jsx(Fe,{type:"submit",className:"w-full",disabled:w,children:w?"Creating account...":"Sign Up"})]})}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx(Ll,{})}),l.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:l.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or sign up with"})})]}),l.jsx("div",{className:"mt-4",children:l.jsxs(Fe,{variant:"outline",className:"w-full",onClick:N,disabled:w,children:[l.jsx(qM,{className:"h-5 w-5 mr-2"}),"Google"]})})]}),l.jsx("div",{className:"mt-4 text-center text-sm",children:l.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",l.jsx(Fe,{variant:"link",className:"p-0",onClick:R,children:"Sign in"})]})})]})})}const Kne=LM,Yne=jne,Qne=OM,$M=E.forwardRef(({className:t,...e},n)=>l.jsx(Lw,{className:Xe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));$M.displayName=Lw.displayName;const Xne=em("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),WM=E.forwardRef(({side:t="right",className:e,children:n,...r},s)=>l.jsxs(Qne,{children:[l.jsx($M,{}),l.jsxs(Ow,{ref:s,className:Xe(Xne({side:t}),e),...r,children:[n,l.jsxs($E,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[l.jsx(ls,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));WM.displayName=Ow.displayName;const HM=({className:t,...e})=>l.jsx("div",{className:Xe("flex flex-col space-y-2 text-center sm:text-left",t),...e});HM.displayName="SheetHeader";const GM=({className:t,...e})=>l.jsx("div",{className:Xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});GM.displayName="SheetFooter";const KM=E.forwardRef(({className:t,...e},n)=>l.jsx(Dw,{ref:n,className:Xe("text-lg font-semibold text-foreground",t),...e}));KM.displayName=Dw.displayName;const Zne=E.forwardRef(({className:t,...e},n)=>l.jsx(Mw,{ref:n,className:Xe("text-sm text-muted-foreground",t),...e}));Zne.displayName=Mw.displayName;const Jne=em("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function hr({className:t,variant:e,...n}){return l.jsx("div",{className:Xe(Jne({variant:e}),t),...n})}function uv(t,[e,n]){return Math.min(n,Math.max(e,t))}function Uw(t){const e=E.useRef({value:t,previous:t});return E.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var YM=["PageUp","PageDown"],QM=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],XM={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},um="Slider",[T_,ere,tre]=Jp(um),[ZM,Eue]=Ls(um,[tre]),[nre,Bw]=ZM(um),JM=E.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:h=()=>{},onValueCommit:p=()=>{},inverted:g=!1,form:b,...w}=t,_=E.useRef(new Set),x=E.useRef(0),N=o==="horizontal"?rre:sre,[R=[],M]=Hi({prop:d,defaultProp:u,onChange:k=>{var O;(O=[..._.current][x.current])==null||O.focus(),h(k)}}),$=E.useRef(R);function I(k){const T=cre(R,k);F(k,T)}function P(k){F(k,x.current)}function L(){const k=$.current[x.current];R[x.current]!==k&&p(R)}function F(k,T,{commit:O}={commit:!1}){const G=fre(i),ue=pre(Math.round((k-r)/i)*i+r,G),ie=uv(ue,[r,s]);M((fe=[])=>{const Y=are(fe,ie,T);if(hre(Y,c*i)){x.current=Y.indexOf(ie);const te=String(Y)!==String(fe);return te&&O&&p(Y),te?Y:fe}else return fe})}return l.jsx(nre,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:s,valueIndexToChangeRef:x,thumbs:_.current,values:R,orientation:o,form:b,children:l.jsx(T_.Provider,{scope:t.__scopeSlider,children:l.jsx(T_.Slot,{scope:t.__scopeSlider,children:l.jsx(N,{"aria-disabled":a,"data-disabled":a?"":void 0,...w,ref:e,onPointerDown:Qe(w.onPointerDown,()=>{a||($.current=R)}),min:r,max:s,inverted:g,onSlideStart:a?void 0:I,onSlideMove:a?void 0:P,onSlideEnd:a?void 0:L,onHomeKeyDown:()=>!a&&F(r,0,{commit:!0}),onEndKeyDown:()=>!a&&F(s,R.length-1,{commit:!0}),onStepKeyDown:({event:k,direction:T})=>{if(!a){const ue=YM.includes(k.key)||k.shiftKey&&QM.includes(k.key)?10:1,ie=x.current,fe=R[ie],Y=i*ue*T;F(fe+Y,ie,{commit:!0})}}})})})})});JM.displayName=um;var[e8,t8]=ZM(um,{startEdge:"left",endEdge:"right",size:"width",direction:1}),rre=E.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:c,onStepKeyDown:u,...d}=t,[h,p]=E.useState(null),g=$t(e,N=>p(N)),b=E.useRef(void 0),w=Ch(s),_=w==="ltr",x=_&&!i||!_&&i;function v(N){const R=b.current||h.getBoundingClientRect(),M=[0,R.width],I=WE(M,x?[n,r]:[r,n]);return b.current=R,I(N-R.left)}return l.jsx(e8,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:l.jsx(n8,{dir:w,"data-orientation":"horizontal",...d,ref:g,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:N=>{const R=v(N.clientX);o==null||o(R)},onSlideMove:N=>{const R=v(N.clientX);a==null||a(R)},onSlideEnd:()=>{b.current=void 0,c==null||c()},onStepKeyDown:N=>{const M=XM[x?"from-left":"from-right"].includes(N.key);u==null||u({event:N,direction:M?-1:1})}})})}),sre=E.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:a,onStepKeyDown:c,...u}=t,d=E.useRef(null),h=$t(e,d),p=E.useRef(void 0),g=!s;function b(w){const _=p.current||d.current.getBoundingClientRect(),x=[0,_.height],N=WE(x,g?[r,n]:[n,r]);return p.current=_,N(w-_.top)}return l.jsx(e8,{scope:t.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:l.jsx(n8,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const _=b(w.clientY);i==null||i(_)},onSlideMove:w=>{const _=b(w.clientY);o==null||o(_)},onSlideEnd:()=>{p.current=void 0,a==null||a()},onStepKeyDown:w=>{const x=XM[g?"from-bottom":"from-top"].includes(w.key);c==null||c({event:w,direction:x?-1:1})}})})}),n8=E.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:c,...u}=t,d=Bw(um,n);return l.jsx(mt.span,{...u,ref:e,onKeyDown:Qe(t.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(a(h),h.preventDefault()):YM.concat(QM).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:Qe(t.onPointerDown,h=>{const p=h.target;p.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(p)?p.focus():r(h)}),onPointerMove:Qe(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:Qe(t.onPointerUp,h=>{const p=h.target;p.hasPointerCapture(h.pointerId)&&(p.releasePointerCapture(h.pointerId),i(h))})})}),r8="SliderTrack",s8=E.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Bw(r8,n);return l.jsx(mt.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});s8.displayName=r8;var I_="SliderRange",i8=E.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Bw(I_,n),i=t8(I_,n),o=E.useRef(null),a=$t(e,o),c=s.values.length,u=s.values.map(p=>a8(p,s.min,s.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return l.jsx(mt.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:a,style:{...t.style,[i.startEdge]:d+"%",[i.endEdge]:h+"%"}})});i8.displayName=I_;var k_="SliderThumb",o8=E.forwardRef((t,e)=>{const n=ere(t.__scopeSlider),[r,s]=E.useState(null),i=$t(e,a=>s(a)),o=E.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return l.jsx(ire,{...t,ref:i,index:o})}),ire=E.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...i}=t,o=Bw(k_,n),a=t8(k_,n),[c,u]=E.useState(null),d=$t(e,v=>u(v)),h=c?o.form||!!c.closest("form"):!0,p=Z2(c),g=o.values[r],b=g===void 0?0:a8(g,o.min,o.max),w=lre(r,o.values.length),_=p==null?void 0:p[a.size],x=_?ure(_,b,a.direction):0;return E.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),l.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${b}% + ${x}px)`},children:[l.jsx(T_.ItemSlot,{scope:t.__scopeSlider,children:l.jsx(mt.span,{role:"slider","aria-label":t["aria-label"]||w,"aria-valuemin":o.min,"aria-valuenow":g,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:g===void 0?{display:"none"}:t.style,onFocus:Qe(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),h&&l.jsx(ore,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:g},r)]})});o8.displayName=k_;var ore=t=>{const{value:e,...n}=t,r=E.useRef(null),s=Uw(e);return E.useEffect(()=>{const i=r.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(s!==e&&c){const u=new Event("input",{bubbles:!0});c.call(i,e),i.dispatchEvent(u)}},[s,e]),l.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function are(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,i)=>s-i)}function a8(t,e,n){const i=100/(n-e)*(t-e);return uv(i,[0,100])}function lre(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function cre(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function ure(t,e,n){const r=t/2,i=WE([0,50],[0,r]);return(r-i(e)*n)*n}function dre(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function hre(t,e){if(e>0){const n=dre(t);return Math.min(...n)>=e}return!0}function WE(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function fre(t){return(String(t).split(".")[1]||"").length}function pre(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var l8=JM,mre=s8,gre=i8,vre=o8;const c8=E.forwardRef(({className:t,...e},n)=>l.jsxs(l8,{ref:n,className:Xe("relative flex w-full touch-none select-none items-center",t),...e,children:[l.jsx(mre,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:l.jsx(gre,{className:"absolute h-full bg-primary"})}),l.jsx(vre,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));c8.displayName=l8.displayName;var yre=[" ","Enter","ArrowUp","ArrowDown"],wre=[" ","Enter"],sy="Select",[zw,qw,xre]=Jp(sy),[dm,Aue]=Ls(sy,[xre,J2]),$w=J2(),[bre,sd]=dm(sy),[_re,Sre]=dm(sy),u8=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:p,required:g,form:b}=t,w=$w(e),[_,x]=E.useState(null),[v,N]=E.useState(null),[R,M]=E.useState(!1),$=Ch(u),[I=!1,P]=Hi({prop:r,defaultProp:s,onChange:i}),[L,F]=Hi({prop:o,defaultProp:a,onChange:c}),k=E.useRef(null),T=_?b||!!_.closest("form"):!0,[O,G]=E.useState(new Set),ue=Array.from(O).map(ie=>ie.props.value).join(";");return l.jsx(zR,{...w,children:l.jsxs(bre,{required:g,scope:e,trigger:_,onTriggerChange:x,valueNode:v,onValueNodeChange:N,valueNodeHasChildren:R,onValueNodeHasChildrenChange:M,contentId:po(),value:L,onValueChange:F,open:I,onOpenChange:P,dir:$,triggerPointerDownPosRef:k,disabled:p,children:[l.jsx(zw.Provider,{scope:e,children:l.jsx(_re,{scope:t.__scopeSelect,onNativeOptionAdd:E.useCallback(ie=>{G(fe=>new Set(fe).add(ie))},[]),onNativeOptionRemove:E.useCallback(ie=>{G(fe=>{const Y=new Set(fe);return Y.delete(ie),Y})},[]),children:n})}),T?l.jsxs(O8,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:h,value:L,onChange:ie=>F(ie.target.value),disabled:p,form:b,children:[L===void 0?l.jsx("option",{value:""}):null,Array.from(O)]},ue):null]})})};u8.displayName=sy;var d8="SelectTrigger",h8=E.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=$w(n),o=sd(d8,n),a=o.disabled||r,c=$t(e,o.onTriggerChange),u=qw(n),d=E.useRef("touch"),[h,p,g]=D8(w=>{const _=u().filter(N=>!N.disabled),x=_.find(N=>N.value===o.value),v=M8(_,w,x);v!==void 0&&o.onValueChange(v.value)}),b=w=>{a||(o.onOpenChange(!0),g()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return l.jsx(qR,{asChild:!0,...i,children:l.jsx(mt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":L8(o.value)?"":void 0,...s,ref:c,onClick:Qe(s.onClick,w=>{w.currentTarget.focus(),d.current!=="mouse"&&b(w)}),onPointerDown:Qe(s.onPointerDown,w=>{d.current=w.pointerType;const _=w.target;_.hasPointerCapture(w.pointerId)&&_.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(b(w),w.preventDefault())}),onKeyDown:Qe(s.onKeyDown,w=>{const _=h.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&p(w.key),!(_&&w.key===" ")&&yre.includes(w.key)&&(b(),w.preventDefault())})})})});h8.displayName=d8;var f8="SelectValue",p8=E.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,c=sd(f8,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=$t(e,c.onValueNodeChange);return Lr(()=>{u(d)},[u,d]),l.jsx(mt.span,{...a,ref:h,style:{pointerEvents:"none"},children:L8(c.value)?l.jsx(l.Fragment,{children:o}):i})});p8.displayName=f8;var Nre="SelectIcon",m8=E.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return l.jsx(mt.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});m8.displayName=Nre;var Ere="SelectPortal",g8=t=>l.jsx(Bv,{asChild:!0,...t});g8.displayName=Ere;var xh="SelectContent",v8=E.forwardRef((t,e)=>{const n=sd(xh,t.__scopeSelect),[r,s]=E.useState();if(Lr(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ah.createPortal(l.jsx(y8,{scope:t.__scopeSelect,children:l.jsx(zw.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),i):null}return l.jsx(w8,{...t,ref:e})});v8.displayName=xh;var Lo=10,[y8,id]=dm(xh),Are="SelectContentImpl",w8=E.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:b,hideWhenDetached:w,avoidCollisions:_,...x}=t,v=sd(xh,n),[N,R]=E.useState(null),[M,$]=E.useState(null),I=$t(e,oe=>R(oe)),[P,L]=E.useState(null),[F,k]=E.useState(null),T=qw(n),[O,G]=E.useState(!1),ue=E.useRef(!1);E.useEffect(()=>{if(N)return SN(N)},[N]),fN();const ie=E.useCallback(oe=>{const[we,...xe]=T().map(Ue=>Ue.ref.current),[je]=xe.slice(-1),ke=document.activeElement;for(const Ue of oe)if(Ue===ke||(Ue==null||Ue.scrollIntoView({block:"nearest"}),Ue===we&&M&&(M.scrollTop=0),Ue===je&&M&&(M.scrollTop=M.scrollHeight),Ue==null||Ue.focus(),document.activeElement!==ke))return},[T,M]),fe=E.useCallback(()=>ie([P,N]),[ie,P,N]);E.useEffect(()=>{O&&fe()},[O,fe]);const{onOpenChange:Y,triggerPointerDownPosRef:te}=v;E.useEffect(()=>{if(N){let oe={x:0,y:0};const we=je=>{var ke,Ue;oe={x:Math.abs(Math.round(je.pageX)-(((ke=te.current)==null?void 0:ke.x)??0)),y:Math.abs(Math.round(je.pageY)-(((Ue=te.current)==null?void 0:Ue.y)??0))}},xe=je=>{oe.x<=10&&oe.y<=10?je.preventDefault():N.contains(je.target)||Y(!1),document.removeEventListener("pointermove",we),te.current=null};return te.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",xe,{capture:!0})}}},[N,Y,te]),E.useEffect(()=>{const oe=()=>Y(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[Y]);const[re,Ee]=D8(oe=>{const we=T().filter(ke=>!ke.disabled),xe=we.find(ke=>ke.ref.current===document.activeElement),je=M8(we,oe,xe);je&&setTimeout(()=>je.ref.current.focus())}),B=E.useCallback((oe,we,xe)=>{const je=!ue.current&&!xe;(v.value!==void 0&&v.value===we||je)&&(L(oe),je&&(ue.current=!0))},[v.value]),Q=E.useCallback(()=>N==null?void 0:N.focus(),[N]),J=E.useCallback((oe,we,xe)=>{const je=!ue.current&&!xe;(v.value!==void 0&&v.value===we||je)&&k(oe)},[v.value]),se=r==="popper"?j_:x8,le=se===j_?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:b,hideWhenDetached:w,avoidCollisions:_}:{};return l.jsx(y8,{scope:n,content:N,viewport:M,onViewportChange:$,itemRefCallback:B,selectedItem:P,onItemLeave:Q,itemTextRefCallback:J,focusSelectedItem:fe,selectedItemText:F,position:r,isPositioned:O,searchRef:re,children:l.jsx(rw,{as:Xl,allowPinchZoom:!0,children:l.jsx(K2,{asChild:!0,trapped:v.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:Qe(s,oe=>{var we;(we=v.trigger)==null||we.focus({preventScroll:!0}),oe.preventDefault()}),children:l.jsx(Uv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:l.jsx(se,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:oe=>oe.preventDefault(),...x,...le,onPlaced:()=>G(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Qe(x.onKeyDown,oe=>{const we=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!we&&oe.key.length===1&&Ee(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let je=T().filter(ke=>!ke.disabled).map(ke=>ke.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const ke=oe.target,Ue=je.indexOf(ke);je=je.slice(Ue+1)}setTimeout(()=>ie(je)),oe.preventDefault()}})})})})})})});w8.displayName=Are;var Cre="SelectItemAlignedPosition",x8=E.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=sd(xh,n),o=id(xh,n),[a,c]=E.useState(null),[u,d]=E.useState(null),h=$t(e,I=>d(I)),p=qw(n),g=E.useRef(!1),b=E.useRef(!0),{viewport:w,selectedItem:_,selectedItemText:x,focusSelectedItem:v}=o,N=E.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&w&&_&&x){const I=i.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),L=i.valueNode.getBoundingClientRect(),F=x.getBoundingClientRect();if(i.dir!=="rtl"){const ke=F.left-P.left,Ue=L.left-ke,We=I.left-Ue,ut=I.width+We,Ae=Math.max(ut,P.width),ne=window.innerWidth-Lo,_t=uv(Ue,[Lo,Math.max(Lo,ne-Ae)]);a.style.minWidth=ut+"px",a.style.left=_t+"px"}else{const ke=P.right-F.right,Ue=window.innerWidth-L.right-ke,We=window.innerWidth-I.right-Ue,ut=I.width+We,Ae=Math.max(ut,P.width),ne=window.innerWidth-Lo,_t=uv(Ue,[Lo,Math.max(Lo,ne-Ae)]);a.style.minWidth=ut+"px",a.style.right=_t+"px"}const k=p(),T=window.innerHeight-Lo*2,O=w.scrollHeight,G=window.getComputedStyle(u),ue=parseInt(G.borderTopWidth,10),ie=parseInt(G.paddingTop,10),fe=parseInt(G.borderBottomWidth,10),Y=parseInt(G.paddingBottom,10),te=ue+ie+O+Y+fe,re=Math.min(_.offsetHeight*5,te),Ee=window.getComputedStyle(w),B=parseInt(Ee.paddingTop,10),Q=parseInt(Ee.paddingBottom,10),J=I.top+I.height/2-Lo,se=T-J,le=_.offsetHeight/2,oe=_.offsetTop+le,we=ue+ie+oe,xe=te-we;if(we<=J){const ke=k.length>0&&_===k[k.length-1].ref.current;a.style.bottom="0px";const Ue=u.clientHeight-w.offsetTop-w.offsetHeight,We=Math.max(se,le+(ke?Q:0)+Ue+fe),ut=we+We;a.style.height=ut+"px"}else{const ke=k.length>0&&_===k[0].ref.current;a.style.top="0px";const We=Math.max(J,ue+w.offsetTop+(ke?B:0)+le)+xe;a.style.height=We+"px",w.scrollTop=we-J+w.offsetTop}a.style.margin=`${Lo}px 0`,a.style.minHeight=re+"px",a.style.maxHeight=T+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,u,w,_,x,i.dir,r]);Lr(()=>N(),[N]);const[R,M]=E.useState();Lr(()=>{u&&M(window.getComputedStyle(u).zIndex)},[u]);const $=E.useCallback(I=>{I&&b.current===!0&&(N(),v==null||v(),b.current=!1)},[N,v]);return l.jsx(Tre,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:$,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:l.jsx(mt.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});x8.displayName=Cre;var Pre="SelectPopperPosition",j_=E.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Lo,...i}=t,o=$w(n);return l.jsx($R,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});j_.displayName=Pre;var[Tre,HE]=dm(xh,{}),R_="SelectViewport",b8=E.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=id(R_,n),o=HE(R_,n),a=$t(e,i.onViewportChange),c=E.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(zw.Slot,{scope:n,children:l.jsx(mt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Qe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const g=Math.abs(c.current-d.scrollTop);if(g>0){const b=window.innerHeight-Lo*2,w=parseFloat(h.style.minHeight),_=parseFloat(h.style.height),x=Math.max(w,_);if(x<b){const v=x+g,N=Math.min(b,v),R=v-N;h.style.height=N+"px",h.style.bottom==="0px"&&(d.scrollTop=R>0?R:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});b8.displayName=R_;var _8="SelectGroup",[Ire,kre]=dm(_8),jre=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=po();return l.jsx(Ire,{scope:n,id:s,children:l.jsx(mt.div,{role:"group","aria-labelledby":s,...r,ref:e})})});jre.displayName=_8;var S8="SelectLabel",N8=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=kre(S8,n);return l.jsx(mt.div,{id:s.id,...r,ref:e})});N8.displayName=S8;var s2="SelectItem",[Rre,E8]=dm(s2),A8=E.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=sd(s2,n),c=id(s2,n),u=a.value===r,[d,h]=E.useState(i??""),[p,g]=E.useState(!1),b=$t(e,v=>{var N;return(N=c.itemRefCallback)==null?void 0:N.call(c,v,r,s)}),w=po(),_=E.useRef("touch"),x=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(Rre,{scope:n,value:r,disabled:s,textId:w,isSelected:u,onItemTextChange:E.useCallback(v=>{h(N=>N||((v==null?void 0:v.textContent)??"").trim())},[]),children:l.jsx(zw.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:l.jsx(mt.div,{role:"option","aria-labelledby":w,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:Qe(o.onFocus,()=>g(!0)),onBlur:Qe(o.onBlur,()=>g(!1)),onClick:Qe(o.onClick,()=>{_.current!=="mouse"&&x()}),onPointerUp:Qe(o.onPointerUp,()=>{_.current==="mouse"&&x()}),onPointerDown:Qe(o.onPointerDown,v=>{_.current=v.pointerType}),onPointerMove:Qe(o.onPointerMove,v=>{var N;_.current=v.pointerType,s?(N=c.onItemLeave)==null||N.call(c):_.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Qe(o.onPointerLeave,v=>{var N;v.currentTarget===document.activeElement&&((N=c.onItemLeave)==null||N.call(c))}),onKeyDown:Qe(o.onKeyDown,v=>{var R;((R=c.searchRef)==null?void 0:R.current)!==""&&v.key===" "||(wre.includes(v.key)&&x(),v.key===" "&&v.preventDefault())})})})})});A8.displayName=s2;var ag="SelectItemText",C8=E.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=sd(ag,n),a=id(ag,n),c=E8(ag,n),u=Sre(ag,n),[d,h]=E.useState(null),p=$t(e,x=>h(x),c.onItemTextChange,x=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,x,c.value,c.disabled)}),g=d==null?void 0:d.textContent,b=E.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:w,onNativeOptionRemove:_}=u;return Lr(()=>(w(b),()=>_(b)),[w,_,b]),l.jsxs(l.Fragment,{children:[l.jsx(mt.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ah.createPortal(i.children,o.valueNode):null]})});C8.displayName=ag;var P8="SelectItemIndicator",T8=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return E8(P8,n).isSelected?l.jsx(mt.span,{"aria-hidden":!0,...r,ref:e}):null});T8.displayName=P8;var L_="SelectScrollUpButton",I8=E.forwardRef((t,e)=>{const n=id(L_,t.__scopeSelect),r=HE(L_,t.__scopeSelect),[s,i]=E.useState(!1),o=$t(e,r.onScrollButtonChange);return Lr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(j8,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});I8.displayName=L_;var O_="SelectScrollDownButton",k8=E.forwardRef((t,e)=>{const n=id(O_,t.__scopeSelect),r=HE(O_,t.__scopeSelect),[s,i]=E.useState(!1),o=$t(e,r.onScrollButtonChange);return Lr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(j8,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});k8.displayName=O_;var j8=E.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=id("SelectScrollButton",n),o=E.useRef(null),a=qw(n),c=E.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return E.useEffect(()=>()=>c(),[c]),Lr(()=>{var d;const u=a().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),l.jsx(mt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Qe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Qe(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Qe(s.onPointerLeave,()=>{c()})})}),Lre="SelectSeparator",R8=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(mt.div,{"aria-hidden":!0,...r,ref:e})});R8.displayName=Lre;var D_="SelectArrow",Ore=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=$w(n),i=sd(D_,n),o=id(D_,n);return i.open&&o.position==="popper"?l.jsx(WR,{...s,...r,ref:e}):null});Ore.displayName=D_;function L8(t){return t===""||t===void 0}var O8=E.forwardRef((t,e)=>{const{value:n,...r}=t,s=E.useRef(null),i=$t(e,s),o=Uw(n);return E.useEffect(()=>{const a=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&d){const h=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(h)}},[o,n]),l.jsx(q2,{asChild:!0,children:l.jsx("select",{...r,ref:i,defaultValue:n})})});O8.displayName="BubbleSelect";function D8(t){const e=Jn(t),n=E.useRef(""),r=E.useRef(0),s=E.useCallback(o=>{const a=n.current+o;e(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),i=E.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function M8(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Dre(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Dre(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Mre=u8,F8=h8,Fre=p8,Vre=m8,Ure=g8,V8=v8,Bre=b8,U8=N8,B8=A8,zre=C8,qre=T8,z8=I8,q8=k8,$8=R8;const Ko=Mre,Yo=Fre,uo=E.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(F8,{ref:r,className:Xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(Vre,{asChild:!0,children:l.jsx(dN,{className:"h-4 w-4 opacity-50"})})]}));uo.displayName=F8.displayName;const W8=E.forwardRef(({className:t,...e},n)=>l.jsx(z8,{ref:n,className:Xe("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Iq,{className:"h-4 w-4"})}));W8.displayName=z8.displayName;const H8=E.forwardRef(({className:t,...e},n)=>l.jsx(q8,{ref:n,className:Xe("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(dN,{className:"h-4 w-4"})}));H8.displayName=q8.displayName;const ho=E.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>l.jsx(Ure,{children:l.jsxs(V8,{ref:s,className:Xe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(W8,{}),l.jsx(Bre,{className:Xe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(H8,{})]})}));ho.displayName=V8.displayName;const $re=E.forwardRef(({className:t,...e},n)=>l.jsx(U8,{ref:n,className:Xe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));$re.displayName=U8.displayName;const Gt=E.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(B8,{ref:r,className:Xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(qre,{children:l.jsx(Kf,{className:"h-4 w-4"})})}),l.jsx(zre,{children:e})]}));Gt.displayName=B8.displayName;const Wre=E.forwardRef(({className:t,...e},n)=>l.jsx($8,{ref:n,className:Xe("-mx-1 my-1 h-px bg-muted",t),...e}));Wre.displayName=$8.displayName;var GE="Collapsible",[Hre,G8]=Ls(GE),[Gre,KE]=Hre(GE),K8=E.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...a}=t,[c=!1,u]=Hi({prop:r,defaultProp:s,onChange:o});return l.jsx(Gre,{scope:n,disabled:i,contentId:po(),open:c,onOpenToggle:E.useCallback(()=>u(d=>!d),[u]),children:l.jsx(mt.div,{"data-state":QE(c),"data-disabled":i?"":void 0,...a,ref:e})})});K8.displayName=GE;var Y8="CollapsibleTrigger",Q8=E.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=KE(Y8,n);return l.jsx(mt.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":QE(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:Qe(t.onClick,s.onOpenToggle)})});Q8.displayName=Y8;var YE="CollapsibleContent",X8=E.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=KE(YE,t.__scopeCollapsible);return l.jsx(Os,{present:n||s.open,children:({present:i})=>l.jsx(Kre,{...r,ref:e,present:i})})});X8.displayName=YE;var Kre=E.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=t,o=KE(YE,n),[a,c]=E.useState(r),u=E.useRef(null),d=$t(e,u),h=E.useRef(0),p=h.current,g=E.useRef(0),b=g.current,w=o.open||a,_=E.useRef(w),x=E.useRef(void 0);return E.useEffect(()=>{const v=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(v)},[]),Lr(()=>{const v=u.current;if(v){x.current=x.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const N=v.getBoundingClientRect();h.current=N.height,g.current=N.width,_.current||(v.style.transitionDuration=x.current.transitionDuration,v.style.animationName=x.current.animationName),c(r)}},[o.open,r]),l.jsx(mt.div,{"data-state":QE(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!w,...i,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...t.style},children:w&&s})});function QE(t){return t?"open":"closed"}var Yre=K8,Qre=Q8,Xre=X8,uc="Accordion",Zre=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[XE,Jre,ese]=Jp(uc),[Ww,Cue]=Ls(uc,[ese,G8]),ZE=G8(),Z8=wt.forwardRef((t,e)=>{const{type:n,...r}=t,s=r,i=r;return l.jsx(XE.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?l.jsx(sse,{...i,ref:e}):l.jsx(rse,{...s,ref:e})})});Z8.displayName=uc;var[J8,tse]=Ww(uc),[e7,nse]=Ww(uc,{collapsible:!1}),rse=wt.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...o}=t,[a,c]=Hi({prop:n,defaultProp:r,onChange:s});return l.jsx(J8,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:c,onItemClose:wt.useCallback(()=>i&&c(""),[i,c]),children:l.jsx(e7,{scope:t.__scopeAccordion,collapsible:i,children:l.jsx(t7,{...o,ref:e})})})}),sse=wt.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=t,[o=[],a]=Hi({prop:n,defaultProp:r,onChange:s}),c=wt.useCallback(d=>a((h=[])=>[...h,d]),[a]),u=wt.useCallback(d=>a((h=[])=>h.filter(p=>p!==d)),[a]);return l.jsx(J8,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:l.jsx(e7,{scope:t.__scopeAccordion,collapsible:!0,children:l.jsx(t7,{...i,ref:e})})})}),[ise,Hw]=Ww(uc),t7=wt.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...o}=t,a=wt.useRef(null),c=$t(a,e),u=Jre(n),h=Ch(s)==="ltr",p=Qe(t.onKeyDown,g=>{var P;if(!Zre.includes(g.key))return;const b=g.target,w=u().filter(L=>{var F;return!((F=L.ref.current)!=null&&F.disabled)}),_=w.findIndex(L=>L.ref.current===b),x=w.length;if(_===-1)return;g.preventDefault();let v=_;const N=0,R=x-1,M=()=>{v=_+1,v>R&&(v=N)},$=()=>{v=_-1,v<N&&(v=R)};switch(g.key){case"Home":v=N;break;case"End":v=R;break;case"ArrowRight":i==="horizontal"&&(h?M():$());break;case"ArrowDown":i==="vertical"&&M();break;case"ArrowLeft":i==="horizontal"&&(h?$():M());break;case"ArrowUp":i==="vertical"&&$();break}const I=v%x;(P=w[I].ref.current)==null||P.focus()});return l.jsx(ise,{scope:n,disabled:r,direction:s,orientation:i,children:l.jsx(XE.Slot,{scope:n,children:l.jsx(mt.div,{...o,"data-orientation":i,ref:c,onKeyDown:r?void 0:p})})})}),i2="AccordionItem",[ose,JE]=Ww(i2),n7=wt.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...s}=t,i=Hw(i2,n),o=tse(i2,n),a=ZE(n),c=po(),u=r&&o.value.includes(r)||!1,d=i.disabled||t.disabled;return l.jsx(ose,{scope:n,open:u,disabled:d,triggerId:c,children:l.jsx(Yre,{"data-orientation":i.orientation,"data-state":l7(u),...a,...s,ref:e,disabled:d,open:u,onOpenChange:h=>{h?o.onItemOpen(r):o.onItemClose(r)}})})});n7.displayName=i2;var r7="AccordionHeader",s7=wt.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Hw(uc,n),i=JE(r7,n);return l.jsx(mt.h3,{"data-orientation":s.orientation,"data-state":l7(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:e})});s7.displayName=r7;var M_="AccordionTrigger",i7=wt.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Hw(uc,n),i=JE(M_,n),o=nse(M_,n),a=ZE(n);return l.jsx(XE.ItemSlot,{scope:n,children:l.jsx(Qre,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...a,...r,ref:e})})});i7.displayName=M_;var o7="AccordionContent",a7=wt.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=Hw(uc,n),i=JE(o7,n),o=ZE(n);return l.jsx(Xre,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});a7.displayName=o7;function l7(t){return t?"open":"closed"}var ase=Z8,lse=n7,cse=s7,c7=i7,u7=a7;const use=ase,wf=E.forwardRef(({className:t,...e},n)=>l.jsx(lse,{ref:n,className:Xe("border-b",t),...e}));wf.displayName="AccordionItem";const xf=E.forwardRef(({className:t,children:e,...n},r)=>l.jsx(cse,{className:"flex",children:l.jsxs(c7,{ref:r,className:Xe("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,l.jsx(dN,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));xf.displayName=c7.displayName;const bf=E.forwardRef(({className:t,children:e,...n},r)=>l.jsx(u7,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:l.jsx("div",{className:Xe("pb-4 pt-0",t),children:e})}));bf.displayName=u7.displayName;const dse="modulepreload",hse=function(t){return"/"+t},RT={},dv=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=hse(c),c in RT)return;RT[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":dse,u||(h.as="script"),h.crossOrigin="",h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},d7=E.createContext({featuredProducts:[],recentProducts:[],categories:[],isFeaturedLoading:!0,isRecentLoading:!0,isCategoriesLoading:!0,fetchProductsByCategory:async()=>[],fetchProductById:async()=>({}),refreshProducts:()=>{}}),fse=({children:t})=>{const[e,n]=E.useState([]),[r,s]=E.useState([]),[i,o]=E.useState([]),[a,c]=E.useState(!0),[u,d]=E.useState(!0),[h,p]=E.useState(!0),g=async()=>{c(!0);try{const N=await ta({isFeatured:!0,limit:8});n(N.products||[])}catch(N){console.error("Error loading featured products:",N)}finally{c(!1)}},b=async()=>{d(!0);try{const N=await ta({limit:10});s(N.products||[])}catch(N){console.error("Error loading recent products:",N)}finally{d(!1)}},w=async()=>{p(!0);try{const N=await Lh();o(N||[])}catch(N){console.error("Error loading categories:",N)}finally{p(!1)}},_=async N=>{try{return(await ta({categoryId:N,limit:20})).products||[]}catch(R){return console.error(`Error fetching products for category ${N}:`,R),[]}},x=async N=>{try{return await dv(()=>Promise.resolve().then(()=>gM),void 0).then(M=>M.getProductById(N))}catch(R){throw console.error(`Error fetching product ${N}:`,R),R}},v=()=>{g(),b()};return E.useEffect(()=>{g(),b(),w()},[]),l.jsx(d7.Provider,{value:{featuredProducts:e,recentProducts:r,categories:i,isFeaturedLoading:a,isRecentLoading:u,isCategoriesLoading:h,fetchProductsByCategory:_,fetchProductById:x,refreshProducts:v},children:t})},pse=()=>E.useContext(d7);function mse({filters:t,onFilterChange:e}){const{categories:n,isCategoriesLoading:r}=pse(),[s,i]=E.useState([Number(t.minPrice||0),Number(t.maxPrice||1e3)]),[o,a]=E.useState(t);E.useEffect(()=>{a(t),i([Number(t.minPrice||0),Number(t.maxPrice||1e3)])},[t]);const c=p=>{const g={};return Object.entries(p).forEach(([b,w])=>{w===""||w==="all"||(g[b]=w)}),g},u=()=>{const p=c(o);e(p)},d=()=>{const p={query:t.query,sort:t.sort};a(p),i([0,1e3]),e(p)},h=p=>{const[g,b]=p;i([g,b]),a({...o,minPrice:g.toString(),maxPrice:b.toString()})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(use,{type:"multiple",defaultValue:["category","price","condition","availability"],className:"w-full",children:[l.jsxs(wf,{value:"category",children:[l.jsx(xf,{children:"Categories"}),l.jsx(bf,{children:l.jsx("div",{className:"space-y-2",children:l.jsxs(Ko,{value:o.category||"all",onValueChange:p=>{a({...o,category:p==="all"?void 0:p})},children:[l.jsx(uo,{children:l.jsx(Yo,{placeholder:"Select category"})}),l.jsxs(ho,{children:[l.jsx(Gt,{value:"all",children:"All Categories"}),!r&&n.map(p=>l.jsx(Gt,{value:p.id,children:p.name},p.id))]})]})})})]}),l.jsxs(wf,{value:"price",children:[l.jsx(xf,{children:"Price Range"}),l.jsx(bf,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(c8,{defaultValue:[0,1e3],value:s,min:0,max:1e3,step:10,onValueChange:h,className:"my-4"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Ks,{htmlFor:"min-price",children:"Min"}),l.jsxs("div",{className:"flex items-center mt-1",children:[l.jsx("span",{className:"text-sm mr-1",children:"₹"}),l.jsx(Qt,{id:"min-price",type:"number",value:s[0],onChange:p=>{const g=parseInt(p.target.value);isNaN(g)||(i([g,s[1]]),a({...o,minPrice:g.toString()}))},className:"w-20"})]})]}),l.jsxs("div",{children:[l.jsx(Ks,{htmlFor:"max-price",children:"Max"}),l.jsxs("div",{className:"flex items-center mt-1",children:[l.jsx("span",{className:"text-sm mr-1",children:"₹"}),l.jsx(Qt,{id:"max-price",type:"number",value:s[1],onChange:p=>{const g=parseInt(p.target.value);isNaN(g)||(i([s[0],g]),a({...o,maxPrice:g.toString()}))},className:"w-20"})]})]})]})]})})]}),l.jsxs(wf,{value:"condition",children:[l.jsx(xf,{children:"Condition"}),l.jsx(bf,{children:l.jsx("div",{className:"space-y-2",children:l.jsxs(Ko,{value:o.condition||"any",onValueChange:p=>{a({...o,condition:p==="any"?void 0:p})},children:[l.jsx(uo,{children:l.jsx(Yo,{placeholder:"Any condition"})}),l.jsxs(ho,{children:[l.jsx(Gt,{value:"any",children:"Any condition"}),l.jsx(Gt,{value:"New",children:"New"}),l.jsx(Gt,{value:"Like New",children:"Like New"}),l.jsx(Gt,{value:"Good",children:"Good"}),l.jsx(Gt,{value:"Fair",children:"Fair"}),l.jsx(Gt,{value:"Poor",children:"Poor"})]})]})})})]}),l.jsxs(wf,{value:"university",children:[l.jsx(xf,{children:"University"}),l.jsx(bf,{children:l.jsx("div",{className:"space-y-2",children:l.jsxs(Ko,{value:o.university||"all",onValueChange:p=>{a({...o,university:p==="all"?void 0:p})},children:[l.jsx(uo,{children:l.jsx(Yo,{placeholder:"All universities"})}),l.jsxs(ho,{children:[l.jsx(Gt,{value:"all",children:"All universities"}),l.jsx(Gt,{value:"University of Sydney",children:"University of Sydney"}),l.jsx(Gt,{value:"University of Melbourne",children:"University of Melbourne"}),l.jsx(Gt,{value:"University of Queensland",children:"University of Queensland"}),l.jsx(Gt,{value:"Monash University",children:"Monash University"}),l.jsx(Gt,{value:"UNSW Sydney",children:"UNSW Sydney"}),l.jsx(Gt,{value:"ANU",children:"ANU"}),l.jsx(Gt,{value:"UTS",children:"UTS"}),l.jsx(Gt,{value:"Other",children:"Other"})]})]})})})]}),l.jsxs(wf,{value:"availability",children:[l.jsx(xf,{children:"Availability"}),l.jsx(bf,{children:l.jsx("div",{className:"space-y-2",children:l.jsxs(Ko,{value:o.available||"all",onValueChange:p=>{a({...o,available:p==="all"?void 0:p})},children:[l.jsx(uo,{children:l.jsx(Yo,{placeholder:"All items"})}),l.jsxs(ho,{children:[l.jsx(Gt,{value:"all",children:"All items"}),l.jsx(Gt,{value:"true",children:"Available only"}),l.jsx(Gt,{value:"false",children:"Sold items"})]})]})})})]})]}),l.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[l.jsx(Fe,{onClick:u,className:"flex-1",variant:"default",children:"Apply Filters"}),l.jsx(Fe,{onClick:d,variant:"outline",children:"Reset"})]})]})}function LT(){const[,t]=Ql(),[e,n]=E.useState(""),[r,s]=E.useState(!1),[i,o]=E.useState(!1),[a,c]=E.useState([]),[u,d]=E.useState(!1),[h,p]=E.useState({}),[g,b]=E.useState(0),w=E.useRef(null),_=E.useRef(null);E.useEffect(()=>{let $=0;h.category&&$++,(h.minPrice||h.maxPrice)&&$++,h.condition&&$++,h.university&&$++,h.available&&$++,h.sort&&$++,b($)},[h]),E.useEffect(()=>{function $(I){_.current&&!_.current.contains(I.target)&&w.current&&!w.current.contains(I.target)&&o(!1)}return document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[]);const x=async $=>{if($&&$.preventDefault(),!e.trim()&&Object.keys(h).length===0){c([]),o(!1);return}d(!0);try{const I={...h};e.trim()&&(I.query=e.trim()),I.minPrice&&(I.minPrice=Math.floor(Number(I.minPrice)*100).toString()),I.maxPrice&&(I.maxPrice=Math.floor(Number(I.maxPrice)*100).toString()),I.sort||(I.sort="newest"),I.available==="true"?I.isSold=!1:I.available==="false"&&(I.isSold=!0);const{products:P}=await ta(I);c(P.slice(0,5)),o(!0)}catch(I){console.error("Search error:",I),c([])}finally{d(!1)}},v=$=>{p($),s(!1),x()},N=()=>{p({}),x()},R=()=>{const $=new URLSearchParams;e&&$.set("q",e),Object.entries(h).forEach(([I,P])=>{P&&$.set(I,P)}),t(`/?${$.toString()}`),o(!1)},M=()=>{(e.trim()||Object.keys(h).length>0)&&x()};return l.jsxs("div",{className:"relative w-full",children:[l.jsxs("form",{onSubmit:x,className:"flex w-full items-center",children:[l.jsxs("div",{className:"relative flex-grow",children:[l.jsx(Qt,{ref:w,type:"text",className:"w-full pl-10 pr-4 py-2",placeholder:"Search for items...",value:e,onChange:$=>n($.target.value),onFocus:M}),l.jsx("div",{className:"absolute left-3 top-2.5 text-gray-400",children:l.jsx(G2,{className:"h-4 w-4"})})]}),l.jsxs(Kne,{open:r,onOpenChange:s,children:[l.jsx(Yne,{asChild:!0,children:l.jsxs(Fe,{variant:"ghost",size:"icon",className:"ml-1 relative","aria-label":"Filters",children:[l.jsx(Qq,{className:"h-4 w-4"}),g>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-primary text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:g})]})}),l.jsxs(WM,{side:"right",className:"w-[300px] sm:w-[400px]",children:[l.jsx(HM,{children:l.jsx(KM,{children:"Search Filters"})}),l.jsx("div",{className:"py-4",children:l.jsx(mse,{filters:h,onFilterChange:v})}),l.jsx(GM,{children:l.jsx(Fe,{variant:"outline",size:"sm",onClick:N,className:"w-full",children:"Reset All Filters"})})]})]}),l.jsxs(J6,{children:[l.jsx(eL,{asChild:!0,children:l.jsx(Fe,{variant:"ghost",size:"icon",className:"ml-1","aria-label":"Sort",children:l.jsx(Pq,{className:"h-4 w-4"})})}),l.jsxs(jN,{align:"end",children:[l.jsx(RN,{children:"Sort By"}),l.jsx(j1,{}),l.jsxs(Rl,{onClick:()=>v({...h,sort:"newest"}),children:["Newest First",h.sort==="newest"&&l.jsx(Kf,{className:"ml-2 h-4 w-4"})]}),l.jsxs(Rl,{onClick:()=>v({...h,sort:"price-low"}),children:["Price: Low to High",h.sort==="price-low"&&l.jsx(Kf,{className:"ml-2 h-4 w-4"})]}),l.jsxs(Rl,{onClick:()=>v({...h,sort:"price-high"}),children:["Price: High to Low",h.sort==="price-high"&&l.jsx(Kf,{className:"ml-2 h-4 w-4"})]})]})]})]}),g>0&&l.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[h.category&&l.jsxs(hr,{variant:"secondary",className:"flex items-center",children:["Category",l.jsx("button",{onClick:()=>v({...h,category:void 0}),className:"ml-1 hover:text-destructive",children:l.jsx(ls,{className:"h-3 w-3"})})]}),(h.minPrice||h.maxPrice)&&l.jsxs(hr,{variant:"secondary",className:"flex items-center",children:["Price Range",l.jsx("button",{onClick:()=>v({...h,minPrice:void 0,maxPrice:void 0}),className:"ml-1 hover:text-destructive",children:l.jsx(ls,{className:"h-3 w-3"})})]}),h.condition&&l.jsxs(hr,{variant:"secondary",className:"flex items-center",children:[h.condition," Condition",l.jsx("button",{onClick:()=>v({...h,condition:void 0}),className:"ml-1 hover:text-destructive",children:l.jsx(ls,{className:"h-3 w-3"})})]}),h.university&&l.jsxs(hr,{variant:"secondary",className:"flex items-center",children:[h.university,l.jsx("button",{onClick:()=>v({...h,university:void 0}),className:"ml-1 hover:text-destructive",children:l.jsx(ls,{className:"h-3 w-3"})})]}),h.available&&l.jsxs(hr,{variant:"secondary",className:"flex items-center",children:[h.available==="true"?"Available":"Sold",l.jsx("button",{onClick:()=>v({...h,available:void 0}),className:"ml-1 hover:text-destructive",children:l.jsx(ls,{className:"h-3 w-3"})})]}),h.sort&&l.jsxs(hr,{variant:"secondary",className:"flex items-center",children:[h.sort==="newest"?"Newest":h.sort==="price-low"?"Price ↑":"Price ↓",l.jsx("button",{onClick:()=>v({...h,sort:void 0}),className:"ml-1 hover:text-destructive",children:l.jsx(ls,{className:"h-3 w-3"})})]})]}),i&&l.jsx("div",{ref:_,className:"absolute z-50 top-full mt-1 left-0 right-0 bg-white shadow-lg rounded-md border border-gray-200 max-h-[400px] overflow-auto",children:u?l.jsxs("div",{className:"p-4 text-center",children:[l.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full mx-auto"}),l.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Searching..."})]}):a.length>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"p-2",children:a.map($=>l.jsxs("div",{className:"p-2 hover:bg-gray-50 rounded-md cursor-pointer flex items-center gap-3",onClick:()=>{t(`/product/${$.id}`),o(!1)},children:[l.jsx("div",{className:"h-12 w-12 flex-shrink-0",children:l.jsx("img",{src:$.images[0],alt:$.title,className:"h-full w-full object-cover rounded-md"})}),l.jsxs("div",{className:"flex-grow min-w-0",children:[l.jsx("h4",{className:"font-medium text-sm truncate",children:$.title}),l.jsx("p",{className:"text-xs text-gray-500 truncate",children:$.categoryName}),l.jsxs("p",{className:"text-sm font-semibold text-primary",children:["₹",($.price/100).toFixed(2)]})]})]},$.id))}),l.jsx("div",{className:"p-2 border-t",children:l.jsx(Fe,{variant:"ghost",className:"w-full justify-center text-sm",onClick:R,children:"View all results"})})]}):l.jsxs("div",{className:"p-4 text-center",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"No results found"}),l.jsx(Fe,{variant:"ghost",className:"mt-2 text-xs",onClick:N,children:"Clear filters and try again"})]})})]})}function gse(){const[t,e]=E.useState(!1),[n,r]=E.useState(!1),[s,i]=E.useState(!1),[o,a]=E.useState(!1),[,c]=Ql(),{user:u,isLoading:d}=Yi(),h=()=>{e(!t)},p=()=>{r(!n)},g=()=>{i(!0)},b=()=>{i(!1)},w=()=>{a(!0)},_=()=>{a(!1)},x=()=>{if(!u){g();return}c("/sell")};return E.useEffect(()=>{r(!1)},[Ql()[0]]),l.jsxs("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between h-16 items-center",children:[l.jsx("div",{className:"flex-shrink-0 flex items-center",children:l.jsx(pn,{href:"/",children:l.jsx("span",{className:"text-primary font-bold text-xl cursor-pointer",children:"UniMarket"})})}),l.jsx("div",{className:"hidden md:block flex-1 max-w-xl mx-4",children:l.jsx(LT,{})}),l.jsxs("nav",{className:"hidden md:flex items-center space-x-4",children:[l.jsx(pn,{href:"/",children:l.jsx("span",{className:"text-gray-600 hover:text-primary px-3 py-2 rounded-md text-sm font-medium cursor-pointer",children:"Home"})}),l.jsx(pn,{href:"/categories",children:l.jsx("span",{className:"text-gray-600 hover:text-primary px-3 py-2 rounded-md text-sm font-medium cursor-pointer",children:"Explore"})}),u&&l.jsxs(l.Fragment,{children:[l.jsx(pn,{href:"/my-listings",children:l.jsx("span",{className:"text-gray-600 hover:text-primary px-3 py-2 rounded-md text-sm font-medium cursor-pointer",children:"My Items"})}),l.jsx(pn,{href:"/messages",children:l.jsx("span",{className:"text-gray-600 hover:text-primary px-3 py-2 rounded-md text-sm font-medium cursor-pointer",children:"Messages"})})]}),!d&&l.jsx(l.Fragment,{children:u?l.jsx(_ne,{user:u}):l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Fe,{variant:"ghost",onClick:g,children:"Login"}),l.jsx(Fe,{variant:"outline",onClick:w,children:"Sign Up"})]})}),l.jsxs(Fe,{onClick:x,className:"flex items-center",children:[l.jsx(Qd,{className:"h-4 w-4 mr-1"})," Sell Item"]})]}),l.jsxs("div",{className:"md:hidden flex items-center",children:[l.jsx(Fe,{variant:"ghost",size:"icon",className:"mr-2",onClick:h,"aria-label":"Search",children:l.jsx(G2,{className:"h-5 w-5"})}),l.jsx(Fe,{variant:"ghost",size:"icon",onClick:p,"aria-label":"Menu",children:n?l.jsx(ls,{className:"h-5 w-5"}):l.jsx(Y5,{className:"h-5 w-5"})})]})]})}),t&&l.jsx("div",{className:"md:hidden px-4 pb-4",children:l.jsx(LT,{})}),n&&l.jsx("div",{className:"md:hidden bg-white border-b border-gray-200 px-4 py-2",children:l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsx(pn,{href:"/",children:l.jsx("span",{className:"text-gray-600 hover:text-primary px-3 py-2 rounded-md text-sm font-medium cursor-pointer",children:"Home"})}),l.jsx(pn,{href:"/categories",children:l.jsx("span",{className:"text-gray-600 hover:text-primary px-3 py-2 rounded-md text-sm font-medium cursor-pointer",children:"Explore"})}),u?l.jsxs(l.Fragment,{children:[l.jsx(pn,{href:"/my-listings",children:l.jsx("span",{className:"text-gray-600 hover:text-primary px-3 py-2 rounded-md text-sm font-medium cursor-pointer",children:"My Items"})}),l.jsx(pn,{href:"/messages",children:l.jsx("span",{className:"text-gray-600 hover:text-primary px-3 py-2 rounded-md text-sm font-medium cursor-pointer",children:"Messages"})}),l.jsx(pn,{href:"/profile",children:l.jsx("span",{className:"text-gray-600 hover:text-primary px-3 py-2 rounded-md text-sm font-medium cursor-pointer",children:"Profile"})}),l.jsx(pn,{href:"/purchase-history",children:l.jsx("span",{className:"text-gray-600 hover:text-primary px-3 py-2 rounded-md text-sm font-medium cursor-pointer",children:"Purchase History"})}),l.jsx("div",{className:"pt-2 border-t border-gray-200",children:l.jsx(Fe,{variant:"destructive",onClick:()=>console.log("Sign out"),children:"Sign Out"})})]}):l.jsxs("div",{className:"flex flex-col space-y-2 pt-2 border-t border-gray-200",children:[l.jsx(Fe,{onClick:g,children:"Login"}),l.jsx(Fe,{variant:"outline",onClick:w,children:"Sign Up"})]})]})}),l.jsx(ua,{isOpen:s,onClose:b,openSignup:w}),l.jsx(cc,{isOpen:o,onClose:_,openLogin:g})]})}function vse(){return l.jsx("footer",{className:"bg-white border-t border-gray-200 pt-8 pb-6 mt-12",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"UniMarket"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"A marketplace for university students to buy and sell unused or unneeded goods."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Categories"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx(pn,{href:"/categories/books",children:l.jsx("span",{className:"text-gray-600 hover:text-primary text-sm cursor-pointer",children:"Books"})})}),l.jsx("li",{children:l.jsx(pn,{href:"/categories/electronics",children:l.jsx("span",{className:"text-gray-600 hover:text-primary text-sm cursor-pointer",children:"Electronics"})})}),l.jsx("li",{children:l.jsx(pn,{href:"/categories/furniture",children:l.jsx("span",{className:"text-gray-600 hover:text-primary text-sm cursor-pointer",children:"Furniture"})})}),l.jsx("li",{children:l.jsx(pn,{href:"/categories/clothing",children:l.jsx("span",{className:"text-gray-600 hover:text-primary text-sm cursor-pointer",children:"Clothing"})})}),l.jsx("li",{children:l.jsx(pn,{href:"/categories/stationery",children:l.jsx("span",{className:"text-gray-600 hover:text-primary text-sm cursor-pointer",children:"Stationery"})})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{children:l.jsx(pn,{href:"/about",children:l.jsx("span",{className:"text-gray-600 hover:text-primary text-sm cursor-pointer",children:"About Us"})})}),l.jsx("li",{children:l.jsx(pn,{href:"/contact",children:l.jsx("span",{className:"text-gray-600 hover:text-primary text-sm cursor-pointer",children:"Contact Us"})})}),l.jsx("li",{children:l.jsx(pn,{href:"/terms",children:l.jsx("span",{className:"text-gray-600 hover:text-primary text-sm cursor-pointer",children:"Terms of Service"})})}),l.jsx("li",{children:l.jsx(pn,{href:"/privacy",children:l.jsx("span",{className:"text-gray-600 hover:text-primary text-sm cursor-pointer",children:"Privacy Policy"})})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsx("li",{className:"text-gray-600 text-sm",children:"Email: unimarket.84eca@gmail.com"}),l.jsx("li",{className:"text-gray-600 text-sm",children:"Phone: +91 8658635176"}),l.jsx("li",{className:"text-gray-600 text-sm",children:"Address: C.V. Raman Global University"})]})]})]}),l.jsxs("div",{className:"border-t border-gray-200 mt-8 pt-6 flex flex-col md:flex-row justify-between items-center",children:[l.jsxs("p",{className:"text-gray-600 text-sm",children:["© ",new Date().getFullYear()," UniMarket. All rights reserved."]}),l.jsxs("div",{className:"flex space-x-4 mt-4 md:mt-0",children:[l.jsx("button",{className:"text-gray-600 hover:text-primary"}),l.jsxs("button",{className:"text-gray-600 hover:text-primary",children:[l.jsx("span",{className:"sr-only",children:"Instagram"}),l.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:l.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),l.jsx("button",{className:"text-gray-600 hover:text-primary",children:l.jsx("span",{className:"sr-only",children:"Twitter"})})]})]})]})})}function yse(){const[t]=Ql(),{user:e}=Yi(),[n,r]=E.useState(!1),s=()=>{if(!e){r(!0);return}};return l.jsxs(l.Fragment,{children:[l.jsx("nav",{className:"md:hidden bg-white border-t border-gray-200 fixed bottom-0 left-0 right-0 z-10",children:l.jsxs("div",{className:"grid grid-cols-5 h-16",children:[l.jsx(pn,{href:"/",children:l.jsxs("span",{className:`flex flex-col items-center justify-center cursor-pointer ${t==="/"?"text-primary":"text-gray-500"}`,children:[l.jsx(eR,{className:"h-5 w-5"}),l.jsx("span",{className:"text-xs mt-1",children:"Home"})]})}),l.jsx(pn,{href:"/categories",children:l.jsxs("span",{className:`flex flex-col items-center justify-center cursor-pointer ${t==="/categories"?"text-primary":"text-gray-500"}`,children:[l.jsx(G2,{className:"h-5 w-5"}),l.jsx("span",{className:"text-xs mt-1",children:"Explore"})]})}),l.jsx(pn,{href:e?"/sell":"#",children:l.jsxs("span",{className:"flex flex-col items-center justify-center cursor-pointer",onClick:s,children:[l.jsx("div",{className:"bg-primary text-white rounded-full p-2 -mt-5 shadow-lg",children:l.jsx(jq,{className:"h-5 w-5"})}),l.jsx("span",{className:"text-xs mt-1",children:"Sell"})]})}),l.jsx(pn,{href:"/messages",children:l.jsxs("span",{className:`flex flex-col items-center justify-center cursor-pointer ${t==="/messages"?"text-primary":"text-gray-500"}`,children:[l.jsx(H2,{className:"h-5 w-5"}),l.jsx("span",{className:"text-xs mt-1",children:"Messages"})]})}),l.jsx(pn,{href:"/profile",children:l.jsxs("span",{className:`flex flex-col items-center justify-center cursor-pointer ${t==="/profile"?"text-primary":"text-gray-500"}`,children:[l.jsx(jp,{className:"h-5 w-5"}),l.jsx("span",{className:"text-xs mt-1",children:"Profile"})]})})]})}),l.jsx(ua,{isOpen:n,onClose:()=>r(!1),openSignup:()=>{r(!1)}})]})}const Ot=E.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Xe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ot.displayName="Card";const en=E.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Xe("flex flex-col space-y-1.5 p-6",t),...e}));en.displayName="CardHeader";const rn=E.forwardRef(({className:t,...e},n)=>l.jsx("h3",{ref:n,className:Xe("text-2xl font-semibold leading-none tracking-tight",t),...e}));rn.displayName="CardTitle";const Nr=E.forwardRef(({className:t,...e},n)=>l.jsx("p",{ref:n,className:Xe("text-sm text-muted-foreground",t),...e}));Nr.displayName="CardDescription";const qt=E.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Xe("p-6 pt-0",t),...e}));qt.displayName="CardContent";const Tu=E.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Xe("flex items-center p-6 pt-0",t),...e}));Tu.displayName="CardFooter";function wse(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{console.log("Service Worker registered successfully:",e.scope),e.onupdatefound=()=>{const n=e.installing;n!=null&&(n.onstatechange=()=>{if(n.state==="installed")if(navigator.serviceWorker.controller){console.log("New content is available. Please refresh.");const r=new CustomEvent("serviceWorkerUpdate",{detail:{hasUpdate:!0}});window.dispatchEvent(r)}else console.log("Content is cached for offline use.")})}}).catch(e=>{console.error("Error registering service worker:",e)})})}function xse(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}function bse(){const[t,e]=E.useState(null),[n,r]=E.useState(!1),s=xse(),i=t&&!s;E.useEffect(()=>{const c=d=>{d.preventDefault(),e(d),r(!0)},u=()=>{e(null),r(!1),console.log("PWA installed successfully")};return window.addEventListener("beforeinstallprompt",c),window.addEventListener("appinstalled",u),()=>{window.removeEventListener("beforeinstallprompt",c),window.removeEventListener("appinstalled",u)}},[]);const o=()=>{t&&(t.prompt(),t.userChoice.then(c=>{c.outcome==="accepted"?console.log("User accepted the PWA install prompt"):console.log("User dismissed the PWA install prompt"),e(null),r(!1)}))},a=()=>{r(!1)};return!i||!n?null:l.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50",children:l.jsxs(Ot,{className:"border-primary shadow-lg",children:[l.jsxs(en,{className:"pb-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx(rn,{className:"text-lg",children:"Install UniMarket"}),l.jsx(Fe,{variant:"ghost",size:"icon",onClick:a,className:"h-8 w-8 rounded-full",children:l.jsx(ls,{className:"h-4 w-4"})})]}),l.jsx(Nr,{children:"Get the best experience by installing our app"})]}),l.jsx(qt,{className:"pb-2",children:l.jsx("p",{className:"text-sm",children:"Install the UniMarket app on your device for faster access and offline capabilities."})}),l.jsx(Tu,{children:l.jsxs(Fe,{className:"w-full",onClick:o,children:[l.jsx(Z3,{className:"mr-2 h-4 w-4"}),"Install App"]})})]})})}function _se(){const[t,e]=E.useState(!1),{toast:n}=Si();E.useEffect(()=>{const i=o=>{var a;(a=o.detail)!=null&&a.hasUpdate&&(e(!0),r())};return window.addEventListener("serviceWorkerUpdate",i),()=>{window.removeEventListener("serviceWorkerUpdate",i)}},[]);const r=()=>{n({title:"Update Available",description:"A new version of UniMarket is available",action:l.jsxs(Fe,{onClick:s,variant:"outline",size:"sm",className:"bg-background hover:bg-accent",children:[l.jsx(rR,{className:"h-4 w-4 mr-2"}),"Update Now"]}),duration:0})},s=()=>{window.location.reload()};return null}function Sse(){const[t,e]=E.useState(navigator.onLine);if(E.useEffect(()=>{const r=()=>{e(navigator.onLine)};return window.addEventListener("online",r),window.addEventListener("offline",r),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",r)}},[]),t)return null;const n=()=>{window.location.reload()};return l.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-background z-50 p-4",children:l.jsxs("div",{className:"max-w-md w-full space-y-6 text-center",children:[l.jsx("div",{className:"rounded-full bg-muted p-6 mx-auto w-24 h-24 flex items-center justify-center",children:l.jsx(Jq,{className:"h-12 w-12 text-muted-foreground"})}),l.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"You're Offline"}),l.jsx("p",{className:"text-muted-foreground",children:"It looks like you've lost your internet connection. Some features may be limited until you're back online."}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"UniMarket will automatically reconnect when you're back online."}),l.jsxs(Fe,{onClick:n,className:"mt-4",children:[l.jsx(rR,{className:"h-4 w-4 mr-2"}),"Retry Connection"]})]})]})})}function Nse({children:t}){return l.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[l.jsx(Sse,{}),l.jsx(gse,{}),l.jsx("main",{className:"flex-1",children:t}),l.jsx(vse,{}),l.jsx(yse,{}),l.jsx(bse,{}),l.jsx(_se,{})]})}function Et({className:t,...e}){return l.jsx("div",{className:Xe("animate-pulse rounded-md bg-muted",t),...e})}const OT={books:l.jsx(Q3,{className:"h-6 w-6"}),electronics:l.jsx(zq,{className:"h-6 w-6"}),furniture:l.jsx(eR,{className:"h-6 w-6"}),clothing:l.jsx(Su,{className:"h-6 w-6"}),stationery:l.jsx(Yg,{className:"h-6 w-6"}),gaming:l.jsx(Vq,{className:"h-6 w-6"}),more:l.jsx(Oq,{className:"h-6 w-6"})};function F_({className:t,variant:e="horizontal",selectedCategoryId:n}){const[r,s]=E.useState([]),{data:i,isLoading:o}=Qr({queryKey:["categories"],queryFn:Lh});return E.useEffect(()=>{i&&s(i)},[i]),E.useEffect(()=>{!i&&!o&&s([{id:"books",name:"Books",icon:"books"},{id:"electronics",name:"Electronics",icon:"electronics"},{id:"furniture",name:"Furniture",icon:"furniture"},{id:"clothing",name:"Clothing",icon:"clothing"},{id:"stationery",name:"Stationery",icon:"stationery"},{id:"gaming",name:"Gaming",icon:"gaming"},{id:"more",name:"More",icon:"more"}])},[i,o]),o?l.jsx("div",{className:Xe("flex overflow-x-auto scrollbar-hide space-x-4 pb-2",t),children:Array(6).fill(0).map((a,c)=>l.jsxs("div",{className:"flex flex-col items-center space-y-2 min-w-[80px]",children:[l.jsx(Et,{className:"h-[80px] w-[80px] rounded-lg"}),l.jsx(Et,{className:"h-4 w-16"})]},c))}):e==="grid"?l.jsx("div",{className:Xe("grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",t),children:r.map(a=>l.jsx(pn,{href:`/categories/${a.id}`,children:l.jsxs("div",{className:Xe("flex flex-col items-center justify-center p-4 rounded-lg border hover:border-primary transition cursor-pointer",n===a.id?"bg-primary/10 border-primary":"bg-white border-gray-200"),children:[l.jsx("div",{className:Xe("mb-2 text-gray-600",n===a.id&&"text-primary"),children:OT[a.icon]||l.jsx(Y5,{className:"h-6 w-6"})}),l.jsx("span",{className:"text-sm font-medium",children:a.name})]})},a.id))}):l.jsx("div",{className:Xe("flex overflow-x-auto scrollbar-hide space-x-4 pb-2",t),children:r.map(a=>l.jsx(pn,{href:`/categories/${a.id}`,children:l.jsxs("div",{className:Xe("flex flex-col items-center justify-center min-w-[80px] p-3 rounded-lg border hover:border-primary transition cursor-pointer",n===a.id?"bg-primary/10 border-primary":"bg-white border-gray-200"),children:[l.jsx("div",{className:Xe("mb-1 text-gray-600",n===a.id&&"text-primary"),children:OT[a.icon]||l.jsx(Y5,{className:"h-6 w-6"})}),l.jsx("span",{className:"text-xs font-medium",children:a.name})]})},a.id))})}function Fn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Hu(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const h7=6048e5,Ese=864e5,f0=43200,DT=1440;let Ase={};function iy(){return Ase}function hv(t,e){var a,c,u,d;const n=iy(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Fn(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function o2(t){return hv(t,{weekStartsOn:1})}function f7(t){const e=Fn(t),n=e.getFullYear(),r=Hu(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=o2(r),i=Hu(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=o2(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function MT(t){const e=Fn(t);return e.setHours(0,0,0,0),e}function a2(t){const e=Fn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Cse(t,e){const n=MT(t),r=MT(e),s=+n-a2(n),i=+r-a2(r);return Math.round((s-i)/Ese)}function Pse(t){const e=f7(t),n=Hu(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),o2(n)}function W0(t,e){const n=Fn(t),r=Fn(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function Tse(t){return Hu(t,Date.now())}function Ise(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function kse(t){if(!Ise(t)&&typeof t!="number")return!1;const e=Fn(t);return!isNaN(Number(e))}function jse(t,e){const n=Fn(t),r=Fn(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function Rse(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function Lse(t,e){return+Fn(t)-+Fn(e)}function Ose(t){const e=Fn(t);return e.setHours(23,59,59,999),e}function Dse(t){const e=Fn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Mse(t){const e=Fn(t);return+Ose(e)==+Dse(e)}function Fse(t,e){const n=Fn(t),r=Fn(e),s=W0(n,r),i=Math.abs(jse(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let a=W0(n,r)===-s;Mse(Fn(t))&&i===1&&W0(t,r)===1&&(a=!1),o=s*(i-Number(a))}return o===0?0:o}function Vse(t,e,n){const r=Lse(t,e)/1e3;return Rse(n==null?void 0:n.roundingMethod)(r)}function Use(t){const e=Fn(t),n=Hu(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Bse={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zse=(t,e,n)=>{let r;const s=Bse[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function _b(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const qse={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$se={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Wse={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hse={date:_b({formats:qse,defaultWidth:"full"}),time:_b({formats:$se,defaultWidth:"full"}),dateTime:_b({formats:Wse,defaultWidth:"full"})},Gse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Kse=(t,e,n,r)=>Gse[t];function qm(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const Yse={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Qse={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Xse={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Zse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Jse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},eie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tie=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},nie={ordinalNumber:tie,era:qm({values:Yse,defaultWidth:"wide"}),quarter:qm({values:Qse,defaultWidth:"wide",argumentCallback:t=>t-1}),month:qm({values:Xse,defaultWidth:"wide"}),day:qm({values:Zse,defaultWidth:"wide"}),dayPeriod:qm({values:Jse,defaultWidth:"wide",formattingValues:eie,defaultFormattingWidth:"wide"})};function $m(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?sie(a,h=>h.test(o)):rie(a,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function rie(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function sie(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function iie(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const oie=/^(\d+)(th|st|nd|rd)?/i,aie=/\d+/i,lie={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cie={any:[/^b/i,/^(a|c)/i]},uie={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},die={any:[/1/i,/2/i,/3/i,/4/i]},hie={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pie={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mie={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gie={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yie={ordinalNumber:iie({matchPattern:oie,parsePattern:aie,valueCallback:t=>parseInt(t,10)}),era:$m({matchPatterns:lie,defaultMatchWidth:"wide",parsePatterns:cie,defaultParseWidth:"any"}),quarter:$m({matchPatterns:uie,defaultMatchWidth:"wide",parsePatterns:die,defaultParseWidth:"any",valueCallback:t=>t+1}),month:$m({matchPatterns:hie,defaultMatchWidth:"wide",parsePatterns:fie,defaultParseWidth:"any"}),day:$m({matchPatterns:pie,defaultMatchWidth:"wide",parsePatterns:mie,defaultParseWidth:"any"}),dayPeriod:$m({matchPatterns:gie,defaultMatchWidth:"any",parsePatterns:vie,defaultParseWidth:"any"})},p7={code:"en-US",formatDistance:zse,formatLong:Hse,formatRelative:Kse,localize:nie,match:yie,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wie(t){const e=Fn(t);return Cse(e,Use(e))+1}function xie(t){const e=Fn(t),n=+o2(e)-+Pse(e);return Math.round(n/h7)+1}function m7(t,e){var d,h,p,g;const n=Fn(t),r=n.getFullYear(),s=iy(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(p=s.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=Hu(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=hv(o,e),c=Hu(t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=hv(c,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function bie(t,e){var a,c,u,d;const n=iy(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=m7(t,e),i=Hu(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),hv(i,e)}function _ie(t,e){const n=Fn(t),r=+hv(n,e)-+bie(n,e);return Math.round(r/h7)+1}function kn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const $c={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return kn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):kn(n+1,2)},d(t,e){return kn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return kn(t.getHours()%12||12,e.length)},H(t,e){return kn(t.getHours(),e.length)},m(t,e){return kn(t.getMinutes(),e.length)},s(t,e){return kn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return kn(s,e.length)}},df={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},FT={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return $c.y(t,e)},Y:function(t,e,n,r){const s=m7(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return kn(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):kn(i,e.length)},R:function(t,e){const n=f7(t);return kn(n,e.length)},u:function(t,e){const n=t.getFullYear();return kn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return kn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return kn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return $c.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return kn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=_ie(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):kn(s,e.length)},I:function(t,e,n){const r=xie(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):kn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):$c.d(t,e)},D:function(t,e,n){const r=wie(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):kn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return kn(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return kn(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return kn(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=df.noon:r===0?s=df.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=df.evening:r>=12?s=df.afternoon:r>=4?s=df.morning:s=df.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return $c.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):$c.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):kn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):kn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):$c.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):$c.s(t,e)},S:function(t,e){return $c.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return UT(r);case"XXXX":case"XX":return kd(r);case"XXXXX":case"XXX":default:return kd(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return UT(r);case"xxxx":case"xx":return kd(r);case"xxxxx":case"xxx":default:return kd(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+VT(r,":");case"OOOO":default:return"GMT"+kd(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+VT(r,":");case"zzzz":default:return"GMT"+kd(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return kn(r,e.length)},T:function(t,e,n){const r=t.getTime();return kn(r,e.length)}};function VT(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+kn(i,2)}function UT(t,e){return t%60===0?(t>0?"-":"+")+kn(Math.abs(t)/60,2):kd(t,e)}function kd(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=kn(Math.trunc(r/60),2),i=kn(r%60,2);return n+s+e+i}const BT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},g7=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Sie=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return BT(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",BT(r,e)).replace("{{time}}",g7(s,e))},Nie={p:g7,P:Sie},Eie=/^D+$/,Aie=/^Y+$/,Cie=["D","DD","YY","YYYY"];function Pie(t){return Eie.test(t)}function Tie(t){return Aie.test(t)}function Iie(t,e,n){const r=kie(t,e,n);if(console.warn(r),Cie.includes(t))throw new RangeError(r)}function kie(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Rie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Lie=/^'([^]*?)'?$/,Oie=/''/g,Die=/[a-zA-Z]/;function fv(t,e,n){var d,h,p,g;const r=iy(),s=r.locale??p7,i=r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=r.weekStartsOn??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,a=Fn(t);if(!kse(a))throw new RangeError("Invalid time value");let c=e.match(Rie).map(b=>{const w=b[0];if(w==="p"||w==="P"){const _=Nie[w];return _(b,s.formatLong)}return b}).join("").match(jie).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const w=b[0];if(w==="'")return{isToken:!1,value:Mie(b)};if(FT[w])return{isToken:!0,value:b};if(w.match(Die))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(b=>{if(!b.isToken)return b.value;const w=b.value;(Tie(w)||Pie(w))&&Iie(w,e,String(t));const _=FT[w[0]];return _(a,w,s.localize,u)}).join("")}function Mie(t){const e=t.match(Lie);return e?e[1].replace(Oie,"'"):t}function Fie(t,e,n){const r=iy(),s=(n==null?void 0:n.locale)??r.locale??p7,i=2520,o=W0(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,u;o>0?(c=Fn(e),u=Fn(t)):(c=Fn(t),u=Fn(e));const d=Vse(u,c),h=(a2(u)-a2(c))/1e3,p=Math.round((d-h)/60);let g;if(p<2)return n!=null&&n.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,a):d<10?s.formatDistance("lessThanXSeconds",10,a):d<20?s.formatDistance("lessThanXSeconds",20,a):d<40?s.formatDistance("halfAMinute",0,a):d<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):p===0?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",p,a);if(p<45)return s.formatDistance("xMinutes",p,a);if(p<90)return s.formatDistance("aboutXHours",1,a);if(p<DT){const b=Math.round(p/60);return s.formatDistance("aboutXHours",b,a)}else{if(p<i)return s.formatDistance("xDays",1,a);if(p<f0){const b=Math.round(p/DT);return s.formatDistance("xDays",b,a)}else if(p<f0*2)return g=Math.round(p/f0),s.formatDistance("aboutXMonths",g,a)}if(g=Fse(u,c),g<12){const b=Math.round(p/f0);return s.formatDistance("xMonths",b,a)}else{const b=g%12,w=Math.trunc(g/12);return b<3?s.formatDistance("aboutXYears",w,a):b<9?s.formatDistance("overXYears",w,a):s.formatDistance("almostXYears",w+1,a)}}function Vie(t,e){return Fie(t,Tse(t),e)}var e4="Tabs",[Uie,Pue]=Ls(e4,[tw]),v7=tw(),[Bie,t4]=Uie(e4),y7=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...u}=t,d=Ch(a),[h,p]=Hi({prop:r,onChange:s,defaultProp:i});return l.jsx(Bie,{scope:n,baseId:po(),value:h,onValueChange:p,orientation:o,dir:d,activationMode:c,children:l.jsx(mt.div,{dir:d,"data-orientation":o,...u,ref:e})})});y7.displayName=e4;var w7="TabsList",x7=E.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=t4(w7,n),o=v7(n);return l.jsx(XR,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:l.jsx(mt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});x7.displayName=w7;var b7="TabsTrigger",_7=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=t4(b7,n),a=v7(n),c=E7(o.baseId,r),u=A7(o.baseId,r),d=r===o.value;return l.jsx(ZR,{asChild:!0,...a,focusable:!s,active:d,children:l.jsx(mt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:Qe(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Qe(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Qe(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});_7.displayName=b7;var S7="TabsContent",N7=E.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=t4(S7,n),c=E7(a.baseId,r),u=A7(a.baseId,r),d=r===a.value,h=E.useRef(d);return E.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),l.jsx(Os,{present:s||d,children:({present:p})=>l.jsx(mt.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});N7.displayName=S7;function E7(t,e){return`${t}-trigger-${e}`}function A7(t,e){return`${t}-content-${e}`}var zie=y7,C7=x7,P7=_7,T7=N7;const oy=zie,hm=E.forwardRef(({className:t,...e},n)=>l.jsx(C7,{ref:n,className:Xe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));hm.displayName=C7.displayName;const Qs=E.forwardRef(({className:t,...e},n)=>l.jsx(P7,{ref:n,className:Xe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Qs.displayName=P7.displayName;const Xs=E.forwardRef(({className:t,...e},n)=>l.jsx(T7,{ref:n,className:Xe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Xs.displayName=T7.displayName;const od=E.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:Xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));od.displayName="Textarea";function jn(t){"@babel/helpers - typeof";return jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jn(t)}var Is=Uint8Array,Bi=Uint16Array,n4=Int32Array,Gw=new Is([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Kw=new Is([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),V_=new Is([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),I7=function(t,e){for(var n=new Bi(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var s=new n4(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return{b:n,r:s}},k7=I7(Gw,2),j7=k7.b,U_=k7.r;j7[28]=258,U_[258]=28;var R7=I7(Kw,0),qie=R7.b,zT=R7.r,B_=new Bi(32768);for(var Yn=0;Yn<32768;++Yn){var Wc=(Yn&43690)>>1|(Yn&21845)<<1;Wc=(Wc&52428)>>2|(Wc&13107)<<2,Wc=(Wc&61680)>>4|(Wc&3855)<<4,B_[Yn]=((Wc&65280)>>8|(Wc&255)<<8)>>1}var Ka=function(t,e,n){for(var r=t.length,s=0,i=new Bi(e);s<r;++s)t[s]&&++i[t[s]-1];var o=new Bi(e);for(s=1;s<e;++s)o[s]=o[s-1]+i[s-1]<<1;var a;if(n){a=new Bi(1<<e);var c=15-e;for(s=0;s<r;++s)if(t[s])for(var u=s<<4|t[s],d=e-t[s],h=o[t[s]-1]++<<d,p=h|(1<<d)-1;h<=p;++h)a[B_[h]>>c]=u}else for(a=new Bi(r),s=0;s<r;++s)t[s]&&(a[s]=B_[o[t[s]-1]++]>>15-t[s]);return a},Gu=new Is(288);for(var Yn=0;Yn<144;++Yn)Gu[Yn]=8;for(var Yn=144;Yn<256;++Yn)Gu[Yn]=9;for(var Yn=256;Yn<280;++Yn)Gu[Yn]=7;for(var Yn=280;Yn<288;++Yn)Gu[Yn]=8;var pv=new Is(32);for(var Yn=0;Yn<32;++Yn)pv[Yn]=5;var $ie=Ka(Gu,9,0),Wie=Ka(Gu,9,1),Hie=Ka(pv,5,0),Gie=Ka(pv,5,1),Sb=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},jo=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},Nb=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},r4=function(t){return(t+7)/8|0},L7=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Is(t.subarray(e,n))},Kie=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Do=function(t,e,n){var r=new Error(e||Kie[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Do),!n)throw r;return r},Yie=function(t,e,n,r){var s=t.length,i=0;if(!s||e.f&&!e.l)return n||new Is(0);var o=!n,a=o||e.i!=2,c=e.i;o&&(n=new Is(s*3));var u=function(ke){var Ue=n.length;if(ke>Ue){var We=new Is(Math.max(Ue*2,ke));We.set(n),n=We}},d=e.f||0,h=e.p||0,p=e.b||0,g=e.l,b=e.d,w=e.m,_=e.n,x=s*8;do{if(!g){d=jo(t,h,1);var v=jo(t,h+1,3);if(h+=3,v)if(v==1)g=Wie,b=Gie,w=9,_=5;else if(v==2){var $=jo(t,h,31)+257,I=jo(t,h+10,15)+4,P=$+jo(t,h+5,31)+1;h+=14;for(var L=new Is(P),F=new Is(19),k=0;k<I;++k)F[V_[k]]=jo(t,h+k*3,7);h+=I*3;for(var T=Sb(F),O=(1<<T)-1,G=Ka(F,T,1),k=0;k<P;){var ue=G[jo(t,h,O)];h+=ue&15;var N=ue>>4;if(N<16)L[k++]=N;else{var ie=0,fe=0;for(N==16?(fe=3+jo(t,h,3),h+=2,ie=L[k-1]):N==17?(fe=3+jo(t,h,7),h+=3):N==18&&(fe=11+jo(t,h,127),h+=7);fe--;)L[k++]=ie}}var Y=L.subarray(0,$),te=L.subarray($);w=Sb(Y),_=Sb(te),g=Ka(Y,w,1),b=Ka(te,_,1)}else Do(1);else{var N=r4(h)+4,R=t[N-4]|t[N-3]<<8,M=N+R;if(M>s){c&&Do(0);break}a&&u(p+R),n.set(t.subarray(N,M),p),e.b=p+=R,e.p=h=M*8,e.f=d;continue}if(h>x){c&&Do(0);break}}a&&u(p+131072);for(var re=(1<<w)-1,Ee=(1<<_)-1,B=h;;B=h){var ie=g[Nb(t,h)&re],Q=ie>>4;if(h+=ie&15,h>x){c&&Do(0);break}if(ie||Do(2),Q<256)n[p++]=Q;else if(Q==256){B=h,g=null;break}else{var J=Q-254;if(Q>264){var k=Q-257,se=Gw[k];J=jo(t,h,(1<<se)-1)+j7[k],h+=se}var le=b[Nb(t,h)&Ee],oe=le>>4;le||Do(3),h+=le&15;var te=qie[oe];if(oe>3){var se=Kw[oe];te+=Nb(t,h)&(1<<se)-1,h+=se}if(h>x){c&&Do(0);break}a&&u(p+131072);var we=p+J;if(p<te){var xe=i-te,je=Math.min(te,we);for(xe+p<0&&Do(3);p<je;++p)n[p]=r[xe+p]}for(;p<we;++p)n[p]=n[p-te]}}e.l=g,e.p=B,e.b=p,e.f=d,g&&(d=1,e.m=w,e.d=b,e.n=_)}while(!d);return p!=n.length&&o?L7(n,0,p):n.subarray(0,p)},El=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Wm=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Eb=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var s=n.length,i=n.slice();if(!s)return{t:D7,l:0};if(s==1){var o=new Is(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(M,$){return M.f-$.f}),n.push({s:-1,f:25001});var a=n[0],c=n[1],u=0,d=1,h=2;for(n[0]={s:-1,f:a.f+c.f,l:a,r:c};d!=s-1;)a=n[n[u].f<n[h].f?u++:h++],c=n[u!=d&&n[u].f<n[h].f?u++:h++],n[d++]={s:-1,f:a.f+c.f,l:a,r:c};for(var p=i[0].s,r=1;r<s;++r)i[r].s>p&&(p=i[r].s);var g=new Bi(p+1),b=z_(n[d-1],g,0);if(b>e){var r=0,w=0,_=b-e,x=1<<_;for(i.sort(function($,I){return g[I.s]-g[$.s]||$.f-I.f});r<s;++r){var v=i[r].s;if(g[v]>e)w+=x-(1<<b-g[v]),g[v]=e;else break}for(w>>=_;w>0;){var N=i[r].s;g[N]<e?w-=1<<e-g[N]++-1:++r}for(;r>=0&&w;--r){var R=i[r].s;g[R]==e&&(--g[R],++w)}b=e}return{t:new Is(g),l:b}},z_=function(t,e,n){return t.s==-1?Math.max(z_(t.l,e,n+1),z_(t.r,e,n+1)):e[t.s]=n},qT=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Bi(++e),r=0,s=t[0],i=1,o=function(c){n[r++]=c},a=1;a<=e;++a)if(t[a]==s&&a!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=t[a]}return{c:n.subarray(0,r),n:e}},Hm=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},O7=function(t,e,n){var r=n.length,s=r4(e+2);t[s]=r&255,t[s+1]=r>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<r;++i)t[s+i+4]=n[i];return(s+4+r)*8},$T=function(t,e,n,r,s,i,o,a,c,u,d){El(e,d++,n),++s[256];for(var h=Eb(s,15),p=h.t,g=h.l,b=Eb(i,15),w=b.t,_=b.l,x=qT(p),v=x.c,N=x.n,R=qT(w),M=R.c,$=R.n,I=new Bi(19),P=0;P<v.length;++P)++I[v[P]&31];for(var P=0;P<M.length;++P)++I[M[P]&31];for(var L=Eb(I,7),F=L.t,k=L.l,T=19;T>4&&!F[V_[T-1]];--T);var O=u+5<<3,G=Hm(s,Gu)+Hm(i,pv)+o,ue=Hm(s,p)+Hm(i,w)+o+14+3*T+Hm(I,F)+2*I[16]+3*I[17]+7*I[18];if(c>=0&&O<=G&&O<=ue)return O7(e,d,t.subarray(c,c+u));var ie,fe,Y,te;if(El(e,d,1+(ue<G)),d+=2,ue<G){ie=Ka(p,g,0),fe=p,Y=Ka(w,_,0),te=w;var re=Ka(F,k,0);El(e,d,N-257),El(e,d+5,$-1),El(e,d+10,T-4),d+=14;for(var P=0;P<T;++P)El(e,d+3*P,F[V_[P]]);d+=3*T;for(var Ee=[v,M],B=0;B<2;++B)for(var Q=Ee[B],P=0;P<Q.length;++P){var J=Q[P]&31;El(e,d,re[J]),d+=F[J],J>15&&(El(e,d,Q[P]>>5&127),d+=Q[P]>>12)}}else ie=$ie,fe=Gu,Y=Hie,te=pv;for(var P=0;P<a;++P){var se=r[P];if(se>255){var J=se>>18&31;Wm(e,d,ie[J+257]),d+=fe[J+257],J>7&&(El(e,d,se>>23&31),d+=Gw[J]);var le=se&31;Wm(e,d,Y[le]),d+=te[le],le>3&&(Wm(e,d,se>>5&8191),d+=Kw[le])}else Wm(e,d,ie[se]),d+=fe[se]}return Wm(e,d,ie[256]),d+fe[256]},Qie=new n4([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),D7=new Is(0),Xie=function(t,e,n,r,s,i){var o=i.z||t.length,a=new Is(r+o+5*(1+Math.ceil(o/7e3))+s),c=a.subarray(r,a.length-s),u=i.l,d=(i.r||0)&7;if(e){d&&(c[0]=i.r>>3);for(var h=Qie[e-1],p=h>>13,g=h&8191,b=(1<<n)-1,w=i.p||new Bi(32768),_=i.h||new Bi(b+1),x=Math.ceil(n/3),v=2*x,N=function(ut){return(t[ut]^t[ut+1]<<x^t[ut+2]<<v)&b},R=new n4(25e3),M=new Bi(288),$=new Bi(32),I=0,P=0,L=i.i||0,F=0,k=i.w||0,T=0;L+2<o;++L){var O=N(L),G=L&32767,ue=_[O];if(w[G]=ue,_[O]=G,k<=L){var ie=o-L;if((I>7e3||F>24576)&&(ie>423||!u)){d=$T(t,c,0,R,M,$,P,F,T,L-T,d),F=I=P=0,T=L;for(var fe=0;fe<286;++fe)M[fe]=0;for(var fe=0;fe<30;++fe)$[fe]=0}var Y=2,te=0,re=g,Ee=G-ue&32767;if(ie>2&&O==N(L-Ee))for(var B=Math.min(p,ie)-1,Q=Math.min(32767,L),J=Math.min(258,ie);Ee<=Q&&--re&&G!=ue;){if(t[L+Y]==t[L+Y-Ee]){for(var se=0;se<J&&t[L+se]==t[L+se-Ee];++se);if(se>Y){if(Y=se,te=Ee,se>B)break;for(var le=Math.min(Ee,se-2),oe=0,fe=0;fe<le;++fe){var we=L-Ee+fe&32767,xe=w[we],je=we-xe&32767;je>oe&&(oe=je,ue=we)}}}G=ue,ue=w[G],Ee+=G-ue&32767}if(te){R[F++]=268435456|U_[Y]<<18|zT[te];var ke=U_[Y]&31,Ue=zT[te]&31;P+=Gw[ke]+Kw[Ue],++M[257+ke],++$[Ue],k=L+Y,++I}else R[F++]=t[L],++M[t[L]]}}for(L=Math.max(L,k);L<o;++L)R[F++]=t[L],++M[t[L]];d=$T(t,c,u,R,M,$,P,F,T,L-T,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=_,i.p=w,i.i=L,i.w=k)}else{for(var L=i.w||0;L<o+u;L+=65535){var We=L+65535;We>=o&&(c[d/8|0]=u,We=o),d=O7(c,d+1,t.subarray(L,We))}i.i=o}return L7(a,0,r+r4(d)+s)},M7=function(){var t=1,e=0;return{p:function(n){for(var r=t,s=e,i=n.length|0,o=0;o!=i;){for(var a=Math.min(o+2655,i);o<a;++o)s+=r+=n[o];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}t=r,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Zie=function(t,e,n,r,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new Is(i.length+t.length);o.set(i),o.set(t,i.length),t=o,s.w=i.length}return Xie(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,s)},F7=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Jie=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=M7();s.p(e.dictionary),F7(t,2,s.d())}},eoe=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Do(6,"invalid zlib data"),(t[1]>>5&1)==1&&Do(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function q_(t,e){e||(e={});var n=M7();n.p(t);var r=Zie(t,e,e.dictionary?6:2,4);return Jie(r,e),F7(r,r.length-4,n.d()),r}function toe(t,e){return Yie(t.subarray(eoe(t),-4),{i:2},e,e)}var noe=typeof TextDecoder<"u"&&new TextDecoder,roe=0;try{noe.decode(D7,{stream:!0}),roe=1}catch{}var Ct=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ab(){Ct.console&&typeof Ct.console.log=="function"&&Ct.console.log.apply(Ct.console,arguments)}var Mn={log:Ab,warn:function(t){Ct.console&&(typeof Ct.console.warn=="function"?Ct.console.warn.apply(Ct.console,arguments):Ab.call(null,arguments))},error:function(t){Ct.console&&(typeof Ct.console.error=="function"?Ct.console.error.apply(Ct.console,arguments):Ab(t))}};function Cb(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){jd(r.response,e,n)},r.onerror=function(){Mn.error("could not download file")},r.send()}function WT(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function p0(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Ag,$_,jd=Ct.saveAs||((typeof window>"u"?"undefined":jn(window))!=="object"||window!==Ct?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Ct.URL||Ct.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?WT(s.href)?Cb(t,e,n):p0(s,s.target="_blank"):p0(s)):(s.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){p0(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(WT(t))Cb(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){p0(r)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:jn(i)!=="object"&&(Mn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Cb(t,e,n);var s=t.type==="application/octet-stream",i=/constructor/i.test(Ct.HTMLElement)||Ct.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":jn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},a.readAsDataURL(t)}else{var c=Ct.URL||Ct.webkitURL,u=c.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function V7(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,i=n[r].process,o=s.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+a+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Pb(t,e){var n=t[0],r=t[1],s=t[2],i=t[3];n=bs(n,r,s,i,e[0],7,-680876936),i=bs(i,n,r,s,e[1],12,-389564586),s=bs(s,i,n,r,e[2],17,606105819),r=bs(r,s,i,n,e[3],22,-1044525330),n=bs(n,r,s,i,e[4],7,-176418897),i=bs(i,n,r,s,e[5],12,1200080426),s=bs(s,i,n,r,e[6],17,-1473231341),r=bs(r,s,i,n,e[7],22,-45705983),n=bs(n,r,s,i,e[8],7,1770035416),i=bs(i,n,r,s,e[9],12,-1958414417),s=bs(s,i,n,r,e[10],17,-42063),r=bs(r,s,i,n,e[11],22,-1990404162),n=bs(n,r,s,i,e[12],7,1804603682),i=bs(i,n,r,s,e[13],12,-40341101),s=bs(s,i,n,r,e[14],17,-1502002290),n=_s(n,r=bs(r,s,i,n,e[15],22,1236535329),s,i,e[1],5,-165796510),i=_s(i,n,r,s,e[6],9,-1069501632),s=_s(s,i,n,r,e[11],14,643717713),r=_s(r,s,i,n,e[0],20,-373897302),n=_s(n,r,s,i,e[5],5,-701558691),i=_s(i,n,r,s,e[10],9,38016083),s=_s(s,i,n,r,e[15],14,-660478335),r=_s(r,s,i,n,e[4],20,-405537848),n=_s(n,r,s,i,e[9],5,568446438),i=_s(i,n,r,s,e[14],9,-1019803690),s=_s(s,i,n,r,e[3],14,-187363961),r=_s(r,s,i,n,e[8],20,1163531501),n=_s(n,r,s,i,e[13],5,-1444681467),i=_s(i,n,r,s,e[2],9,-51403784),s=_s(s,i,n,r,e[7],14,1735328473),n=Ss(n,r=_s(r,s,i,n,e[12],20,-1926607734),s,i,e[5],4,-378558),i=Ss(i,n,r,s,e[8],11,-2022574463),s=Ss(s,i,n,r,e[11],16,1839030562),r=Ss(r,s,i,n,e[14],23,-35309556),n=Ss(n,r,s,i,e[1],4,-1530992060),i=Ss(i,n,r,s,e[4],11,1272893353),s=Ss(s,i,n,r,e[7],16,-155497632),r=Ss(r,s,i,n,e[10],23,-1094730640),n=Ss(n,r,s,i,e[13],4,681279174),i=Ss(i,n,r,s,e[0],11,-358537222),s=Ss(s,i,n,r,e[3],16,-722521979),r=Ss(r,s,i,n,e[6],23,76029189),n=Ss(n,r,s,i,e[9],4,-640364487),i=Ss(i,n,r,s,e[12],11,-421815835),s=Ss(s,i,n,r,e[15],16,530742520),n=Ns(n,r=Ss(r,s,i,n,e[2],23,-995338651),s,i,e[0],6,-198630844),i=Ns(i,n,r,s,e[7],10,1126891415),s=Ns(s,i,n,r,e[14],15,-1416354905),r=Ns(r,s,i,n,e[5],21,-57434055),n=Ns(n,r,s,i,e[12],6,1700485571),i=Ns(i,n,r,s,e[3],10,-1894986606),s=Ns(s,i,n,r,e[10],15,-1051523),r=Ns(r,s,i,n,e[1],21,-2054922799),n=Ns(n,r,s,i,e[8],6,1873313359),i=Ns(i,n,r,s,e[15],10,-30611744),s=Ns(s,i,n,r,e[6],15,-1560198380),r=Ns(r,s,i,n,e[13],21,1309151649),n=Ns(n,r,s,i,e[4],6,-145523070),i=Ns(i,n,r,s,e[11],10,-1120210379),s=Ns(s,i,n,r,e[2],15,718787259),r=Ns(r,s,i,n,e[9],21,-343485551),t[0]=pu(n,t[0]),t[1]=pu(r,t[1]),t[2]=pu(s,t[2]),t[3]=pu(i,t[3])}function Yw(t,e,n,r,s,i){return e=pu(pu(e,t),pu(r,i)),pu(e<<s|e>>>32-s,n)}function bs(t,e,n,r,s,i,o){return Yw(e&n|~e&r,t,e,s,i,o)}function _s(t,e,n,r,s,i,o){return Yw(e&r|n&~r,t,e,s,i,o)}function Ss(t,e,n,r,s,i,o){return Yw(e^n^r,t,e,s,i,o)}function Ns(t,e,n,r,s,i,o){return Yw(n^(e|~r),t,e,s,i,o)}function U7(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Pb(r,soe(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Pb(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*n,Pb(r,s),r}function soe(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Ag=Ct.atob.bind(Ct),$_=Ct.btoa.bind(Ct);var HT="0123456789abcdef".split("");function ioe(t){for(var e="",n=0;n<4;n++)e+=HT[t>>8*n+4&15]+HT[t>>8*n&15];return e}function ooe(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function W_(t){return U7(t).map(ooe).join("")}var aoe=function(t){for(var e=0;e<t.length;e++)t[e]=ioe(t[e]);return t.join("")}(U7("hello"))!="5d41402abc4b2a76b9719d911017c592";function pu(t,e){if(aoe){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function H_(t,e){var n,r,s,i;if(t!==n){for(var o=(s=t,i=1+(256/t.length>>0),new Array(i+1).join(s)),a=[],c=0;c<256;c++)a[c]=c;var u=0;for(c=0;c<256;c++){var d=a[c];u=(u+d+o.charCodeAt(c))%256,a[c]=a[u],a[u]=d}n=t,r=a}else a=r;var h=e.length,p=0,g=0,b="";for(c=0;c<h;c++)g=(g+(d=a[p=(p+1)%256]))%256,a[p]=a[g],a[g]=d,o=a[(a[p]+a[g])%256],b+=String.fromCharCode(e.charCodeAt(c)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var GT={print:4,modify:8,copy:16,"annot-forms":32};function _f(t,e,n,r){this.v=1,this.r=2;var s=192;t.forEach(function(a){if(GT.perm!==void 0)throw new Error("Invalid permission: "+a);s+=GT[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=W_(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=H_(this.encryptionKey,this.padding)}function Sf(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var s=t.charCodeAt(r);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?e+="#"+("0"+s.toString(16)).slice(-2):e+=t[r]}return e}function KT(t){if(jn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var i=Math.random().toString(35);return e[n][i]=[r,!!s],i},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[n]){var o=e[n][i];try{o[0].apply(t,r)}catch(a){Ct.console&&Mn.error("jsPDF PubSub Error",a.message,a)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function l2(t){if(!(this instanceof l2))return new l2(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function B7(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Rd(t,e,n,r,s){if(!(this instanceof Rd))return new Rd(t,e,n,r,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,B7.call(this,r,s)}function Vf(t,e,n,r,s){if(!(this instanceof Vf))return new Vf(t,e,n,r,s);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,B7.call(this,r,s)}function At(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],i=arguments[3],o=[],a=1,c=16,u="S",d=null;jn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,s=t.format||s,i=t.compress||t.compressPdf||i,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,p={},g={internal:{},__private__:{}};g.__private__.PubSub=KT;var b="1.3",w=g.__private__.getPdfVersion=function(){return b};g.__private__.setPdfVersion=function(S){b=S};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return _};var x=g.__private__.getPageFormat=function(S){return _[S]};s=s||"a4";var v={COMPAT:"compat",ADVANCED:"advanced"},N=v.COMPAT;function R(){this.saveGraphicsState(),ne(new ht(Ye,0,0,-Ye,0,vs()*Ye).toString()+" cm"),this.setFontSize(this.getFontSize()/Ye),u="n",N=v.ADVANCED}function M(){this.restoreGraphicsState(),u="S",N=v.COMPAT}var $=g.__private__.combineFontStyleAndFontWeight=function(S,V){if(S=="bold"&&V=="normal"||S=="bold"&&V==400||S=="normal"&&V=="italic"||S=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(S=V==400||V==="normal"?S==="italic"?"italic":"normal":V!=700&&V!=="bold"||S!=="normal"?(V==700?"bold":V)+""+S:"bold"),S};g.advancedAPI=function(S){var V=N===v.COMPAT;return V&&R.call(this),typeof S!="function"||(S(this),V&&M.call(this)),this},g.compatAPI=function(S){var V=N===v.ADVANCED;return V&&M.call(this),typeof S!="function"||(S(this),V&&R.call(this)),this},g.isAdvancedAPI=function(){return N===v.ADVANCED};var I,P=function(S){if(N!==v.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},L=g.roundToPrecision=g.__private__.roundToPrecision=function(S,V){var ee=e||V;if(isNaN(S)||isNaN(ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(ee).replace(/0+$/,"")};I=g.hpf=g.__private__.hpf=typeof c=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return L(S,c)}:c==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return L(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return L(S,16)};var F=g.f2=g.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return L(S,2)},k=g.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return L(S,3)},T=g.scale=g.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return N===v.COMPAT?S*Ye:N===v.ADVANCED?S:void 0},O=function(S){return N===v.COMPAT?vs()-S:N===v.ADVANCED?S:void 0},G=function(S){return T(O(S))};g.__private__.setPrecision=g.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var ue,ie="00000000000000000000000000000000",fe=g.__private__.getFileId=function(){return ie},Y=g.__private__.setFileId=function(S){return ie=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Hn=new _f(d.userPermissions,d.userPassword,d.ownerPassword,ie)),ie};g.setFileId=function(S){return Y(S),this},g.getFileId=function(){return fe()};var te=g.__private__.convertDateToPDFDate=function(S){var V=S.getTimezoneOffset(),ee=V<0?"+":"-",ae=Math.floor(Math.abs(V/60)),ve=Math.abs(V%60),Ie=[ee,J(ae),"'",J(ve),"'"].join("");return["D:",S.getFullYear(),J(S.getMonth()+1),J(S.getDate()),J(S.getHours()),J(S.getMinutes()),J(S.getSeconds()),Ie].join("")},re=g.__private__.convertPDFDateToDate=function(S){var V=parseInt(S.substr(2,4),10),ee=parseInt(S.substr(6,2),10)-1,ae=parseInt(S.substr(8,2),10),ve=parseInt(S.substr(10,2),10),Ie=parseInt(S.substr(12,2),10),ze=parseInt(S.substr(14,2),10);return new Date(V,ee,ae,ve,Ie,ze,0)},Ee=g.__private__.setCreationDate=function(S){var V;if(S===void 0&&(S=new Date),S instanceof Date)V=te(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=S}return ue=V},B=g.__private__.getCreationDate=function(S){var V=ue;return S==="jsDate"&&(V=re(ue)),V};g.setCreationDate=function(S){return Ee(S),this},g.getCreationDate=function(S){return B(S)};var Q,J=g.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},se=g.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},le=0,oe=[],we=[],xe=0,je=[],ke=[],Ue=!1,We=we,ut=function(){le=0,xe=0,we=[],oe=[],je=[],xo=or(),gs=or()};g.__private__.setCustomOutputDestination=function(S){Ue=!0,We=S};var Ae=function(S){Ue||(We=S)};g.__private__.resetCustomOutputDestination=function(){Ue=!1,We=we};var ne=g.__private__.out=function(S){return S=S.toString(),xe+=S.length+1,We.push(S),We},_t=g.__private__.write=function(S){return ne(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},dt=g.__private__.getArrayBuffer=function(S){for(var V=S.length,ee=new ArrayBuffer(V),ae=new Uint8Array(ee);V--;)ae[V]=S.charCodeAt(V);return ee},qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return qe};var Ze=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(S){return Ze=N===v.ADVANCED?S/Ye:S,this};var tt,X=g.__private__.getFontSize=g.getFontSize=function(){return N===v.COMPAT?Ze:Ze*Ye},ce=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(S){return ce=S,this},g.__private__.getR2L=g.getR2L=function(){return ce};var be,De=g.__private__.setZoomMode=function(S){var V=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))tt=S;else if(isNaN(S)){if(V.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');tt=S}else tt=parseInt(S,10)};g.__private__.getZoomMode=function(){return tt};var Te,Ce=g.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');be=S};g.__private__.getPageMode=function(){return be};var He=g.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Te=S};g.__private__.getLayoutMode=function(){return Te},g.__private__.setDisplayMode=g.setDisplayMode=function(S,V,ee){return De(S),He(V),Ce(ee),this};var Je={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(S){if(Object.keys(Je).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Je[S]},g.__private__.getDocumentProperties=function(){return Je},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(S){for(var V in Je)Je.hasOwnProperty(V)&&S[V]&&(Je[V]=S[V]);return this},g.__private__.setDocumentProperty=function(S,V){if(Object.keys(Je).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Je[S]=V};var yt,Ye,Xn,Zt,qr,gn={},Cn={},si=[],nn={},fa={},$n={},Jr={},Ei=null,Vn=0,St=[],vn=new KT(g),Qi=t.hotfixes||[],Ar={},ps={},Ai=[],ht=function S(V,ee,ae,ve,Ie,ze){if(!(this instanceof S))return new S(V,ee,ae,ve,Ie,ze);isNaN(V)&&(V=1),isNaN(ee)&&(ee=0),isNaN(ae)&&(ae=0),isNaN(ve)&&(ve=1),isNaN(Ie)&&(Ie=0),isNaN(ze)&&(ze=0),this._matrix=[V,ee,ae,ve,Ie,ze]};Object.defineProperty(ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ht.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(S)},ht.prototype.multiply=function(S){var V=S.sx*this.sx+S.shy*this.shx,ee=S.sx*this.shy+S.shy*this.sy,ae=S.shx*this.sx+S.sy*this.shx,ve=S.shx*this.shy+S.sy*this.sy,Ie=S.tx*this.sx+S.ty*this.shx+this.tx,ze=S.tx*this.shy+S.ty*this.sy+this.ty;return new ht(V,ee,ae,ve,Ie,ze)},ht.prototype.decompose=function(){var S=this.sx,V=this.shy,ee=this.shx,ae=this.sy,ve=this.tx,Ie=this.ty,ze=Math.sqrt(S*S+V*V),nt=(S/=ze)*ee+(V/=ze)*ae;ee-=S*nt,ae-=V*nt;var m=Math.sqrt(ee*ee+ae*ae);return nt/=m,S*(ae/=m)<V*(ee/=m)&&(S=-S,V=-V,nt=-nt,ze=-ze),{scale:new ht(ze,0,0,m,0,0),translate:new ht(1,0,0,1,ve,Ie),rotate:new ht(S,V,-V,S,0,0),skew:new ht(1,0,nt,1,0,0)}},ht.prototype.toString=function(S){return this.join(" ")},ht.prototype.inversed=function(){var S=this.sx,V=this.shy,ee=this.shx,ae=this.sy,ve=this.tx,Ie=this.ty,ze=1/(S*ae-V*ee),nt=ae*ze,m=-V*ze,C=-ee*ze,D=S*ze;return new ht(nt,m,C,D,-nt*ve-C*Ie,-m*ve-D*Ie)},ht.prototype.applyToPoint=function(S){var V=S.x*this.sx+S.y*this.shx+this.tx,ee=S.x*this.shy+S.y*this.sy+this.ty;return new ml(V,ee)},ht.prototype.applyToRectangle=function(S){var V=this.applyToPoint(S),ee=this.applyToPoint(new ml(S.x+S.w,S.y+S.h));return new Ec(V.x,V.y,ee.x-V.x,ee.y-V.y)},ht.prototype.clone=function(){var S=this.sx,V=this.shy,ee=this.shx,ae=this.sy,ve=this.tx,Ie=this.ty;return new ht(S,V,ee,ae,ve,Ie)},g.Matrix=ht;var ii=g.matrixMult=function(S,V){return V.multiply(S)},ms=new ht(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=ms;var Cr=function(S,V){if(!fa[S]){var ee=(V instanceof Rd?"Sh":"P")+(Object.keys(nn).length+1).toString(10);V.id=ee,fa[S]=ee,nn[ee]=V,vn.publish("addPattern",V)}};g.ShadingPattern=Rd,g.TilingPattern=Vf,g.addShadingPattern=function(S,V){return P("addShadingPattern()"),Cr(S,V),this},g.beginTilingPattern=function(S){P("beginTilingPattern()"),Ac(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},g.endTilingPattern=function(S,V){P("endTilingPattern()"),V.stream=ke[Q].join(`
`),Cr(S,V),vn.publish("endTilingPattern",V),Ai.pop().restore()};var fr=g.__private__.newObject=function(){var S=or();return Pr(S,!0),S},or=g.__private__.newObjectDeferred=function(){return le++,oe[le]=function(){return xe},le},Pr=function(S,V){return V=typeof V=="boolean"&&V,oe[S]=xe,V&&ne(S+" 0 obj"),S},dc=g.__private__.newAdditionalObject=function(){var S={objId:or(),content:""};return je.push(S),S},xo=or(),gs=or(),oi=g.__private__.decodeColorString=function(S){var V=S.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length===5&&(V[4]==="k"||V[4]==="K")&&(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var ee=parseFloat(V[0]);V=[ee,ee,ee,"r"]}for(var ae="#",ve=0;ve<3;ve++)ae+=("0"+Math.floor(255*parseFloat(V[ve])).toString(16)).slice(-2);return ae},Ds=g.__private__.encodeColorString=function(S){var V;typeof S=="string"&&(S={ch1:S});var ee=S.ch1,ae=S.ch2,ve=S.ch3,Ie=S.ch4,ze=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ee=="string"&&ee.charAt(0)!=="#"){var nt=new V7(ee);if(nt.ok)ee=nt.toHex();else if(!/^\d*\.?\d*$/.test(ee))throw new Error('Invalid color "'+ee+'" passed to jsPDF.encodeColorString.')}if(typeof ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ee)&&(ee="#"+ee[1]+ee[1]+ee[2]+ee[2]+ee[3]+ee[3]),typeof ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ee)){var m=parseInt(ee.substr(1),16);ee=m>>16&255,ae=m>>8&255,ve=255&m}if(ae===void 0||Ie===void 0&&ee===ae&&ae===ve)if(typeof ee=="string")V=ee+" "+ze[0];else switch(S.precision){case 2:V=F(ee/255)+" "+ze[0];break;case 3:default:V=k(ee/255)+" "+ze[0]}else if(Ie===void 0||jn(Ie)==="object"){if(Ie&&!isNaN(Ie.a)&&Ie.a===0)return V=["1.","1.","1.",ze[1]].join(" ");if(typeof ee=="string")V=[ee,ae,ve,ze[1]].join(" ");else switch(S.precision){case 2:V=[F(ee/255),F(ae/255),F(ve/255),ze[1]].join(" ");break;default:case 3:V=[k(ee/255),k(ae/255),k(ve/255),ze[1]].join(" ")}}else if(typeof ee=="string")V=[ee,ae,ve,Ie,ze[2]].join(" ");else switch(S.precision){case 2:V=[F(ee),F(ae),F(ve),F(Ie),ze[2]].join(" ");break;case 3:default:V=[k(ee),k(ae),k(ve),k(Ie),ze[2]].join(" ")}return V},Ms=g.__private__.getFilters=function(){return o},pr=g.__private__.putStream=function(S){var V=(S=S||{}).data||"",ee=S.filters||Ms(),ae=S.alreadyAppliedFilters||[],ve=S.addLength1||!1,Ie=V.length,ze=S.objectId,nt=function(Vt){return Vt};if(d!==null&&ze===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(nt=Hn.encryptor(ze,0));var m={};ee===!0&&(ee=["FlateEncode"]);var C=S.additionalKeyValues||[],D=(m=At.API.processDataByFilters!==void 0?At.API.processDataByFilters(V,ee):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(ae)?ae.join(" "):ae.toString());if(m.data.length!==0&&(C.push({key:"Length",value:m.data.length}),ve===!0&&C.push({key:"Length1",value:Ie})),D.length!=0)if(D.split("/").length-1==1)C.push({key:"Filter",value:D});else{C.push({key:"Filter",value:"["+D+"]"});for(var W=0;W<C.length;W+=1)if(C[W].key==="DecodeParms"){for(var ge=[],Ne=0;Ne<m.reverseChain.split("/").length-1;Ne+=1)ge.push("null");ge.push(C[W].value),C[W].value="["+ge.join(" ")+"]"}}ne("<<");for(var $e=0;$e<C.length;$e++)ne("/"+C[$e].key+" "+C[$e].value);ne(">>"),m.data.length!==0&&(ne("stream"),ne(nt(m.data)),ne("endstream"))},Ci=g.__private__.putPage=function(S){var V=S.number,ee=S.data,ae=S.objId,ve=S.contentsObjId;Pr(ae,!0),ne("<</Type /Page"),ne("/Parent "+S.rootDictionaryObjId+" 0 R"),ne("/Resources "+S.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(I(S.mediaBox.bottomLeftX))+" "+parseFloat(I(S.mediaBox.bottomLeftY))+" "+I(S.mediaBox.topRightX)+" "+I(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&ne("/CropBox ["+I(S.cropBox.bottomLeftX)+" "+I(S.cropBox.bottomLeftY)+" "+I(S.cropBox.topRightX)+" "+I(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&ne("/BleedBox ["+I(S.bleedBox.bottomLeftX)+" "+I(S.bleedBox.bottomLeftY)+" "+I(S.bleedBox.topRightX)+" "+I(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&ne("/TrimBox ["+I(S.trimBox.bottomLeftX)+" "+I(S.trimBox.bottomLeftY)+" "+I(S.trimBox.topRightX)+" "+I(S.trimBox.topRightY)+"]"),S.artBox!==null&&ne("/ArtBox ["+I(S.artBox.bottomLeftX)+" "+I(S.artBox.bottomLeftY)+" "+I(S.artBox.topRightX)+" "+I(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&ne("/UserUnit "+S.userUnit),vn.publish("putPage",{objId:ae,pageContext:St[V],pageNumber:V,page:ee}),ne("/Contents "+ve+" 0 R"),ne(">>"),ne("endobj");var Ie=ee.join(`
`);return N===v.ADVANCED&&(Ie+=`
Q`),Pr(ve,!0),pr({data:Ie,filters:Ms(),objectId:ve}),ne("endobj"),ae},pa=g.__private__.putPages=function(){var S,V,ee=[];for(S=1;S<=Vn;S++)St[S].objId=or(),St[S].contentsObjId=or();for(S=1;S<=Vn;S++)ee.push(Ci({number:S,data:ke[S],objId:St[S].objId,contentsObjId:St[S].contentsObjId,mediaBox:St[S].mediaBox,cropBox:St[S].cropBox,bleedBox:St[S].bleedBox,trimBox:St[S].trimBox,artBox:St[S].artBox,userUnit:St[S].userUnit,rootDictionaryObjId:xo,resourceDictionaryObjId:gs}));Pr(xo,!0),ne("<</Type /Pages");var ae="/Kids [";for(V=0;V<Vn;V++)ae+=ee[V]+" 0 R ";ne(ae+"]"),ne("/Count "+Vn),ne(">>"),ne("endobj"),vn.publish("postPutPages")},ma=function(S){vn.publish("putFont",{font:S,out:ne,newObject:fr,putStream:pr}),S.isAlreadyPutted!==!0&&(S.objectNumber=fr(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+Sf(S.postScriptName)),ne("/Subtype /Type1"),typeof S.encoding=="string"&&ne("/Encoding /"+S.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},ga=function(){for(var S in gn)gn.hasOwnProperty(S)&&(h===!1||h===!0&&p.hasOwnProperty(S))&&ma(gn[S])},ol=function(S){S.objectNumber=fr();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[I(S.x),I(S.y),I(S.x+S.width),I(S.y+S.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var ee=S.pages[1].join(`
`);pr({data:ee,additionalKeyValues:V,objectId:S.objectNumber}),ne("endobj")},al=function(){for(var S in Ar)Ar.hasOwnProperty(S)&&ol(Ar[S])},Dh=function(S,V){var ee,ae=[],ve=1/(V-1);for(ee=0;ee<1;ee+=ve)ae.push(ee);if(ae.push(1),S[0].offset!=0){var Ie={offset:0,color:S[0].color};S.unshift(Ie)}if(S[S.length-1].offset!=1){var ze={offset:1,color:S[S.length-1].color};S.push(ze)}for(var nt="",m=0,C=0;C<ae.length;C++){for(ee=ae[C];ee>S[m+1].offset;)m++;var D=S[m].offset,W=(ee-D)/(S[m+1].offset-D),ge=S[m].color,Ne=S[m+1].color;nt+=se(Math.round((1-W)*ge[0]+W*Ne[0]).toString(16))+se(Math.round((1-W)*ge[1]+W*Ne[1]).toString(16))+se(Math.round((1-W)*ge[2]+W*Ne[2]).toString(16))}return nt.trim()},hc=function(S,V){V||(V=21);var ee=fr(),ae=Dh(S.colors,V),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+V+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pr({data:ae,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ee}),ne("endobj"),S.objectNumber=fr(),ne("<< /ShadingType "+S.type),ne("/ColorSpace /DeviceRGB");var Ie="/Coords ["+I(parseFloat(S.coords[0]))+" "+I(parseFloat(S.coords[1]))+" ";S.type===2?Ie+=I(parseFloat(S.coords[2]))+" "+I(parseFloat(S.coords[3])):Ie+=I(parseFloat(S.coords[2]))+" "+I(parseFloat(S.coords[3]))+" "+I(parseFloat(S.coords[4]))+" "+I(parseFloat(S.coords[5])),ne(Ie+="]"),S.matrix&&ne("/Matrix ["+S.matrix.toString()+"]"),ne("/Function "+ee+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Mh=function(S,V){var ee=or(),ae=fr();V.push({resourcesOid:ee,objectOid:ae}),S.objectNumber=ae;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+S.boundingBox.map(I).join(" ")+"]"}),ve.push({key:"XStep",value:I(S.xStep)}),ve.push({key:"YStep",value:I(S.yStep)}),ve.push({key:"Resources",value:ee+" 0 R"}),S.matrix&&ve.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),pr({data:S.stream,additionalKeyValues:ve,objectId:S.objectNumber}),ne("endobj")},va=function(S){var V;for(V in nn)nn.hasOwnProperty(V)&&(nn[V]instanceof Rd?hc(nn[V]):nn[V]instanceof Vf&&Mh(nn[V],S))},ya=function(S){for(var V in S.objectNumber=fr(),ne("<<"),S)switch(V){case"opacity":ne("/ca "+F(S[V]));break;case"stroke-opacity":ne("/CA "+F(S[V]))}ne(">>"),ne("endobj")},bo=function(){var S;for(S in $n)$n.hasOwnProperty(S)&&ya($n[S])},ll=function(){for(var S in ne("/XObject <<"),Ar)Ar.hasOwnProperty(S)&&Ar[S].objectNumber>=0&&ne("/"+S+" "+Ar[S].objectNumber+" 0 R");vn.publish("putXobjectDict"),ne(">>")},pm=function(){Hn.oid=fr(),ne("<<"),ne("/Filter /Standard"),ne("/V "+Hn.v),ne("/R "+Hn.r),ne("/U <"+Hn.toHexString(Hn.U)+">"),ne("/O <"+Hn.toHexString(Hn.O)+">"),ne("/P "+Hn.P),ne(">>"),ne("endobj")},ad=function(){for(var S in ne("/Font <<"),gn)gn.hasOwnProperty(S)&&(h===!1||h===!0&&p.hasOwnProperty(S))&&ne("/"+S+" "+gn[S].objectNumber+" 0 R");ne(">>")},Fh=function(){if(Object.keys(nn).length>0){for(var S in ne("/Shading <<"),nn)nn.hasOwnProperty(S)&&nn[S]instanceof Rd&&nn[S].objectNumber>=0&&ne("/"+S+" "+nn[S].objectNumber+" 0 R");vn.publish("putShadingPatternDict"),ne(">>")}},cl=function(S){if(Object.keys(nn).length>0){for(var V in ne("/Pattern <<"),nn)nn.hasOwnProperty(V)&&nn[V]instanceof g.TilingPattern&&nn[V].objectNumber>=0&&nn[V].objectNumber<S&&ne("/"+V+" "+nn[V].objectNumber+" 0 R");vn.publish("putTilingPatternDict"),ne(">>")}},ld=function(){if(Object.keys($n).length>0){var S;for(S in ne("/ExtGState <<"),$n)$n.hasOwnProperty(S)&&$n[S].objectNumber>=0&&ne("/"+S+" "+$n[S].objectNumber+" 0 R");vn.publish("putGStateDict"),ne(">>")}},Wn=function(S){Pr(S.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ad(),Fh(),cl(S.objectOid),ld(),ll(),ne(">>"),ne("endobj")},cd=function(){var S=[];ga(),bo(),al(),va(S),vn.publish("putResources"),S.forEach(Wn),Wn({resourcesOid:gs,objectOid:Number.MAX_SAFE_INTEGER}),vn.publish("postPutResources")},ud=function(){vn.publish("putAdditionalObjects");for(var S=0;S<je.length;S++){var V=je[S];Pr(V.objId,!0),ne(V.content),ne("endobj")}vn.publish("postPutAdditionalObjects")},Vh=function(S){Cn[S.fontName]=Cn[S.fontName]||{},Cn[S.fontName][S.fontStyle]=S.id},dd=function(S,V,ee,ae,ve){var Ie={id:"F"+(Object.keys(gn).length+1).toString(10),postScriptName:S,fontName:V,fontStyle:ee,encoding:ae,isStandardFont:ve||!1,metadata:{}};return vn.publish("addFont",{font:Ie,instance:this}),gn[Ie.id]=Ie,Vh(Ie),Ie.id},Uh=function(S){for(var V=0,ee=qe.length;V<ee;V++){var ae=dd.call(this,S[V][0],S[V][1],S[V][2],qe[V][3],!0);h===!1&&(p[ae]=!0);var ve=S[V][0].split("-");Vh({id:ae,fontName:ve[0],fontStyle:ve[1]||""})}vn.publish("addFonts",{fonts:gn,dictionary:Cn})},ai=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(ae){var V=ae.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var ee="Error in function "+V.split(`
`)[0].split("<")[0]+": "+ae.message;if(!Ct.console)throw new Error(ee);Ct.console.error(ee,ae),Ct.alert&&alert(ee)}},S.foo.bar=S,S.foo},fc=function(S,V){var ee,ae,ve,Ie,ze,nt,m,C,D;if(ve=(V=V||{}).sourceEncoding||"Unicode",ze=V.outputEncoding,(V.autoencode||ze)&&gn[yt].metadata&&gn[yt].metadata[ve]&&gn[yt].metadata[ve].encoding&&(Ie=gn[yt].metadata[ve].encoding,!ze&&gn[yt].encoding&&(ze=gn[yt].encoding),!ze&&Ie.codePages&&(ze=Ie.codePages[0]),typeof ze=="string"&&(ze=Ie[ze]),ze)){for(m=!1,nt=[],ee=0,ae=S.length;ee<ae;ee++)(C=ze[S.charCodeAt(ee)])?nt.push(String.fromCharCode(C)):nt.push(S[ee]),nt[ee].charCodeAt(0)>>8&&(m=!0);S=nt.join("")}for(ee=S.length;m===void 0&&ee!==0;)S.charCodeAt(ee-1)>>8&&(m=!0),ee--;if(!m)return S;for(nt=V.noBOM?[]:[254,255],ee=0,ae=S.length;ee<ae;ee++){if((D=(C=S.charCodeAt(ee))>>8)>>8)throw new Error("Character at position "+ee+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");nt.push(D),nt.push(C-(D<<8))}return String.fromCharCode.apply(void 0,nt)},ar=g.__private__.pdfEscape=g.pdfEscape=function(S,V){return fc(S,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fs=g.__private__.beginPage=function(S){ke[++Vn]=[],St[Vn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},hd(Vn),Ae(ke[Q])},ul=function(S,V){var ee,ae,ve;switch(n=V||n,typeof S=="string"&&(ee=x(S.toLowerCase()),Array.isArray(ee)&&(ae=ee[0],ve=ee[1])),Array.isArray(S)&&(ae=S[0]*Ye,ve=S[1]*Ye),isNaN(ae)&&(ae=s[0],ve=s[1]),(ae>14400||ve>14400)&&(Mn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ae=Math.min(14400,ae),ve=Math.min(14400,ve)),s=[ae,ve],n.substr(0,1)){case"l":ve>ae&&(s=[ve,ae]);break;case"p":ae>ve&&(s=[ve,ae])}Fs(s),vd(gd),ne(es),xd!==0&&ne(xd+" J"),Nc!==0&&ne(Nc+" j"),vn.publish("addPage",{pageNumber:Vn})},pc=function(S){S>0&&S<=Vn&&(ke.splice(S,1),St.splice(S,1),Vn--,Q>Vn&&(Q=Vn),this.setPage(Q))},hd=function(S){S>0&&S<=Vn&&(Q=S)},Pn=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return ke.length-1},dl=function(S,V,ee){var ae,ve=void 0;return ee=ee||{},S=S!==void 0?S:gn[yt].fontName,V=V!==void 0?V:gn[yt].fontStyle,ae=S.toLowerCase(),Cn[ae]!==void 0&&Cn[ae][V]!==void 0?ve=Cn[ae][V]:Cn[S]!==void 0&&Cn[S][V]!==void 0?ve=Cn[S][V]:ee.disableWarning===!1&&Mn.warn("Unable to look up font label for font '"+S+"', '"+V+"'. Refer to getFontList() for available fonts."),ve||ee.noFallback||(ve=Cn.times[V])==null&&(ve=Cn.times.normal),ve},hl=g.__private__.putInfo=function(){var S=fr(),V=function(ae){return ae};for(var ee in d!==null&&(V=Hn.encryptor(S,0)),ne("<<"),ne("/Producer ("+ar(V("jsPDF "+At.version))+")"),Je)Je.hasOwnProperty(ee)&&Je[ee]&&ne("/"+ee.substr(0,1).toUpperCase()+ee.substr(1)+" ("+ar(V(Je[ee]))+")");ne("/CreationDate ("+ar(V(ue))+")"),ne(">>"),ne("endobj")},_o=g.__private__.putCatalog=function(S){var V=(S=S||{}).rootDictionaryObjId||xo;switch(fr(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+V+" 0 R"),tt||(tt="fullwidth"),tt){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ee=""+tt;ee.substr(ee.length-1)==="%"&&(tt=parseInt(tt)/100),typeof tt=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+F(tt)+"]")}switch(Te||(Te="continuous"),Te){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}be&&ne("/PageMode /"+be),vn.publish("putCatalog"),ne(">>"),ne("endobj")},mm=g.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(le+1)),ne("/Root "+le+" 0 R"),ne("/Info "+(le-1)+" 0 R"),d!==null&&ne("/Encrypt "+Hn.oid+" 0 R"),ne("/ID [ <"+ie+"> <"+ie+"> ]"),ne(">>")},Bh=g.__private__.putHeader=function(){ne("%PDF-"+b),ne("%ºß¬à")},gm=g.__private__.putXRef=function(){var S="0000000000";ne("xref"),ne("0 "+(le+1)),ne("0000000000 65535 f ");for(var V=1;V<=le;V++)typeof oe[V]=="function"?ne((S+oe[V]()).slice(-10)+" 00000 n "):oe[V]!==void 0?ne((S+oe[V]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},So=g.__private__.buildDocument=function(){ut(),Ae(we),vn.publish("buildDocument"),Bh(),pa(),ud(),cd(),d!==null&&pm(),hl(),_o();var S=xe;return gm(),mm(),ne("startxref"),ne(""+S),ne("%%EOF"),Ae(ke[Q]),we.join(`
`)},mc=g.__private__.getBlob=function(S){return new Blob([dt(S)],{type:"application/pdf"})},gc=g.output=g.__private__.output=ai(function(S,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",S){case void 0:return So();case"save":g.save(V.filename);break;case"arraybuffer":return dt(So());case"blob":return mc(So());case"bloburi":case"bloburl":if(Ct.URL!==void 0&&typeof Ct.URL.createObjectURL=="function")return Ct.URL&&Ct.URL.createObjectURL(mc(So()))||void 0;Mn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ee="",ae=So();try{ee=$_(ae)}catch{ee=$_(unescape(encodeURIComponent(ae)))}return"data:application/pdf;filename="+V.filename+";base64,"+ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ct)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ie=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(ve=V.pdfObjectUrl,Ie="");var ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+Ie+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",nt=Ct.open();return nt!==null&&nt.document.write(ze),nt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ct)==="[object Window]"){var m='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',C=Ct.open();if(C!==null){C.document.write(m);var D=this;C.document.documentElement.querySelector("#pdfViewer").onload=function(){C.document.title=V.filename,C.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(D.output("bloburl"))}}return C}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ct)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var W='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',ge=Ct.open();if(ge!==null&&(ge.document.write(W),ge.document.title=V.filename),ge||typeof safari>"u")return ge;break;case"datauri":case"dataurl":return Ct.document.location.href=this.output("datauristring",V);default:return null}}),wa=function(S){return Array.isArray(Qi)===!0&&Qi.indexOf(S)>-1};switch(r){case"pt":Ye=1;break;case"mm":Ye=72/25.4;break;case"cm":Ye=72/2.54;break;case"in":Ye=72;break;case"px":Ye=wa("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ye=12;break;case"ex":Ye=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ye=r}var Hn=null;Ee(),Y();var zh=function(S){return d!==null?Hn.encryptor(S,0):function(V){return V}},fd=g.__private__.getPageInfo=g.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:St[S].objId,pageNumber:S,pageContext:St[S]}},It=g.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in St)if(St[V].objId===S)break;return fd(V)},xa=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:St[Q].objId,pageNumber:Q,pageContext:St[Q]}};g.addPage=function(){return ul.apply(this,arguments),this},g.setPage=function(){return hd.apply(this,arguments),Ae.call(this,ke[Q]),this},g.insertPage=function(S){return this.addPage(),this.movePage(Q,S),this},g.movePage=function(S,V){var ee,ae;if(S>V){ee=ke[S],ae=St[S];for(var ve=S;ve>V;ve--)ke[ve]=ke[ve-1],St[ve]=St[ve-1];ke[V]=ee,St[V]=ae,this.setPage(V)}else if(S<V){ee=ke[S],ae=St[S];for(var Ie=S;Ie<V;Ie++)ke[Ie]=ke[Ie+1],St[Ie]=St[Ie+1];ke[V]=ee,St[V]=ae,this.setPage(V)}return this},g.deletePage=function(){return pc.apply(this,arguments),this},g.__private__.text=g.text=function(S,V,ee,ae,ve){var Ie,ze,nt,m,C,D,W,ge,Ne,$e=(ae=ae||{}).scope||this;if(typeof S=="number"&&typeof V=="number"&&(typeof ee=="string"||Array.isArray(ee))){var Vt=ee;ee=V,V=S,S=Vt}if(arguments[3]instanceof ht?(P("The transform parameter of text() with a Matrix value"),Ne=ve):(nt=arguments[4],m=arguments[5],jn(W=arguments[3])==="object"&&W!==null||(typeof nt=="string"&&(m=nt,nt=null),typeof W=="string"&&(m=W,W=null),typeof W=="number"&&(nt=W,W=null),ae={flags:W,angle:nt,align:m})),isNaN(V)||isNaN(ee)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return $e;var on="",Ut=!1,Sn=typeof ae.lineHeightFactor=="number"?ae.lineHeightFactor:_n,On=$e.internal.scaleFactor;function Po(Un){return Un=Un.split("	").join(Array(ae.TabLen||9).join(" ")),ar(Un,W)}function ts(Un){for(var Bn,gr=Un.concat(),Dr=[],xl=gr.length;xl--;)typeof(Bn=gr.shift())=="string"?Dr.push(Bn):Array.isArray(Un)&&(Bn.length===1||Bn[1]===void 0&&Bn[2]===void 0)?Dr.push(Bn[0]):Dr.push([Bn[0],Bn[1],Bn[2]]);return Dr}function Na(Un,Bn){var gr;if(typeof Un=="string")gr=Bn(Un)[0];else if(Array.isArray(Un)){for(var Dr,xl,Em=Un.concat(),tf=[],fy=Em.length;fy--;)typeof(Dr=Em.shift())=="string"?tf.push(Bn(Dr)[0]):Array.isArray(Dr)&&typeof Dr[0]=="string"&&(xl=Bn(Dr[0],Dr[1],Dr[2]),tf.push([xl[0],xl[1],xl[2]]));gr=tf}return gr}var Ea=!1,ym=!0;if(typeof S=="string")Ea=!0;else if(Array.isArray(S)){var wm=S.concat();ze=[];for(var Gh,ns=wm.length;ns--;)(typeof(Gh=wm.shift())!="string"||Array.isArray(Gh)&&typeof Gh[0]!="string")&&(ym=!1);Ea=ym}if(Ea===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var Kh=Ze/$e.internal.scaleFactor,Yh=Kh*(Sn-1);switch(ae.baseline){case"bottom":ee-=Yh;break;case"top":ee+=Kh-Yh;break;case"hanging":ee+=Kh-2*Yh;break;case"middle":ee+=Kh/2-Yh}if((D=ae.maxWidth||0)>0&&(typeof S=="string"?S=$e.splitTextToSize(S,D):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(Un,Bn){return Un.concat($e.splitTextToSize(Bn,D))},[]))),Ie={text:S,x:V,y:ee,options:ae,mutex:{pdfEscape:ar,activeFontKey:yt,fonts:gn,activeFontSize:Ze}},vn.publish("preProcessText",Ie),S=Ie.text,nt=(ae=Ie.options).angle,!(Ne instanceof ht)&&nt&&typeof nt=="number"){nt*=Math.PI/180,ae.rotationDirection===0&&(nt=-nt),N===v.ADVANCED&&(nt=-nt);var Qh=Math.cos(nt),xm=Math.sin(nt);Ne=new ht(Qh,xm,-xm,Qh,0,0)}else nt&&nt instanceof ht&&(Ne=nt);N!==v.ADVANCED||Ne||(Ne=ms),(C=ae.charSpace||pl)!==void 0&&(on+=I(T(C))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ge=ae.horizontalScale)!==void 0&&(on+=I(100*ge)+` Tz
`),ae.lang;var li=-1,rx=ae.renderingMode!==void 0?ae.renderingMode:ae.stroke,bm=$e.internal.getCurrentPageInfo().pageContext;switch(rx){case 0:case!1:case"fill":li=0;break;case 1:case!0:case"stroke":li=1;break;case 2:case"fillThenStroke":li=2;break;case 3:case"invisible":li=3;break;case 4:case"fillAndAddForClipping":li=4;break;case 5:case"strokeAndAddPathForClipping":li=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":li=6;break;case 7:case"addToPathForClipping":li=7}var cy=bm.usedRenderingMode!==void 0?bm.usedRenderingMode:-1;li!==-1?on+=li+` Tr
`:cy!==-1&&(on+=`0 Tr
`),li!==-1&&(bm.usedRenderingMode=li),m=ae.align||"left";var Zi,Xh=Ze*Sn,uy=$e.internal.pageSize.getWidth(),dy=gn[yt];C=ae.charSpace||pl,D=ae.maxWidth||0,W=Object.assign({autoencode:!0,noBOM:!0},ae.flags);var Tc=[],bd=function(Un){return $e.getStringUnitWidth(Un,{font:dy,charSpace:C,fontSize:Ze,doKerning:!1})*Ze/On};if(Object.prototype.toString.call(S)==="[object Array]"){var ci;ze=ts(S),m!=="left"&&(Zi=ze.map(bd));var Vs,Ic=0;if(m==="right"){V-=Zi[0],S=[],ns=ze.length;for(var vl=0;vl<ns;vl++)vl===0?(Vs=Ii(V),ci=Or(ee)):(Vs=T(Ic-Zi[vl]),ci=-Xh),S.push([ze[vl],Vs,ci]),Ic=Zi[vl]}else if(m==="center"){V-=Zi[0]/2,S=[],ns=ze.length;for(var yl=0;yl<ns;yl++)yl===0?(Vs=Ii(V),ci=Or(ee)):(Vs=T((Ic-Zi[yl])/2),ci=-Xh),S.push([ze[yl],Vs,ci]),Ic=Zi[yl]}else if(m==="left"){S=[],ns=ze.length;for(var Zh=0;Zh<ns;Zh++)S.push(ze[Zh])}else if(m==="justify"&&dy.encoding==="Identity-H"){S=[],ns=ze.length,D=D!==0?D:uy;for(var wl=0,mr=0;mr<ns;mr++)if(ci=mr===0?Or(ee):-Xh,Vs=mr===0?Ii(V):wl,mr<ns-1){var _m=T((D-Zi[mr])/(ze[mr].split(" ").length-1)),Us=ze[mr].split(" ");S.push([Us[0]+" ",Vs,ci]),wl=0;for(var Ji=1;Ji<Us.length;Ji++){var Jh=(bd(Us[Ji-1]+" "+Us[Ji])-bd(Us[Ji]))*On+_m;Ji==Us.length-1?S.push([Us[Ji],Jh,0]):S.push([Us[Ji]+" ",Jh,0]),wl-=Jh}}else S.push([ze[mr],Vs,ci]);S.push(["",wl,0])}else{if(m!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],ns=ze.length,D=D!==0?D:uy,mr=0;mr<ns;mr++)ci=mr===0?Or(ee):-Xh,Vs=mr===0?Ii(V):0,mr<ns-1?Tc.push(I(T((D-Zi[mr])/(ze[mr].split(" ").length-1)))):Tc.push(0),S.push([ze[mr],Vs,ci])}}var hy=typeof ae.R2L=="boolean"?ae.R2L:ce;hy===!0&&(S=Na(S,function(Un,Bn,gr){return[Un.split("").reverse().join(""),Bn,gr]})),Ie={text:S,x:V,y:ee,options:ae,mutex:{pdfEscape:ar,activeFontKey:yt,fonts:gn,activeFontSize:Ze}},vn.publish("postProcessText",Ie),S=Ie.text,Ut=Ie.mutex.isHex||!1;var Sm=gn[yt].encoding;Sm!=="WinAnsiEncoding"&&Sm!=="StandardEncoding"||(S=Na(S,function(Un,Bn,gr){return[Po(Un),Bn,gr]})),ze=ts(S),S=[];for(var _d,Sd,kc,Nd=0,ef=1,Ed=Array.isArray(ze[0])?ef:Nd,jc="",Nm=function(Un,Bn,gr){var Dr="";return gr instanceof ht?(gr=typeof ae.angle=="number"?ii(gr,new ht(1,0,0,1,Un,Bn)):ii(new ht(1,0,0,1,Un,Bn),gr),N===v.ADVANCED&&(gr=ii(new ht(1,0,0,-1,0,0),gr)),Dr=gr.join(" ")+` Tm
`):Dr=I(Un)+" "+I(Bn)+` Td
`,Dr},eo=0;eo<ze.length;eo++){switch(jc="",Ed){case ef:kc=(Ut?"<":"(")+ze[eo][0]+(Ut?">":")"),_d=parseFloat(ze[eo][1]),Sd=parseFloat(ze[eo][2]);break;case Nd:kc=(Ut?"<":"(")+ze[eo]+(Ut?">":")"),_d=Ii(V),Sd=Or(ee)}Tc!==void 0&&Tc[eo]!==void 0&&(jc=Tc[eo]+` Tw
`),eo===0?S.push(jc+Nm(_d,Sd,Ne)+kc):Ed===Nd?S.push(jc+kc):Ed===ef&&S.push(jc+Nm(_d,Sd,Ne)+kc)}S=Ed===Nd?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var to=`BT
/`;return to+=yt+" "+Ze+` Tf
`,to+=I(Ze*Sn)+` TL
`,to+=Ao+`
`,to+=on,to+=S,ne(to+="ET"),p[yt]=!0,$e};var vm=g.__private__.clip=g.clip=function(S){return ne(S==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return vm("evenodd")},g.__private__.discardPath=g.discardPath=function(){return ne("n"),this};var Xi=g.__private__.isValidStyle=function(S){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(V=!0),V};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(S){return Xi(S)&&(u=S),this};var qh=g.__private__.getStyle=g.getStyle=function(S){var V=u;switch(S){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=S}return V},Pi=g.close=function(){return ne("h"),this};g.stroke=function(){return ne("S"),this},g.fill=function(S){return vc("f",S),this},g.fillEvenOdd=function(S){return vc("f*",S),this},g.fillStroke=function(S){return vc("B",S),this},g.fillStrokeEvenOdd=function(S){return vc("B*",S),this};var vc=function(S,V){jn(V)==="object"?wc(V,S):ne(S)},pd=function(S){S===null||N===v.ADVANCED&&S===void 0||(S=qh(S),ne(S))};function yc(S,V,ee,ae,ve){var Ie=new Vf(V||this.boundingBox,ee||this.xStep,ae||this.yStep,this.gState,ve||this.matrix);Ie.stream=this.stream;var ze=S+"$$"+this.cloneIndex+++"$$";return Cr(ze,Ie),Ie}var wc=function(S,V){var ee=fa[S.key],ae=nn[ee];if(ae instanceof Rd)ne("q"),ne($h(V)),ae.gState&&g.setGState(ae.gState),ne(S.matrix.toString()+" cm"),ne("/"+ee+" sh"),ne("Q");else if(ae instanceof Vf){var ve=new ht(1,0,0,-1,0,vs());S.matrix&&(ve=ve.multiply(S.matrix||ms),ee=yc.call(ae,S.key,S.boundingBox,S.xStep,S.yStep,ve).id),ne("q"),ne("/Pattern cs"),ne("/"+ee+" scn"),ae.gState&&g.setGState(ae.gState),ne(V),ne("Q")}},$h=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},No=g.moveTo=function(S,V){return ne(I(T(S))+" "+I(G(V))+" m"),this},Ti=g.lineTo=function(S,V){return ne(I(T(S))+" "+I(G(V))+" l"),this},Eo=g.curveTo=function(S,V,ee,ae,ve,Ie){return ne([I(T(S)),I(G(V)),I(T(ee)),I(G(ae)),I(T(ve)),I(G(Ie)),"c"].join(" ")),this};g.__private__.line=g.line=function(S,V,ee,ae,ve){if(isNaN(S)||isNaN(V)||isNaN(ee)||isNaN(ae)||!Xi(ve))throw new Error("Invalid arguments passed to jsPDF.line");return N===v.COMPAT?this.lines([[ee-S,ae-V]],S,V,[1,1],ve||"S"):this.lines([[ee-S,ae-V]],S,V,[1,1]).stroke()},g.__private__.lines=g.lines=function(S,V,ee,ae,ve,Ie){var ze,nt,m,C,D,W,ge,Ne,$e,Vt,on,Ut;if(typeof S=="number"&&(Ut=ee,ee=V,V=S,S=Ut),ae=ae||[1,1],Ie=Ie||!1,isNaN(V)||isNaN(ee)||!Array.isArray(S)||!Array.isArray(ae)||!Xi(ve)||typeof Ie!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(No(V,ee),ze=ae[0],nt=ae[1],C=S.length,Vt=V,on=ee,m=0;m<C;m++)(D=S[m]).length===2?(Vt=D[0]*ze+Vt,on=D[1]*nt+on,Ti(Vt,on)):(W=D[0]*ze+Vt,ge=D[1]*nt+on,Ne=D[2]*ze+Vt,$e=D[3]*nt+on,Vt=D[4]*ze+Vt,on=D[5]*nt+on,Eo(W,ge,Ne,$e,Vt,on));return Ie&&Pi(),pd(ve),this},g.path=function(S){for(var V=0;V<S.length;V++){var ee=S[V],ae=ee.c;switch(ee.op){case"m":No(ae[0],ae[1]);break;case"l":Ti(ae[0],ae[1]);break;case"c":Eo.apply(this,ae);break;case"h":Pi()}}return this},g.__private__.rect=g.rect=function(S,V,ee,ae,ve){if(isNaN(S)||isNaN(V)||isNaN(ee)||isNaN(ae)||!Xi(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return N===v.COMPAT&&(ae=-ae),ne([I(T(S)),I(G(V)),I(T(ee)),I(T(ae)),"re"].join(" ")),pd(ve),this},g.__private__.triangle=g.triangle=function(S,V,ee,ae,ve,Ie,ze){if(isNaN(S)||isNaN(V)||isNaN(ee)||isNaN(ae)||isNaN(ve)||isNaN(Ie)||!Xi(ze))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ee-S,ae-V],[ve-ee,Ie-ae],[S-ve,V-Ie]],S,V,[1,1],ze,!0),this},g.__private__.roundedRect=g.roundedRect=function(S,V,ee,ae,ve,Ie,ze){if(isNaN(S)||isNaN(V)||isNaN(ee)||isNaN(ae)||isNaN(ve)||isNaN(Ie)||!Xi(ze))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var nt=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*ee),Ie=Math.min(Ie,.5*ae),this.lines([[ee-2*ve,0],[ve*nt,0,ve,Ie-Ie*nt,ve,Ie],[0,ae-2*Ie],[0,Ie*nt,-ve*nt,Ie,-ve,Ie],[2*ve-ee,0],[-ve*nt,0,-ve,-Ie*nt,-ve,-Ie],[0,2*Ie-ae],[0,-Ie*nt,ve*nt,-Ie,ve,-Ie]],S+ve,V,[1,1],ze,!0),this},g.__private__.ellipse=g.ellipse=function(S,V,ee,ae,ve){if(isNaN(S)||isNaN(V)||isNaN(ee)||isNaN(ae)||!Xi(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ie=4/3*(Math.SQRT2-1)*ee,ze=4/3*(Math.SQRT2-1)*ae;return No(S+ee,V),Eo(S+ee,V-ze,S+Ie,V-ae,S,V-ae),Eo(S-Ie,V-ae,S-ee,V-ze,S-ee,V),Eo(S-ee,V+ze,S-Ie,V+ae,S,V+ae),Eo(S+Ie,V+ae,S+ee,V+ze,S+ee,V),pd(ve),this},g.__private__.circle=g.circle=function(S,V,ee,ae){if(isNaN(S)||isNaN(V)||isNaN(ee)||!Xi(ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,V,ee,ee,ae)},g.setFont=function(S,V,ee){return ee&&(V=$(V,ee)),yt=dl(S,V,{disableWarning:!1}),this};var md=g.__private__.getFont=g.getFont=function(){return gn[dl.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var S,V,ee={};for(S in Cn)if(Cn.hasOwnProperty(S))for(V in ee[S]=[],Cn[S])Cn[S].hasOwnProperty(V)&&ee[S].push(V);return ee},g.addFont=function(S,V,ee,ae,ve){var Ie=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ie.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&Ie.indexOf(arguments[3])==-1&&(ee=$(ee,ae)),ve=ve||"Identity-H",dd.call(this,S,V,ee,ve)};var _n,gd=t.lineWidth||.200025,xc=g.__private__.getLineWidth=g.getLineWidth=function(){return gd},vd=g.__private__.setLineWidth=g.setLineWidth=function(S){return gd=S,ne(I(T(S))+" w"),this};g.__private__.setLineDash=At.API.setLineDash=At.API.setLineDashPattern=function(S,V){if(S=S||[],V=V||0,isNaN(V)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(ee){return I(T(ee))}).join(" "),V=I(T(V)),ne("["+S+"] "+V+" d"),this};var yd=g.__private__.getLineHeight=g.getLineHeight=function(){return Ze*_n};g.__private__.getLineHeight=g.getLineHeight=function(){return Ze*_n};var wd=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(_n=S),this},fl=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return _n};wd(t.lineHeight);var Ii=g.__private__.getHorizontalCoordinate=function(S){return T(S)},Or=g.__private__.getVerticalCoordinate=function(S){return N===v.ADVANCED?S:St[Q].mediaBox.topRightY-St[Q].mediaBox.bottomLeftY-T(S)},Wh=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(S){return I(Ii(S))},ba=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(S){return I(Or(S))},es=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return oi(es)},g.__private__.setStrokeColor=g.setDrawColor=function(S,V,ee,ae){return es=Ds({ch1:S,ch2:V,ch3:ee,ch4:ae,pdfColorType:"draw",precision:2}),ne(es),this};var bc=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return oi(bc)},g.__private__.setFillColor=g.setFillColor=function(S,V,ee,ae){return bc=Ds({ch1:S,ch2:V,ch3:ee,ch4:ae,pdfColorType:"fill",precision:2}),ne(bc),this};var Ao=t.textColor||"0 g",_c=g.__private__.getTextColor=g.getTextColor=function(){return oi(Ao)};g.__private__.setTextColor=g.setTextColor=function(S,V,ee,ae){return Ao=Ds({ch1:S,ch2:V,ch3:ee,ch4:ae,pdfColorType:"text",precision:3}),this};var pl=t.charSpace,Sc=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(pl||0)};g.__private__.setCharSpace=g.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return pl=S,this};var xd=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(S){var V=g.CapJoinStyles[S];if(V===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xd=V,ne(V+" J"),this};var Nc=0;g.__private__.setLineJoin=g.setLineJoin=function(S){var V=g.CapJoinStyles[S];if(V===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nc=V,ne(V+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(I(T(S))+" M"),this},g.GState=l2,g.setGState=function(S){(S=typeof S=="string"?$n[Jr[S]]:_a(null,S)).equals(Ei)||(ne("/"+S.id+" gs"),Ei=S)};var _a=function(S,V){if(!S||!Jr[S]){var ee=!1;for(var ae in $n)if($n.hasOwnProperty(ae)&&$n[ae].equals(V)){ee=!0;break}if(ee)V=$n[ae];else{var ve="GS"+(Object.keys($n).length+1).toString(10);$n[ve]=V,V.id=ve}return S&&(Jr[S]=V.id),vn.publish("addGState",V),V}};g.addGState=function(S,V){return _a(S,V),this},g.saveGraphicsState=function(){return ne("q"),si.push({key:yt,size:Ze,color:Ao}),this},g.restoreGraphicsState=function(){ne("Q");var S=si.pop();return yt=S.key,Ze=S.size,Ao=S.color,Ei=null,this},g.setCurrentTransformationMatrix=function(S){return ne(S.toString()+" cm"),this},g.comment=function(S){return ne("#"+S),this};var ml=function(S,V){var ee=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(Ie){isNaN(Ie)||(ee=parseFloat(Ie))}});var ae=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ae},set:function(Ie){isNaN(Ie)||(ae=parseFloat(Ie))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(Ie){ve=Ie.toString()}}),this},Ec=function(S,V,ee,ae){ml.call(this,S,V),this.type="rect";var ve=ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(ze){isNaN(ze)||(ve=parseFloat(ze))}});var Ie=ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ie},set:function(ze){isNaN(ze)||(Ie=parseFloat(ze))}}),this},gl=function(){this.page=Vn,this.currentPage=Q,this.pages=ke.slice(0),this.pagesContext=St.slice(0),this.x=Xn,this.y=Zt,this.matrix=qr,this.width=Sa(Q),this.height=vs(Q),this.outputDestination=We,this.id="",this.objectNumber=-1};gl.prototype.restore=function(){Vn=this.page,Q=this.currentPage,St=this.pagesContext,ke=this.pages,Xn=this.x,Zt=this.y,qr=this.matrix,Cc(Q,this.width),Pc(Q,this.height),We=this.outputDestination};var Ac=function(S,V,ee,ae,ve){Ai.push(new gl),Vn=Q=0,ke=[],Xn=S,Zt=V,qr=ve,Fs([ee,ae])},Hh=function(S){if(ps[S])Ai.pop().restore();else{var V=new gl,ee="Xo"+(Object.keys(Ar).length+1).toString(10);V.id=ee,ps[S]=ee,Ar[ee]=V,vn.publish("addFormObject",V),Ai.pop().restore()}};for(var Co in g.beginFormObject=function(S,V,ee,ae,ve){return Ac(S,V,ee,ae,ve),this},g.endFormObject=function(S){return Hh(S),this},g.doFormObject=function(S,V){var ee=Ar[ps[S]];return ne("q"),ne(V.toString()+" cm"),ne("/"+ee.id+" Do"),ne("Q"),this},g.getFormObject=function(S){var V=Ar[ps[S]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},g.save=function(S,V){return S=S||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(jd(mc(So()),S),typeof jd.unload=="function"&&Ct.setTimeout&&setTimeout(jd.unload,911),this):new Promise(function(ee,ae){try{var ve=jd(mc(So()),S);typeof jd.unload=="function"&&Ct.setTimeout&&setTimeout(jd.unload,911),ee(ve)}catch(Ie){ae(Ie.message)}})},At.API)At.API.hasOwnProperty(Co)&&(Co==="events"&&At.API.events.length?function(S,V){var ee,ae,ve;for(ve=V.length-1;ve!==-1;ve--)ee=V[ve][0],ae=V[ve][1],S.subscribe.apply(S,[ee].concat(typeof ae=="function"?[ae]:ae))}(vn,At.API.events):g[Co]=At.API[Co]);var Sa=g.getPageWidth=function(S){return(St[S=S||Q].mediaBox.topRightX-St[S].mediaBox.bottomLeftX)/Ye},Cc=g.setPageWidth=function(S,V){St[S].mediaBox.topRightX=V*Ye+St[S].mediaBox.bottomLeftX},vs=g.getPageHeight=function(S){return(St[S=S||Q].mediaBox.topRightY-St[S].mediaBox.bottomLeftY)/Ye},Pc=g.setPageHeight=function(S,V){St[S].mediaBox.topRightY=V*Ye+St[S].mediaBox.bottomLeftY};return g.internal={pdfEscape:ar,getStyle:qh,getFont:md,getFontSize:X,getCharSpace:Sc,getTextColor:_c,getLineHeight:yd,getLineHeightFactor:fl,getLineWidth:xc,write:_t,getHorizontalCoordinate:Ii,getVerticalCoordinate:Or,getCoordinateString:Wh,getVerticalCoordinateString:ba,collections:{},newObject:fr,newAdditionalObject:dc,newObjectDeferred:or,newObjectDeferredBegin:Pr,getFilters:Ms,putStream:pr,events:vn,scaleFactor:Ye,pageSize:{getWidth:function(){return Sa(Q)},setWidth:function(S){Cc(Q,S)},getHeight:function(){return vs(Q)},setHeight:function(S){Pc(Q,S)}},encryptionOptions:d,encryption:Hn,getEncryptor:zh,output:gc,getNumberOfPages:Pn,pages:ke,out:ne,f2:F,f3:k,getPageInfo:fd,getPageInfoByObjId:It,getCurrentPageInfo:xa,getPDFVersion:w,Point:ml,Rectangle:Ec,Matrix:ht,hasHotfix:wa},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Sa(Q)},set:function(S){Cc(Q,S)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return vs(Q)},set:function(S){Pc(Q,S)},enumerable:!0,configurable:!0}),Uh.call(g,qe),yt="F1",ul(s,n),vn.publish("initialized"),g}_f.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},_f.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},_f.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},_f.prototype.processOwnerPassword=function(t,e){return H_(W_(e).substr(0,5),t)},_f.prototype.encryptor=function(t,e){var n=W_(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return H_(n,r)}},l2.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||jn(t)!==jn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},At.API={events:[]},At.version="3.0.1";var ur=At.API,s4=1,Oh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hf=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Bt=function(t){return t.toFixed(2)},Hc=function(t){return t.toFixed(5)};ur.__acroform__={};var Ni=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},YT=function(t){return t*s4},Pa=function(t){var e=new q7,n=gt.internal.getHeight(t)||0,r=gt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Bt(r)),Number(Bt(n))],e},loe=ur.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},coe=ur.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},uoe=ur.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},br=ur.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return uoe(t,e-1)},_r=ur.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return loe(t,e-1)},Sr=ur.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return coe(t,e-1)},doe=ur.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=t[0],i=t[1],o=t[2],a=t[3],c={};return c.lowerLeft_X=n(s)||0,c.lowerLeft_Y=r(i+a)||0,c.upperRight_X=n(s+o)||0,c.upperRight_Y=r(i)||0,[Number(Bt(c.lowerLeft_X)),Number(Bt(c.lowerLeft_Y)),Number(Bt(c.upperRight_X)),Number(Bt(c.upperRight_Y))]},hoe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=G_(t,n),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+Bt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Pa(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},G_=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(k){return k.split(`
`)}):s.map(function(k){return[k]});var i=n,o=gt.internal.getHeight(t)||0;o=o<0?-o:o;var a=gt.internal.getWidth(t)||0;a=a<0?-a:a;var c=function(k,T,O){if(k+1<s.length){var G=T+" "+s[k+1][0];return m0(G,t,O).width<=a-4}return!1};i++;e:for(;i>0;){e="",i--;var u,d,h=m0("3",t,i).height,p=t.multiline?o-i:(o-h)/2,g=p+=2,b=0,w=0,_=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+m0(e,t,i=12).width+", FieldWidth:"+a+`
`;break}for(var x="",v=0,N=0;N<s.length;N++)if(s.hasOwnProperty(N)){var R=!1;if(s[N].length!==1&&_!==s[N].length-1){if((h+2)*(v+2)+2>o)continue e;x+=s[N][_],R=!0,w=N,N--}else{x=(x+=s[N][_]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var M=parseInt(N),$=c(M,x,i),I=N>=s.length-1;if($&&!I){x+=" ",_=0;continue}if($||I){if(I)w=M;else if(t.multiline&&(h+2)*(v+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(v+2)+2>o)continue e;w=M}}for(var P="",L=b;L<=w;L++){var F=s[L];if(t.multiline){if(L===w){P+=F[_]+" ",_=(_+1)%F.length;continue}if(L===b){P+=F[F.length-1]+" ";continue}}P+=F[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,d=m0(P,t,i).width,t.textAlign){case"right":u=a-d-2;break;case"center":u=(a-d)/2;break;case"left":default:u=2}e+=Bt(u)+" "+Bt(g)+` Td
`,e+="("+Oh(P)+`) Tj
`,e+=-Bt(u)+` 0 Td
`,g=-(i+2),d=0,b=R?w:w+1,v++,x=""}break}return r.text=e,r.fontSize=i,r},m0=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},foe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},poe=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},moe=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,s=t[n];e.internal.newObjectDeferredBegin(s.objId,!0),jn(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete t[r]}},goe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(da.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(foe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");s4=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new $7,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var i=r[s];i.objId=void 0,i.hasAnnotation&&poe(i,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,s){var i=!r;for(var o in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],c=[],u=a.Rect;if(a.Rect&&(a.Rect=doe(a.Rect,s)),s.internal.newObjectDeferredBegin(a.objId,!0),a.DA=gt.createDefaultAppearanceStream(a),jn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(c=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=hoe(a);c.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var h="";for(var p in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(p)){var g=a.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var b=g[o];typeof b=="function"&&(b=b.call(s,a)),h+="/"+o+" "+b+" ",s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b)}}else typeof(b=g)=="function"&&(b=b.call(s,a)),h+="/"+o+" "+b,s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:a.objId}),s.internal.out("endobj")}i&&moe(s.internal.acroformPlugin.xForms,s)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},z7=ur.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),jn(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),s+="("+Oh(r(t[i].toString()))+")"):s+=t[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Tb=function(t,e,n){var r=function(s){return s};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Oh(r(t))+")"},Ma=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ma.prototype.toString=function(){return this.objId+" 0 R"},Ma.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ma.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],s=this[r];s&&(Array.isArray(s)?t.push({key:r,value:z7(s,this.objId,this.scope)}):s instanceof Ma?(s.scope=this.scope,t.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:r,value:s}))}return t};var q7=function(){Ma.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ni(q7,Ma);var $7=function(){Ma.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Oh(n(t))+")"}},set:function(n){t=n}})};Ni($7,Ma);var da=function t(){Ma.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!br(e,3)},set:function(x){x?this.F=_r(e,3):this.F=Sr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof c2)return;i="FieldObject"+t.FieldNum++}var x=function(v){return v};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Oh(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/s4:u},set:function(x){u=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof c2||this instanceof Jd))return Tb(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=x}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Kr?p:Tb(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=this instanceof Kr?x:x.substr(0,1)==="("?hf(x.substr(1,x.length-2)):hf(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Kr?hf(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof Kr?"/"+x:x}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Kr?g:Tb(g,this.objId,this.scope)},set:function(x){x=x.toString(),g=this instanceof Kr?x:x.substr(0,1)==="("?hf(x.substr(1,x.length-2)):hf(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Kr?hf(g.substr(1,g.length-1)):g},set:function(x){x=x.toString(),g=this instanceof Kr?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(x){x=!!x,w=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(x){b=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,1)},set:function(x){x?this.Ff=_r(this.Ff,1):this.Ff=Sr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,2)},set:function(x){x?this.Ff=_r(this.Ff,2):this.Ff=Sr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,3)},set:function(x){x?this.Ff=_r(this.Ff,3):this.Ff=Sr(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');_=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(_){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:_=2;break;case"center":case 1:_=1;break;case"left":case 0:default:_=0}}})};Ni(da,Ma);var sp=function(){da.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return z7(e,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=function(i,o,a){a||(a=1);for(var c,u=[];c=o.exec(i);)u.push(c[a]);return u}(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,18)},set:function(n){n?this.Ff=_r(this.Ff,18):this.Ff=Sr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=_r(this.Ff,19):this.Ff=Sr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,20)},set:function(n){n?(this.Ff=_r(this.Ff,20),e.sort()):this.Ff=Sr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,22)},set:function(n){n?this.Ff=_r(this.Ff,22):this.Ff=Sr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,23)},set:function(n){n?this.Ff=_r(this.Ff,23):this.Ff=Sr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,27)},set:function(n){n?this.Ff=_r(this.Ff,27):this.Ff=Sr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ni(sp,da);var ip=function(){sp.call(this),this.fontName="helvetica",this.combo=!1};Ni(ip,sp);var op=function(){ip.call(this),this.combo=!0};Ni(op,ip);var H0=function(){op.call(this),this.edit=!0};Ni(H0,op);var Kr=function(){da.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,15)},set:function(n){n?this.Ff=_r(this.Ff,15):this.Ff=Sr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,16)},set:function(n){n?this.Ff=_r(this.Ff,16):this.Ff=Sr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,17)},set:function(n){n?this.Ff=_r(this.Ff,17):this.Ff=Sr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,26)},set:function(n){n?this.Ff=_r(this.Ff,26):this.Ff=Sr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+Oh(n(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){jn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ni(Kr,da);var G0=function(){Kr.call(this),this.pushButton=!0};Ni(G0,Kr);var ap=function(){Kr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ni(ap,Kr);var c2=function(){var t,e;da.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(a){return a};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),r)o.push("/"+i+" ("+Oh(s(r[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){jn(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ni(c2,da),ap.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},ap.prototype.createOption=function(t){var e=new c2;return e.Parent=this,e.optionName=t,this.Kids.push(e),voe.call(this.scope,e),e};var K0=function(){Kr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gt.CheckBox.createAppearanceStream()};Ni(K0,Kr);var Jd=function(){da.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,13)},set:function(e){e?this.Ff=_r(this.Ff,13):this.Ff=Sr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,21)},set:function(e){e?this.Ff=_r(this.Ff,21):this.Ff=Sr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,23)},set:function(e){e?this.Ff=_r(this.Ff,23):this.Ff=Sr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,24)},set:function(e){e?this.Ff=_r(this.Ff,24):this.Ff=Sr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,25)},set:function(e){e?this.Ff=_r(this.Ff,25):this.Ff=Sr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,26)},set:function(e){e?this.Ff=_r(this.Ff,26):this.Ff=Sr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ni(Jd,da);var Y0=function(){Jd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,14)},set:function(t){t?this.Ff=_r(this.Ff,14):this.Ff=Sr(this.Ff,14)}}),this.password=!0};Ni(Y0,Jd);var gt={CheckBox:{createAppearanceStream:function(){return{N:{On:gt.CheckBox.YesNormal},D:{On:gt.CheckBox.YesPushDown,Off:gt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Pa(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=G_(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Bt(gt.internal.getWidth(t))+" "+Bt(gt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Bt(i.fontSize)+" Tf "+s),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Pa(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),s=[],i=gt.internal.getHeight(t),o=gt.internal.getWidth(t),a=G_(t,t.caption);return s.push("1 g"),s.push("0 0 "+Bt(o)+" "+Bt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Bt(o-1)+" "+Bt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+Bt(a.fontSize)+" Tf "+r),s.push(a.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=Pa(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Bt(gt.internal.getWidth(t))+" "+Bt(gt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:gt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=gt.RadioButton.Circle.YesNormal,e.D[t]=gt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Pa(t);e.scope=t.scope;var n=[],r=gt.internal.getWidth(t)<=gt.internal.getHeight(t)?gt.internal.getWidth(t)/4:gt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=gt.internal.Bezier_C,i=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Hc(gt.internal.getWidth(t)/2)+" "+Hc(gt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Pa(t);e.scope=t.scope;var n=[],r=gt.internal.getWidth(t)<=gt.internal.getHeight(t)?gt.internal.getWidth(t)/4:gt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*gt.internal.Bezier_C).toFixed(5)),o=Number((r*gt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Hc(gt.internal.getWidth(t)/2)+" "+Hc(gt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Hc(gt.internal.getWidth(t)/2)+" "+Hc(gt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Pa(t);e.scope=t.scope;var n=[],r=gt.internal.getWidth(t)<=gt.internal.getHeight(t)?gt.internal.getWidth(t)/4:gt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*gt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Hc(gt.internal.getWidth(t)/2)+" "+Hc(gt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:gt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=gt.RadioButton.Cross.YesNormal,e.D[t]=gt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Pa(t);e.scope=t.scope;var n=[],r=gt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Bt(gt.internal.getWidth(t)-2)+" "+Bt(gt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Bt(r.x1.x)+" "+Bt(r.x1.y)+" m"),n.push(Bt(r.x2.x)+" "+Bt(r.x2.y)+" l"),n.push(Bt(r.x4.x)+" "+Bt(r.x4.y)+" m"),n.push(Bt(r.x3.x)+" "+Bt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Pa(t);e.scope=t.scope;var n=gt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Bt(gt.internal.getWidth(t))+" "+Bt(gt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Bt(gt.internal.getWidth(t)-2)+" "+Bt(gt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Bt(n.x1.x)+" "+Bt(n.x1.y)+" m"),r.push(Bt(n.x2.x)+" "+Bt(n.x2.y)+" l"),r.push(Bt(n.x4.x)+" "+Bt(n.x4.y)+" m"),r.push(Bt(n.x3.x)+" "+Bt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Pa(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Bt(gt.internal.getWidth(t))+" "+Bt(gt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};gt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=gt.internal.getWidth(t),n=gt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},gt.internal.getWidth=function(t){var e=0;return jn(t)==="object"&&(e=YT(t.Rect[2])),e},gt.internal.getHeight=function(t){var e=0;return jn(t)==="object"&&(e=YT(t.Rect[3])),e};var voe=ur.addField=function(t){if(goe(this,t),!(t instanceof da))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ur.AcroFormChoiceField=sp,ur.AcroFormListBox=ip,ur.AcroFormComboBox=op,ur.AcroFormEditBox=H0,ur.AcroFormButton=Kr,ur.AcroFormPushButton=G0,ur.AcroFormRadioButton=ap,ur.AcroFormCheckBox=K0,ur.AcroFormTextField=Jd,ur.AcroFormPasswordField=Y0,ur.AcroFormAppearance=gt,ur.AcroForm={ChoiceField:sp,ListBox:ip,ComboBox:op,EditBox:H0,Button:Kr,PushButton:G0,RadioButton:ap,CheckBox:K0,TextField:Jd,PasswordField:Y0,Appearance:gt},At.AcroForm={ChoiceField:sp,ListBox:ip,ComboBox:op,EditBox:H0,Button:Kr,PushButton:G0,RadioButton:ap,CheckBox:K0,TextField:Jd,PasswordField:Y0,Appearance:gt};At.AcroForm;function W7(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(k,T){var O,G,ue,ie,fe,Y=e;if((T=T||e)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if($(k))for(fe in n)for(ue=n[fe],O=0;O<ue.length;O+=1){for(ie=!0,G=0;G<ue[O].length;G+=1)if(ue[O][G]!==void 0&&ue[O][G]!==k[G]){ie=!1;break}if(ie===!0){Y=fe;break}}else for(fe in n)for(ue=n[fe],O=0;O<ue.length;O+=1){for(ie=!0,G=0;G<ue[O].length;G+=1)if(ue[O][G]!==void 0&&ue[O][G]!==k.charCodeAt(G)){ie=!1;break}if(ie===!0){Y=fe;break}}return Y===e&&T!==e&&(Y=T),Y},s=function k(T){for(var O=this.internal.write,G=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:T.width}),ie.push({key:"Height",value:T.height}),T.colorSpace===_.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===_.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var fe="",Y=0,te=T.transparency.length;Y<te;Y++)fe+=T.transparency[Y]+" "+T.transparency[Y]+" ";ie.push({key:"Mask",value:"["+fe+"]"})}T.sMask!==void 0&&ie.push({key:"SMask",value:T.objectId+1+" 0 R"});var re=T.filter!==void 0?["/"+T.filter]:void 0;if(G({data:T.data,additionalKeyValues:ie,alreadyAppliedFilters:re,objectId:T.objectId}),O("endobj"),"sMask"in T&&T.sMask!==void 0){var Ee="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,B={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:Ee,data:T.sMask};"filter"in T&&(B.filter=T.filter),k.call(this,B)}if(T.colorSpace===_.INDEXED){var Q=this.internal.newObject();G({data:P(new Uint8Array(T.palette)),objectId:Q}),O("endobj")}},i=function(){var k=this.internal.collections.addImage_images;for(var T in k)s.call(this,k[T])},o=function(){var k,T=this.internal.collections.addImage_images,O=this.internal.write;for(var G in T)O("/I"+(k=T[G]).index,k.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var k=this.internal.collections.addImage_images;return a.call(this),k},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(k){return typeof t["process"+k.toUpperCase()]=="function"},h=function(k){return jn(k)==="object"&&k.nodeType===1},p=function(k,T){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var O=""+k.getAttribute("src");if(O.indexOf("data:image/")===0)return Ag(unescape(O).split("base64,").pop());var G=t.loadFile(O,!0);if(G!==void 0)return G}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var ue;switch(T){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;case"JPEG":case"JPG":default:ue="image/jpeg"}return Ag(k.toDataURL(ue,1).split("base64,").pop())}},g=function(k){var T=this.internal.collections.addImage_images;if(T){for(var O in T)if(k===T[O].alias)return T[O]}},b=function(k,T,O){return k||T||(k=-96,T=-96),k<0&&(k=-1*O.width*72/k/this.internal.scaleFactor),T<0&&(T=-1*O.height*72/T/this.internal.scaleFactor),k===0&&(k=T*O.width/O.height),T===0&&(T=k*O.height/O.width),[k,T]},w=function(k,T,O,G,ue,ie){var fe=b.call(this,O,G,ue),Y=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,re=c.call(this);if(O=fe[0],G=fe[1],re[ue.index]=ue,ie){ie*=Math.PI/180;var Ee=Math.cos(ie),B=Math.sin(ie),Q=function(se){return se.toFixed(4)},J=[Q(Ee),Q(B),Q(-1*B),Q(Ee),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,Y(k),te(T+G),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([Y(O),"0","0",Y(G),"0","0","cm"].join(" "))):this.internal.write([Y(O),"0","0",Y(G),Y(k),te(T+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},_=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=t.__addimage__.sHashCode=function(k){var T,O,G=0;if(typeof k=="string")for(O=k.length,T=0;T<O;T++)G=(G<<5)-G+k.charCodeAt(T),G|=0;else if($(k))for(O=k.byteLength/2,T=0;T<O;T++)G=(G<<5)-G+k[T],G|=0;return G},N=t.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var T=!0;return k.length===0&&(T=!1),k.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(T=!1),T},R=t.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var T=k.indexOf(",");return T<0?null:k.substring(0,T).trim().endsWith("base64")?k.substring(T+1):null},M=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(k){return M()&&k instanceof ArrayBuffer};var $=t.__addimage__.isArrayBufferView=function(k){return M()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},I=t.__addimage__.binaryStringToUint8Array=function(k){for(var T=k.length,O=new Uint8Array(T),G=0;G<T;G++)O[G]=k.charCodeAt(G);return O},P=t.__addimage__.arrayBufferToBinaryString=function(k){for(var T="",O=$(k)?k:new Uint8Array(k),G=0;G<O.length;G+=8192)T+=String.fromCharCode.apply(null,O.subarray(G,G+8192));return T};t.addImage=function(){var k,T,O,G,ue,ie,fe,Y,te;if(typeof arguments[1]=="number"?(T=e,O=arguments[1],G=arguments[2],ue=arguments[3],ie=arguments[4],fe=arguments[5],Y=arguments[6],te=arguments[7]):(T=arguments[1],O=arguments[2],G=arguments[3],ue=arguments[4],ie=arguments[5],fe=arguments[6],Y=arguments[7],te=arguments[8]),jn(k=arguments[0])==="object"&&!h(k)&&"imageData"in k){var re=k;k=re.imageData,T=re.format||T||e,O=re.x||O||0,G=re.y||G||0,ue=re.w||re.width||ue,ie=re.h||re.height||ie,fe=re.alias||fe,Y=re.compression||Y,te=re.rotation||re.angle||te}var Ee=this.internal.getFilters();if(Y===void 0&&Ee.indexOf("FlateEncode")!==-1&&(Y="SLOW"),isNaN(O)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var B=L.call(this,k,T,fe,Y);return w.call(this,O,G,ue,ie,B,te),this};var L=function(k,T,O,G){var ue,ie,fe;if(typeof k=="string"&&r(k)===e){k=unescape(k);var Y=F(k,!1);(Y!==""||(Y=t.loadFile(k,!0))!==void 0)&&(k=Y)}if(h(k)&&(k=p(k,T)),T=r(k,T),!d(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((fe=O)==null||fe.length===0)&&(O=function(te){return typeof te=="string"||$(te)?v(te):$(te.data)?v(te.data):null}(k)),(ue=g.call(this,O))||(M()&&(k instanceof Uint8Array||T==="RGBA"||(ie=k,k=I(k))),ue=this["process"+T.toUpperCase()](k,u.call(this),O,function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in t.image_compression?te:x.NONE}(G),ie)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},F=t.__addimage__.convertBase64ToBinaryString=function(k,T){T=typeof T!="boolean"||T;var O,G="";if(typeof k=="string"){var ue;O=(ue=R(k))!==null&&ue!==void 0?ue:k;try{G=Ag(O)}catch(ie){if(T)throw N(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};t.getImageProperties=function(k){var T,O,G="";if(h(k)&&(k=p(k)),typeof k=="string"&&r(k)===e&&((G=F(k,!1))===""&&(G=t.loadFile(k)||""),k=G),O=r(k),!d(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(!M()||k instanceof Uint8Array||(k=I(k)),!(T=this["process"+O.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=O,T}})(At.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};At.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,s,i,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((r=u[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){r=u[p];var g=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(w.objId),v=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+g(x(r.contents))+")",i+=" /Popup "+_.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+g(x(v))+") >>",w.content=i;var N=w.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+N,r.open&&(i+=" /Open true"),i+=" >>",_.content=i,this.internal.write(w.objId,"0 R",_.objId,"0 R");break;case"freetext":s="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var R=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+g(b(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var M=this.annotations._nameMap[r.options.name];r.options.pageNumber=M.page,r.options.top=M.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+g(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var $=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+$+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,s,i,o){var a=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:c(n),y:u(r),w:c(n+s),h:u(r+i)},options:o,type:"link"})},t.textWithLink=function(n,r,s,i){var o,a,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){a=i.maxWidth;var d=this.splitTextToSize(n,a).length;o=Math.ceil(u*d)}else a=c,o=u;return this.text(n,r,s,i),s+=.2*u,i.align==="center"&&(r-=c/2),i.align==="right"&&(r-=c),this.link(r,s-u,a,o,i),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(At.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},a=t.__arabicParser__.isArabicEndLetter=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(w){return o(w)&&s.indexOf(w.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(w){var _=0,x=n,v="",N=0;for(_=0;_<w.length;_+=1)x[w.charCodeAt(_)]!==void 0?(N++,typeof(x=x[w.charCodeAt(_)])=="number"&&(v+=String.fromCharCode(x),x=n,N=0),_===w.length-1&&(x=n,v+=w.charAt(_-(N-1)),_-=N-1,N=0)):(x=n,v+=w.charAt(_-N),_-=N,N=0);return v};t.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&r[w.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(w,_,x){return o(w)?i(w)===!1?-1:!u(w)||!o(_)&&!o(x)||!o(x)&&a(_)||a(w)&&!o(_)||a(w)&&c(_)||a(w)&&a(_)?0:d(w)&&o(_)&&!a(_)&&o(x)&&u(x)?3:a(w)||!o(x)?1:2:-1},g=function(w){var _=0,x=0,v=0,N="",R="",M="",$=(w=w||"").split("\\s+"),I=[];for(_=0;_<$.length;_+=1){for(I.push(""),x=0;x<$[_].length;x+=1)N=$[_][x],R=$[_][x-1],M=$[_][x+1],o(N)?(v=p(N,R,M),I[_]+=v!==-1?String.fromCharCode(e[N.charCodeAt(0)][v]):N):I[_]+=N;I[_]=h(I[_])}return I.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var w,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(_)){var v=0;for(x=[],v=0;v<_.length;v+=1)Array.isArray(_[v])?x.push([g(_[v][0]),_[v][1],_[v][2]]):x.push([g(_[v])]);w=x}else w=g(_);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};t.events.push(["preProcessText",b])}(At.API),At.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(a){s=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(a){i=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(At.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(w){b=w}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){r.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,g=0,b=0,w=0,_=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=u.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,R){return N.concat(_.splitTextToSize(R,x))},[])):c=Array.isArray(c)?c:[c];for(var v=0;v<c.length;v++)g<(w=this.getStringUnitWidth(c[v],{font:h})*d)&&(g=w);return g!==0&&(b=c.length),{w:g/=p,h:Math.max((b*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,g&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,h,p){if(r.call(this),!d)throw new Error("No data for PDF table.");var g,b,w,_,x=[],v=[],N=[],R={},M={},$=[],I=[],P=(p=p||{}).autoSize||!1,L=p.printHeaders!==!1,F=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,k=p.margins||Object.assign({width:this.getPageWidth()},e),T=typeof p.padding=="number"?p.padding:3,O=p.headerBackgroundColor||"#c8c8c8",G=p.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=L,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=G,this.setFontSize(F),h==null)v=x=Object.keys(d[0]),N=x.map(function(){return"left"});else if(Array.isArray(h)&&jn(h[0])==="object")for(x=h.map(function(re){return re.name}),v=h.map(function(re){return re.prompt||re.name||""}),N=h.map(function(re){return re.align||"left"}),g=0;g<h.length;g+=1)M[h[g].name]=h[g].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(v=x=h,N=x.map(function(){return"left"}));if(P||Array.isArray(h)&&typeof h[0]=="string")for(g=0;g<x.length;g+=1){for(R[_=x[g]]=d.map(function(re){return re[_]}),this.setFont(void 0,"bold"),$.push(this.getTextDimensions(v[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=R[_],this.setFont(void 0,"normal"),w=0;w<b.length;w+=1)$.push(this.getTextDimensions(b[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);M[_]=Math.max.apply(null,$)+T+T,$=[]}if(L){var ue={};for(g=0;g<x.length;g+=1)ue[x[g]]={},ue[x[g]].text=v[g],ue[x[g]].align=N[g];var ie=a.call(this,ue,M);I=x.map(function(re){return new i(c,u,M[re],ie,ue[re].text,void 0,ue[re].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var fe=h.reduce(function(re,Ee){return re[Ee.name]=Ee.align,re},{});for(g=0;g<d.length;g+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:g,data:d[g]},this);var Y=a.call(this,d[g],M);for(w=0;w<x.length;w+=1){var te=d[g][x[w]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:g,col:w,data:te},this),o.call(this,new i(c,u,M[x[w]],Y,te,g+2,fe[x[w]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var a=function(c,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(g){var b=c[g];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,u[g]-d-d)},this).map(function(g){return this.getLineHeightFactor()*g.length*h/p+d+d},this).reduce(function(g,b){return Math.max(g,b)},0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){d=this.internal.__cell__.tableHeaderRow[g].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=c;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(b)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(At.API);var H7={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},G7=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],K_=W7(G7),K7=[100,200,300,400,500,600,700,800,900],yoe=W7(K7);function Y_(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return H7[i=i||"normal"]?i:"normal"}(t.style),r=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),s=function(i){return typeof K_[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,n,r].join(" ")}}}function QT(t,e,n,r){var s;for(s=n;s>=0&&s<e.length;s+=r)if(t[e[s]])return t[e[s]];for(s=n;s>=0&&s<e.length;s-=r)if(t[e[s]])return t[e[s]]}var woe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},XT={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ZT(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function xoe(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},woe,n.genericFontFamilies||{}),i=null,o=null,a=0;a<e.length;++a)if(s[(i=Y_(e[a])).family]&&(i.family=s[i.family]),t.hasOwnProperty(i.family)){o=t[i.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+ZT(i)+"' and default family '"+r+"'.");if(o=function(c,u){if(u[c])return u[c];var d=K_[c],h=d<=K_.normal?-1:1,p=QT(u,G7,d,h);if(!p)throw new Error("Could not find a matching font-stretch value for "+c);return p}(i.stretch,o),o=function(c,u){if(u[c])return u[c];for(var d=H7[c],h=0;h<d.length;++h)if(u[d[h]])return u[d[h]];throw new Error("Could not find a matching font-style for "+c)}(i.style,o),!(o=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=yoe[c],h=QT(u,K7,d,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+ZT(i)+"'.");return o}function JT(t){return t.trimLeft()}function boe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function _oe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var g0,eI,tI,Ib=["times"];(function(t){var e,n,r,s,i,o,a,c,u,d=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new c,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new o,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new o,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var h=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=B;Object.defineProperty(this,"pdf",{get:function(){return Q}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Ae){J=!!Ae}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(Ae){se=!!Ae}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(Ae){isNaN(Ae)||(le=Ae)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(Ae){isNaN(Ae)||(oe=Ae)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ae){var ne;typeof Ae=="number"?ne=[Ae,Ae,Ae,Ae]:((ne=new Array(4))[0]=Ae[0],ne[1]=Ae.length>=2?Ae[1]:ne[0],ne[2]=Ae.length>=3?Ae[2]:ne[0],ne[3]=Ae.length>=4?Ae[3]:ne[1]),u.margin=ne}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(Ae){we=Ae}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(Ae){xe=Ae}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(Ae){je=Ae}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ae){Ae instanceof d&&(u=Ae)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ae){u.path=Ae}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(Ae){ke=Ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ae){var ne;ne=p(Ae),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ae){var ne=p(Ae);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ae){["butt","round","square"].indexOf(Ae)!==-1&&(this.ctx.lineCap=Ae,this.pdf.setLineCap(Ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ae){isNaN(Ae)||(this.ctx.lineWidth=Ae,this.pdf.setLineWidth(Ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ae){["bevel","round","miter"].indexOf(Ae)!==-1&&(this.ctx.lineJoin=Ae,this.pdf.setLineJoin(Ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ae){isNaN(Ae)||(this.ctx.miterLimit=Ae,this.pdf.setMiterLimit(Ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ae){this.ctx.textBaseline=Ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ae){["right","end","center","left","start"].indexOf(Ae)!==-1&&(this.ctx.textAlign=Ae)}});var Ue=null;function We(Ae,ne){if(Ue===null){var _t=function(dt){var qe=[];return Object.keys(dt).forEach(function(Ze){dt[Ze].forEach(function(tt){var X=null;switch(tt){case"bold":X={family:Ze,weight:"bold"};break;case"italic":X={family:Ze,style:"italic"};break;case"bolditalic":X={family:Ze,weight:"bold",style:"italic"};break;case"":case"normal":X={family:Ze}}X!==null&&(X.ref={name:Ze,style:tt},qe.push(X))})}),qe}(Ae.getFontList());Ue=function(dt){for(var qe={},Ze=0;Ze<dt.length;++Ze){var tt=Y_(dt[Ze]),X=tt.family,ce=tt.stretch,be=tt.style,De=tt.weight;qe[X]=qe[X]||{},qe[X][ce]=qe[X][ce]||{},qe[X][ce][be]=qe[X][ce][be]||{},qe[X][ce][be][De]=tt}return qe}(_t.concat(ne))}return Ue}var ut=null;Object.defineProperty(this,"fontFaces",{get:function(){return ut},set:function(Ae){Ue=null,ut=Ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ae){var ne;if(this.ctx.font=Ae,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ae))!==null){var _t=ne[1];ne[2];var dt=ne[3],qe=ne[4];ne[5];var Ze=ne[6],tt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(qe)[2];qe=Math.floor(tt==="px"?parseFloat(qe)*this.pdf.internal.scaleFactor:tt==="em"?parseFloat(qe)*this.pdf.getFontSize():parseFloat(qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(qe);var X=function(Je){var yt,Ye,Xn=[],Zt=Je.trim();if(Zt==="")return Ib;if(Zt in XT)return[XT[Zt]];for(;Zt!=="";){switch(Ye=null,yt=(Zt=JT(Zt)).charAt(0)){case'"':case"'":Ye=boe(Zt.substring(1),yt);break;default:Ye=_oe(Zt)}if(Ye===null||(Xn.push(Ye[0]),(Zt=JT(Ye[1]))!==""&&Zt.charAt(0)!==","))return Ib;Zt=Zt.replace(/^,/,"")}return Xn}(Ze);if(this.fontFaces){var ce=xoe(We(this.pdf,this.fontFaces),X.map(function(Je){return{family:Je,stretch:"normal",weight:dt,style:_t}}));this.pdf.setFont(ce.ref.name,ce.ref.style)}else{var be="";(dt==="bold"||parseInt(dt,10)>=700||_t==="bold")&&(be="bold"),_t==="italic"&&(be+="italic"),be.length===0&&(be="normal");for(var De="",Te={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ce=0;Ce<X.length;Ce++){if(this.pdf.internal.getFont(X[Ce],be,{noFallback:!0,disableWarning:!0})!==void 0){De=X[Ce];break}if(be==="bolditalic"&&this.pdf.internal.getFont(X[Ce],"bold",{noFallback:!0,disableWarning:!0})!==void 0)De=X[Ce],be="bold";else if(this.pdf.internal.getFont(X[Ce],"normal",{noFallback:!0,disableWarning:!0})!==void 0){De=X[Ce],be="normal";break}}if(De===""){for(var He=0;He<X.length;He++)if(Te[X[He]]){De=Te[X[He]];break}}De=De===""?"Times":De,this.pdf.setFont(De,be)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ae){this.ctx.globalCompositeOperation=Ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ae){this.ctx.globalAlpha=Ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ae){this.ctx.lineDashOffset=Ae,Ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ae){this.ctx.lineDash=Ae,Ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ae){this.ctx.ignoreClearRect=!!Ae}})};h.prototype.setLineDash=function(B){this.lineDash=B},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){R.call(this,"fill",!1)},h.prototype.stroke=function(){R.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(B,Q){if(isNaN(B)||isNaN(Q))throw Mn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new o(B,Q));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(B,Q)},h.prototype.closePath=function(){var B=new o(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&jn(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){B=new o(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(B.x,B.y)},h.prototype.lineTo=function(B,Q){if(isNaN(B)||isNaN(Q))throw Mn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new o(B,Q));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},h.prototype.quadraticCurveTo=function(B,Q,J,se){if(isNaN(J)||isNaN(se)||isNaN(B)||isNaN(Q))throw Mn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new o(J,se)),oe=this.ctx.transform.applyToPoint(new o(B,Q));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:le.x,y:le.y}),this.ctx.lastPoint=new o(le.x,le.y)},h.prototype.bezierCurveTo=function(B,Q,J,se,le,oe){if(isNaN(le)||isNaN(oe)||isNaN(B)||isNaN(Q)||isNaN(J)||isNaN(se))throw Mn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new o(le,oe)),xe=this.ctx.transform.applyToPoint(new o(B,Q)),je=this.ctx.transform.applyToPoint(new o(J,se));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:je.x,y2:je.y,x:we.x,y:we.y}),this.ctx.lastPoint=new o(we.x,we.y)},h.prototype.arc=function(B,Q,J,se,le,oe){if(isNaN(B)||isNaN(Q)||isNaN(J)||isNaN(se)||isNaN(le))throw Mn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new o(B,Q));B=we.x,Q=we.y;var xe=this.ctx.transform.applyToPoint(new o(0,J)),je=this.ctx.transform.applyToPoint(new o(0,0));J=Math.sqrt(Math.pow(xe.x-je.x,2)+Math.pow(xe.y-je.y,2))}Math.abs(le-se)>=2*Math.PI&&(se=0,le=2*Math.PI),this.path.push({type:"arc",x:B,y:Q,radius:J,startAngle:se,endAngle:le,counterclockwise:oe})},h.prototype.arcTo=function(B,Q,J,se,le){throw new Error("arcTo not implemented.")},h.prototype.rect=function(B,Q,J,se){if(isNaN(B)||isNaN(Q)||isNaN(J)||isNaN(se))throw Mn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,Q),this.lineTo(B+J,Q),this.lineTo(B+J,Q+se),this.lineTo(B,Q+se),this.lineTo(B,Q),this.lineTo(B+J,Q),this.lineTo(B,Q)},h.prototype.fillRect=function(B,Q,J,se){if(isNaN(B)||isNaN(Q)||isNaN(J)||isNaN(se))throw Mn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,Q,J,se),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},h.prototype.strokeRect=function(B,Q,J,se){if(isNaN(B)||isNaN(Q)||isNaN(J)||isNaN(se))throw Mn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(B,Q,J,se),this.stroke())},h.prototype.clearRect=function(B,Q,J,se){if(isNaN(B)||isNaN(Q)||isNaN(J)||isNaN(se))throw Mn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,Q,J,se))},h.prototype.save=function(B){B=typeof B!="boolean"||B;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},h.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(B){var Q,J,se,le;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))Q=0,J=0,se=0,le=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(oe!==null)Q=parseInt(oe[1]),J=parseInt(oe[2]),se=parseInt(oe[3]),le=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)Q=parseInt(oe[1]),J=parseInt(oe[2]),se=parseInt(oe[3]),le=parseFloat(oe[4]);else{if(le=1,typeof B=="string"&&B.charAt(0)!=="#"){var we=new V7(B);B=we.ok?we.toHex():"#000000"}B.length===4?(Q=B.substring(1,2),Q+=Q,J=B.substring(2,3),J+=J,se=B.substring(3,4),se+=se):(Q=B.substring(1,3),J=B.substring(3,5),se=B.substring(5,7)),Q=parseInt(Q,16),J=parseInt(J,16),se=parseInt(se,16)}}return{r:Q,g:J,b:se,a:le,style:B}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(B,Q,J,se){if(isNaN(Q)||isNaN(J)||typeof B!="string")throw Mn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!g.call(this)){var le=Y(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;T.call(this,{text:B,x:Q,y:J,scale:oe,angle:le,align:this.textAlign,maxWidth:se})}},h.prototype.strokeText=function(B,Q,J,se){if(isNaN(Q)||isNaN(J)||typeof B!="string")throw Mn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){se=isNaN(se)?void 0:se;var le=Y(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;T.call(this,{text:B,x:Q,y:J,scale:oe,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:se})}},h.prototype.measureText=function(B){if(typeof B!="string")throw Mn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,J=this.pdf.internal.scaleFactor,se=Q.internal.getFontSize(),le=Q.getStringUnitWidth(B)*se/Q.internal.scaleFactor,oe=function(we){var xe=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xe}}),this};return new oe({width:le*=Math.round(96*J/72*1e4)/1e4})},h.prototype.scale=function(B,Q){if(isNaN(B)||isNaN(Q))throw Mn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new c(B,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.rotate=function(B){if(isNaN(B))throw Mn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new c(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},h.prototype.translate=function(B,Q){if(isNaN(B)||isNaN(Q))throw Mn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new c(1,0,0,1,B,Q);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.transform=function(B,Q,J,se,le,oe){if(isNaN(B)||isNaN(Q)||isNaN(J)||isNaN(se)||isNaN(le)||isNaN(oe))throw Mn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new c(B,Q,J,se,le,oe);this.ctx.transform=this.ctx.transform.multiply(we)},h.prototype.setTransform=function(B,Q,J,se,le,oe){B=isNaN(B)?1:B,Q=isNaN(Q)?0:Q,J=isNaN(J)?0:J,se=isNaN(se)?1:se,le=isNaN(le)?0:le,oe=isNaN(oe)?0:oe,this.ctx.transform=new c(B,Q,J,se,le,oe)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(B,Q,J,se,le,oe,we,xe,je){var ke=this.pdf.getImageProperties(B),Ue=1,We=1,ut=1,Ae=1;se!==void 0&&xe!==void 0&&(ut=xe/se,Ae=je/le,Ue=ke.width/se*xe/se,We=ke.height/le*je/le),oe===void 0&&(oe=Q,we=J,Q=0,J=0),se!==void 0&&xe===void 0&&(xe=se,je=le),se===void 0&&xe===void 0&&(xe=ke.width,je=ke.height);for(var ne,_t=this.ctx.transform.decompose(),dt=Y(_t.rotate.shx),qe=new c,Ze=(qe=(qe=(qe=qe.multiply(_t.translate)).multiply(_t.skew)).multiply(_t.scale)).applyToRectangle(new a(oe-Q*ut,we-J*Ae,se*Ue,le*We)),tt=_.call(this,Ze),X=[],ce=0;ce<tt.length;ce+=1)X.indexOf(tt[ce])===-1&&X.push(tt[ce]);if(N(X),this.autoPaging)for(var be=X[0],De=X[X.length-1],Te=be;Te<De+1;Te++){this.pdf.setPage(Te);var Ce=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=Te===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ye=Te===1?0:Je+(Te-2)*yt;if(this.ctx.clip_path.length!==0){var Xn=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(ne,this.posX+this.margin[3],-Ye+He+this.ctx.prevPageLastElemOffset),M.call(this,"fill",!0),this.path=Xn}var Zt=JSON.parse(JSON.stringify(Ze));Zt=v([Zt],this.posX+this.margin[3],-Ye+He+this.ctx.prevPageLastElemOffset)[0];var qr=(Te>be||Te<De)&&w.call(this);qr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ce,yt,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,dt),qr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(B,"JPEG",Ze.x,Ze.y,Ze.w,Ze.h,null,null,dt)};var _=function(B,Q,J){var se=[];Q=Q||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":se.push(Math.floor((B.y+le)/J)+1);break;case"arc":se.push(Math.floor((B.y+le-B.radius)/J)+1),se.push(Math.floor((B.y+le+B.radius)/J)+1);break;case"qct":var oe=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);se.push(Math.floor((oe.y+le)/J)+1),se.push(Math.floor((oe.y+oe.h+le)/J)+1);break;case"bct":var we=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);se.push(Math.floor((we.y+le)/J)+1),se.push(Math.floor((we.y+we.h+le)/J)+1);break;case"rect":se.push(Math.floor((B.y+le)/J)+1),se.push(Math.floor((B.y+B.h+le)/J)+1)}for(var xe=0;xe<se.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<se[xe];)x.call(this);return se},x=function(){var B=this.fillStyle,Q=this.strokeStyle,J=this.font,se=this.lineCap,le=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=Q,this.font=J,this.lineCap=se,this.lineWidth=le,this.lineJoin=oe},v=function(B,Q,J){for(var se=0;se<B.length;se++)switch(B[se].type){case"bct":B[se].x2+=Q,B[se].y2+=J;case"qct":B[se].x1+=Q,B[se].y1+=J;case"mt":case"lt":case"arc":default:B[se].x+=Q,B[se].y+=J}return B},N=function(B){return B.sort(function(Q,J){return Q-J})},R=function(B,Q){for(var J,se,le=this.fillStyle,oe=this.strokeStyle,we=this.lineCap,xe=this.lineWidth,je=Math.abs(xe*this.ctx.transform.scaleX),ke=this.lineJoin,Ue=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),ut=[],Ae=0;Ae<We.length;Ae++)if(We[Ae].x!==void 0)for(var ne=_.call(this,We[Ae]),_t=0;_t<ne.length;_t+=1)ut.indexOf(ne[_t])===-1&&ut.push(ne[_t]);for(var dt=0;dt<ut.length;dt++)for(;this.pdf.internal.getNumberOfPages()<ut[dt];)x.call(this);if(N(ut),this.autoPaging)for(var qe=ut[0],Ze=ut[ut.length-1],tt=qe;tt<Ze+1;tt++){this.pdf.setPage(tt),this.fillStyle=le,this.strokeStyle=oe,this.lineCap=we,this.lineWidth=je,this.lineJoin=ke;var X=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ce=tt===1?this.posY+this.margin[0]:this.margin[0],be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Te=tt===1?0:be+(tt-2)*De;if(this.ctx.clip_path.length!==0){var Ce=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(J,this.posX+this.margin[3],-Te+ce+this.ctx.prevPageLastElemOffset),M.call(this,B,!0),this.path=Ce}if(se=JSON.parse(JSON.stringify(Ue)),this.path=v(se,this.posX+this.margin[3],-Te+ce+this.ctx.prevPageLastElemOffset),Q===!1||tt===0){var He=(tt>qe||tt<Ze)&&w.call(this);He&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],X,De,null).clip().discardPath()),M.call(this,B,Q),He&&this.pdf.restoreGraphicsState()}this.lineWidth=xe}else this.lineWidth=je,M.call(this,B,Q),this.lineWidth=xe;this.path=Ue},M=function(B,Q){if((B!=="stroke"||Q||!b.call(this))&&(B==="stroke"||Q||!g.call(this))){for(var J,se,le=[],oe=this.path,we=0;we<oe.length;we++){var xe=oe[we];switch(xe.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:xe,deltas:[],abs:[]});break;case"lt":var je=le.length;if(oe[we-1]&&!isNaN(oe[we-1].x)&&(J=[xe.x-oe[we-1].x,xe.y-oe[we-1].y],je>0)){for(;je>=0;je--)if(le[je-1].close!==!0&&le[je-1].begin!==!0){le[je-1].deltas.push(J),le[je-1].abs.push(xe);break}}break;case"bct":J=[xe.x1-oe[we-1].x,xe.y1-oe[we-1].y,xe.x2-oe[we-1].x,xe.y2-oe[we-1].y,xe.x-oe[we-1].x,xe.y-oe[we-1].y],le[le.length-1].deltas.push(J);break;case"qct":var ke=oe[we-1].x+2/3*(xe.x1-oe[we-1].x),Ue=oe[we-1].y+2/3*(xe.y1-oe[we-1].y),We=xe.x+2/3*(xe.x1-xe.x),ut=xe.y+2/3*(xe.y1-xe.y),Ae=xe.x,ne=xe.y;J=[ke-oe[we-1].x,Ue-oe[we-1].y,We-oe[we-1].x,ut-oe[we-1].y,Ae-oe[we-1].x,ne-oe[we-1].y],le[le.length-1].deltas.push(J);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(xe)}}se=Q?null:B==="stroke"?"stroke":"fill";for(var _t=!1,dt=0;dt<le.length;dt++)if(le[dt].arc)for(var qe=le[dt].abs,Ze=0;Ze<qe.length;Ze++){var tt=qe[Ze];tt.type==="arc"?P.call(this,tt.x,tt.y,tt.radius,tt.startAngle,tt.endAngle,tt.counterclockwise,void 0,Q,!_t):O.call(this,tt.x,tt.y),_t=!0}else if(le[dt].close===!0)this.pdf.internal.out("h"),_t=!1;else if(le[dt].begin!==!0){var X=le[dt].start.x,ce=le[dt].start.y;G.call(this,le[dt].deltas,X,ce),_t=!0}se&&L.call(this,se),Q&&F.call(this)}},$=function(B){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-J;case"top":return B+Q-J;case"hanging":return B+Q-2*J;case"middle":return B+Q/2-J;case"ideographic":return B;case"alphabetic":default:return B}},I=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(Q,J){this.colorStops.push([Q,J])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(B,Q,J,se,le,oe,we,xe,je){for(var ke=ie.call(this,J,se,le,oe),Ue=0;Ue<ke.length;Ue++){var We=ke[Ue];Ue===0&&(je?k.call(this,We.x1+B,We.y1+Q):O.call(this,We.x1+B,We.y1+Q)),ue.call(this,B,Q,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}xe?F.call(this):L.call(this,we)},L=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(B,Q){this.pdf.internal.out(n(B)+" "+r(Q)+" m")},T=function(B){var Q;switch(B.align){case"right":case"end":Q="right";break;case"center":Q="center";break;case"left":case"start":default:Q="left"}var J=this.pdf.getTextDimensions(B.text),se=$.call(this,B.y),le=I.call(this,se)-J.h,oe=this.ctx.transform.applyToPoint(new o(B.x,se)),we=this.ctx.transform.decompose(),xe=new c;xe=(xe=(xe=xe.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var je,ke,Ue,We=this.ctx.transform.applyToRectangle(new a(B.x,se,J.w,J.h)),ut=xe.applyToRectangle(new a(B.x,le,J.w,J.h)),Ae=_.call(this,ut),ne=[],_t=0;_t<Ae.length;_t+=1)ne.indexOf(Ae[_t])===-1&&ne.push(Ae[_t]);if(N(ne),this.autoPaging)for(var dt=ne[0],qe=ne[ne.length-1],Ze=dt;Ze<qe+1;Ze++){this.pdf.setPage(Ze);var tt=Ze===1?this.posY+this.margin[0]:this.margin[0],X=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ce=this.pdf.internal.pageSize.height-this.margin[2],be=ce-this.margin[0],De=this.pdf.internal.pageSize.width-this.margin[1],Te=De-this.margin[3],Ce=Ze===1?0:X+(Ze-2)*be;if(this.ctx.clip_path.length!==0){var He=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(je,this.posX+this.margin[3],-1*Ce+tt),M.call(this,"fill",!0),this.path=He}var Je=v([JSON.parse(JSON.stringify(ut))],this.posX+this.margin[3],-Ce+tt+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*B.scale),Ue=this.lineWidth,this.lineWidth=Ue*B.scale);var yt=this.autoPaging!=="text";if(yt||Je.y+Je.h<=ce){if(yt||Je.y>=tt&&Je.x<=De){var Ye=yt?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||De-Je.x)[0],Xn=v([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-Ce+tt+this.ctx.prevPageLastElemOffset)[0],Zt=yt&&(Ze>dt||Ze<qe)&&w.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Te,be,null).clip().discardPath()),this.pdf.text(Ye,Xn.x,Xn.y,{angle:B.angle,align:Q,renderingMode:B.renderingMode}),Zt&&this.pdf.restoreGraphicsState()}}else Je.y<ce&&(this.ctx.prevPageLastElemOffset+=ce-Je.y);B.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Ue)}else B.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*B.scale),Ue=this.lineWidth,this.lineWidth=Ue*B.scale),this.pdf.text(B.text,oe.x+this.posX,oe.y+this.posY,{angle:B.angle,align:Q,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Ue)},O=function(B,Q,J,se){J=J||0,se=se||0,this.pdf.internal.out(n(B+J)+" "+r(Q+se)+" l")},G=function(B,Q,J){return this.pdf.lines(B,Q,J,null,null)},ue=function(B,Q,J,se,le,oe,we,xe){this.pdf.internal.out([e(s(J+B)),e(i(se+Q)),e(s(le+B)),e(i(oe+Q)),e(s(we+B)),e(i(xe+Q)),"c"].join(" "))},ie=function(B,Q,J,se){for(var le=2*Math.PI,oe=Math.PI/2;Q>J;)Q-=le;var we=Math.abs(J-Q);we<le&&se&&(we=le-we);for(var xe=[],je=se?-1:1,ke=Q;we>1e-5;){var Ue=ke+je*Math.min(we,oe);xe.push(fe.call(this,B,ke,Ue)),we-=Math.abs(Ue-ke),ke=Ue}return xe},fe=function(B,Q,J){var se=(J-Q)/2,le=B*Math.cos(se),oe=B*Math.sin(se),we=le,xe=-oe,je=we*we+xe*xe,ke=je+we*le+xe*oe,Ue=4/3*(Math.sqrt(2*je*ke)-ke)/(we*oe-xe*le),We=we-Ue*xe,ut=xe+Ue*we,Ae=We,ne=-ut,_t=se+Q,dt=Math.cos(_t),qe=Math.sin(_t);return{x1:B*Math.cos(Q),y1:B*Math.sin(Q),x2:We*dt-ut*qe,y2:We*qe+ut*dt,x3:Ae*dt-ne*qe,y3:Ae*qe+ne*dt,x4:B*Math.cos(J),y4:B*Math.sin(J)}},Y=function(B){return 180*B/Math.PI},te=function(B,Q,J,se,le,oe){var we=B+.5*(J-B),xe=Q+.5*(se-Q),je=le+.5*(J-le),ke=oe+.5*(se-oe),Ue=Math.min(B,le,we,je),We=Math.max(B,le,we,je),ut=Math.min(Q,oe,xe,ke),Ae=Math.max(Q,oe,xe,ke);return new a(Ue,ut,We-Ue,Ae-ut)},re=function(B,Q,J,se,le,oe,we,xe){var je,ke,Ue,We,ut,Ae,ne,_t,dt,qe,Ze,tt,X,ce,be=J-B,De=se-Q,Te=le-J,Ce=oe-se,He=we-le,Je=xe-oe;for(ke=0;ke<41;ke++)dt=(ne=(Ue=B+(je=ke/40)*be)+je*((ut=J+je*Te)-Ue))+je*(ut+je*(le+je*He-ut)-ne),qe=(_t=(We=Q+je*De)+je*((Ae=se+je*Ce)-We))+je*(Ae+je*(oe+je*Je-Ae)-_t),ke==0?(Ze=dt,tt=qe,X=dt,ce=qe):(Ze=Math.min(Ze,dt),tt=Math.min(tt,qe),X=Math.max(X,dt),ce=Math.max(ce,qe));return new a(Math.round(Ze),Math.round(tt),Math.round(X-Ze),Math.round(ce-tt))},Ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,Q,J=(B=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:Q}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(At.API),function(t){var e=function(i){var o,a,c,u,d,h,p,g,b,w;for(a=[],c=0,u=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(d=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(h=(d=((d=((d=((d=(d-(w=d%85))/85)-(b=d%85))/85)-(g=d%85))/85)-(p=d%85))/85)%85,a.push(h+33,p+33,g+33,b+33,w+33)):a.push(122);return function(_,x){for(var v=x;v>0;v--)_.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(i){var o,a,c,u,d,h=String,p="length",g=255,b="charCodeAt",w="slice",_="replace";for(i[w](-2),i=i[w](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),c=[],u=0,d=(i+=o="uuuuu"[w](i[p]%5||5))[p];d>u;u+=5)a=52200625*(i[b](u)-33)+614125*(i[b](u+1)-33)+7225*(i[b](u+2)-33)+85*(i[b](u+3)-33)+(i[b](u+4)-33),c.push(g&a>>24,g&a>>16,g&a>>8,g&a);return function(x,v){for(var N=v;N>0;N--)x.pop()}(c,o[p]),h.fromCharCode.apply(h,c)},r=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var a="",c=0;c<i.length;c+=2)a+=String.fromCharCode("0x"+(i[c]+i[c+1]));return a},s=function(i){for(var o=new Uint8Array(i.length),a=i.length;a--;)o[a]=i.charCodeAt(a);return i=(o=q_(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(i,o){var a=0,c=i||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(At.API),function(t){t.loadFile=function(e,n,r){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(c,u,d){var h=new XMLHttpRequest,p=0,g=function(b){var w=b.length,_=[],x=String.fromCharCode;for(p=0;p<w;p+=1)_.push(x(255&b.charCodeAt(p)));return _.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(g(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return g(h.responseText)}(s,i,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(At.API),function(t){function e(){return(Ct.html2canvas?Promise.resolve(Ct.html2canvas):dv(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Ct.DOMPurify?Promise.resolve(Ct.DOMPurify):dv(()=>import("./purify.es-Bf0oSh3b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=jn(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},s=function(o,a){var c=document.createElement(o);for(var u in a.className&&(c.className=a.className),a.innerHTML&&a.dompurify&&(c.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)c.style[u]=a.style[u];return c},i=function o(a){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(a)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,a){return o.__proto__=a||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(c){return this.set({src:s("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function c(u,d){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),p=u.firstChild;p;p=p.nextSibling)d!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(c(p,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,a(this.prop.container,c)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var g=u[p],b=g.src.find(function(w){return w.format==="truetype"});b&&c.addFont(b.url,g.ref.name,g.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),a(this.prop.container,h)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,a,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},i.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(a)})},i.prototype.get=function(o,a){return this.then(function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return a?a(c):c})},i.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function a(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||At.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,a,c,u){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,a,c,u){return this.setProgress(o?this.progress.val+o:null,a||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(o,a){var c=this;return this.thenCore(o,a,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,d).then(function(h){return c.updateProgress(1),h})})},i.prototype.thenCore=function(o,a,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=c.call(u,o,a);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},i.prototype.thenList=function(o){var a=this;return o.forEach(function(c){a=a.thenCore(c)}),a},i.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return i.convert(a,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,At.getPageSize=function(o,a,c){if(jn(o)==="object"){var u=o;o=u.orientation,a=u.unit||a,c=u.format||c}a=a||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,h=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+a}var g,b=0,w=0;if(p.hasOwnProperty(h))b=p[h][1]/d,w=p[h][0]/d;else try{b=c[1],w=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",w>b&&(g=w,w=b,b=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",b>w&&(g=w,w=b,b=g)}return{width:w,height:b,unit:a,k:d,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(Y_):null;var c=new i(a);return a.worker?c:c.from(o).doCallback()}}(At.API),At.API.addJS=function(t){return tI=t,this.internal.events.subscribe("postPutResources",function(){g0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(g0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),eI=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+tI+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){g0!==void 0&&eI!==void 0&&this.internal.out("/Names <</JavaScript "+g0+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],a=r.exec(o);if(a!=null){var c=a[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var h=n.internal.newObject();d.push(h);var p=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<d.length;i++)n.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,i){var o={title:s,options:i,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var o=r.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var c=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var i=0;i<s.children.length;i++)r.count++,this.count_r(r,s.children[i]);return r.count}}])}(At.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,s,i,o,a){var c,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=function(h){for(var p,g=256*h.charCodeAt(4)+h.charCodeAt(5),b=h.length,w={width:0,height:0,numcomponents:1},_=4;_<b;_+=2){if(_+=g,e.indexOf(h.charCodeAt(_+1))!==-1){p=256*h.charCodeAt(_+5)+h.charCodeAt(_+6),w={width:256*h.charCodeAt(_+7)+h.charCodeAt(_+8),height:p,numcomponents:h.charCodeAt(_+9)};break}g=256*h.charCodeAt(_+2)+h.charCodeAt(_+3)}return w}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:n,width:c.width,height:c.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:s}}return d}}(At.API);var ff,v0,nI,rI,sI,Soe=function(){var t,e,n;function r(i){var o,a,c,u,d,h,p,g,b,w,_,x,v,N;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),b=(function(){var R,M;for(M=[],R=0;R<4;++R)M.push(String.fromCharCode(this.data[this.pos++]));return M}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,h.delay=1e3*d/u,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,o-=4),i=(h!=null?h.data:void 0)||this.imgData,x=0;0<=o?x<o:x>o;0<=o?++x:--x)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((w=c-this.transparency.indexed.length)>0)for(v=0;0<=w?v<w:v>w;0<=w?++v:--v)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(_=this.read(o)).indexOf(0),g=String.fromCharCode.apply(String,_.slice(0,p)),this.text[g]=String.fromCharCode.apply(String,_.slice(p+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(i){var o,a;for(a=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(h,p,g,b){var w,_,x,v,N,R,M,$,I,P,L,F,k,T,O,G,ue,ie,fe,Y,te,re=Math.ceil((u.width-h)/g),Ee=Math.ceil((u.height-p)/b),B=u.width==re&&u.height==Ee;for(T=o*re,F=B?a:new Uint8Array(T*Ee),R=i.length,k=0,_=0;k<Ee&&c<R;){switch(i[c++]){case 0:for(v=ue=0;ue<T;v=ue+=1)F[_++]=i[c++];break;case 1:for(v=ie=0;ie<T;v=ie+=1)w=i[c++],N=v<o?0:F[_-o],F[_++]=(w+N)%256;break;case 2:for(v=fe=0;fe<T;v=fe+=1)w=i[c++],x=(v-v%o)/o,O=k&&F[(k-1)*T+x*o+v%o],F[_++]=(O+w)%256;break;case 3:for(v=Y=0;Y<T;v=Y+=1)w=i[c++],x=(v-v%o)/o,N=v<o?0:F[_-o],O=k&&F[(k-1)*T+x*o+v%o],F[_++]=(w+Math.floor((N+O)/2))%256;break;case 4:for(v=te=0;te<T;v=te+=1)w=i[c++],x=(v-v%o)/o,N=v<o?0:F[_-o],k===0?O=G=0:(O=F[(k-1)*T+x*o+v%o],G=x&&F[(k-1)*T+(x-1)*o+v%o]),M=N+O-G,$=Math.abs(M-N),P=Math.abs(M-O),L=Math.abs(M-G),I=$<=P&&$<=L?N:P<=L?O:G,F[_++]=(w+I)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!B){var Q=((p+k*b)*u.width+h)*o,J=k*T;for(v=0;v<re;v+=1){for(var se=0;se<o;se+=1)a[Q++]=F[J++];Q+=(g-1)*o}}k++}}return i=toe(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),a},r.prototype.decodePalette=function(){var i,o,a,c,u,d,h,p,g;for(a=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+a.length),c=0,i=0,o=h=0,p=a.length;h<p;o=h+=3)u[c++]=a[o],u[c++]=a[o+1],u[c++]=a[o+2],u[c++]=(g=d[i++])!=null?g:255;return u},r.prototype.copyToImageData=function(i,o){var a,c,u,d,h,p,g,b,w,_,x;if(c=this.colors,w=null,a=this.hasAlphaChannel,this.palette.length&&(w=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),c=4,a=!0),b=(u=i.data||i).length,h=w||o,d=p=0,c===1)for(;d<b;)g=w?4*o[d/4]:p,_=h[g++],u[d++]=_,u[d++]=_,u[d++]=_,u[d++]=a?h[g++]:255,p=g;else for(;d<b;)g=w?4*o[d/4]:p,u[d++]=h[g++],u[d++]=h[g++],u[d++]=h[g++],u[d++]=a?h[g++]:255,p=g},r.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(Ct)==="[object Window]"){try{e=Ct.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return s(),t=function(i){var o;if(s()===!0)return n.width=i.width,n.height=i.height,n.clearRect(0,0,i.width,i.height),n.putImageData(i,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(i){var o,a,c,u,d,h,p,g;if(this.animation){for(g=[],a=d=0,h=(p=this.animation.frames).length;d<h;a=++d)o=p[a],c=i.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,g.push(o.image=t(c));return g}},r.prototype.renderFrame=function(i,o){var a,c,u;return a=(c=this.animation.frames)[o],u=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),a.blendOp===0&&i.clearRect(a.xOffset,a.yOffset,a.width,a.height),i.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(i){var o,a,c,u,d,h,p=this;return a=0,h=this.animation,u=h.numFrames,c=h.frames,d=h.numPlays,(o=function(){var g,b;if(g=a++%u,b=c[g],p.renderFrame(i,g),u>1&&a/u<d)return p.animation._timeout=setTimeout(o,b.delay)})()},r.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},r.prototype.render=function(i){var o,a;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Noe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,o=1<<(7&s)+1;t[e++],t[e++];var a=null,c=null;i&&(a=e,c=o,e+=3*o);var u=!0,d=[],h=0,p=null,g=0,b=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=t[e++];h=t[e++]|t[e++]<<8,p=t[e++],!(1&w)&&(p=null),g=w>>2&7,e++;break;case 254:for(;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var _=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,R=t[e++],M=R>>6&1,$=1<<(7&R)+1,I=a,P=c,L=!1;R>>7&&(L=!0,I=e,P=$,e+=3*$);var F=e;for(e++;;){var k;if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}d.push({x:_,y:x,width:v,height:N,has_local_palette:L,palette_offset:I,palette_size:P,data_offset:F,data_length:e-F,transparent_index:p,interlaced:!!M,delay:h,disposal:g});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return b},this.frameInfo=function(T){if(T<0||T>=d.length)throw new Error("Frame index out of range.");return d[T]},this.decodeAndBlitFrameBGRA=function(T,O){var G=this.frameInfo(T),ue=G.width*G.height,ie=new Uint8Array(ue);iI(t,G.data_offset,ie,ue);var fe=G.palette_offset,Y=G.transparent_index;Y===null&&(Y=256);var te=G.width,re=n-te,Ee=te,B=4*(G.y*n+G.x),Q=4*((G.y+G.height)*n+G.x),J=B,se=4*re;G.interlaced===!0&&(se+=4*n*7);for(var le=8,oe=0,we=ie.length;oe<we;++oe){var xe=ie[oe];if(Ee===0&&(Ee=te,(J+=se)>=Q&&(se=4*re+4*n*(le-1),J=B+(te+re)*(le<<1),le>>=1)),xe===Y)J+=4;else{var je=t[fe+3*xe],ke=t[fe+3*xe+1],Ue=t[fe+3*xe+2];O[J++]=Ue,O[J++]=ke,O[J++]=je,O[J++]=255}--Ee}},this.decodeAndBlitFrameRGBA=function(T,O){var G=this.frameInfo(T),ue=G.width*G.height,ie=new Uint8Array(ue);iI(t,G.data_offset,ie,ue);var fe=G.palette_offset,Y=G.transparent_index;Y===null&&(Y=256);var te=G.width,re=n-te,Ee=te,B=4*(G.y*n+G.x),Q=4*((G.y+G.height)*n+G.x),J=B,se=4*re;G.interlaced===!0&&(se+=4*n*7);for(var le=8,oe=0,we=ie.length;oe<we;++oe){var xe=ie[oe];if(Ee===0&&(Ee=te,(J+=se)>=Q&&(se=4*re+4*n*(le-1),J=B+(te+re)*(le<<1),le>>=1)),xe===Y)J+=4;else{var je=t[fe+3*xe],ke=t[fe+3*xe+1],Ue=t[fe+3*xe+2];O[J++]=je,O[J++]=ke,O[J++]=Ue,O[J++]=255}--Ee}}}function iI(t,e,n,r){for(var s=t[e++],i=1<<s,o=i+1,a=o+1,c=s+1,u=(1<<c)-1,d=0,h=0,p=0,g=t[e++],b=new Int32Array(4096),w=null;;){for(;d<16&&g!==0;)h|=t[e++]<<d,d+=8,g===1?g=t[e++]:--g;if(d<c)break;var _=h&u;if(h>>=c,d-=c,_!==i){if(_===o)break;for(var x=_<a?_:w,v=0,N=x;N>i;)N=b[N]>>8,++v;var R=N;if(p+v+(x!==_?1:0)>r)return void Mn.log("Warning, gif stream longer than expected.");n[p++]=R;var M=p+=v;for(x!==_&&(n[p++]=R),N=x;v--;)N=b[N],n[--M]=255&N,N>>=8;w!==null&&a<4096&&(b[a++]=w<<8|R,a>=u+1&&c<12&&(++c,u=u<<1|1)),w=_}else a=o+1,u=(1<<(c=s+1))-1,w=null}return p!==r&&Mn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function kb(t){var e,n,r,s,i,o=Math.floor,a=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),p=new Array(65535),g=new Array(64),b=new Array(64),w=[],_=0,x=7,v=new Array(64),N=new Array(64),R=new Array(64),M=new Array(256),$=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(B,Q){for(var J=0,se=0,le=new Array,oe=1;oe<=16;oe++){for(var we=1;we<=B[oe];we++)le[Q[se]]=[],le[Q[se]][0]=J,le[Q[se]][1]=oe,se++,J++;J*=2}return le}function fe(B){for(var Q=B[0],J=B[1]-1;J>=0;)Q&1<<J&&(_|=1<<x),J--,--x<0&&(_==255?(Y(255),Y(0)):Y(_),x=7,_=0)}function Y(B){w.push(B)}function te(B){Y(B>>8&255),Y(255&B)}function re(B,Q,J,se,le){for(var oe,we=le[0],xe=le[240],je=function(qe,Ze){var tt,X,ce,be,De,Te,Ce,He,Je,yt,Ye=0;for(Je=0;Je<8;++Je){tt=qe[Ye],X=qe[Ye+1],ce=qe[Ye+2],be=qe[Ye+3],De=qe[Ye+4],Te=qe[Ye+5],Ce=qe[Ye+6];var Xn=tt+(He=qe[Ye+7]),Zt=tt-He,qr=X+Ce,gn=X-Ce,Cn=ce+Te,si=ce-Te,nn=be+De,fa=be-De,$n=Xn+nn,Jr=Xn-nn,Ei=qr+Cn,Vn=qr-Cn;qe[Ye]=$n+Ei,qe[Ye+4]=$n-Ei;var St=.707106781*(Vn+Jr);qe[Ye+2]=Jr+St,qe[Ye+6]=Jr-St;var vn=.382683433*(($n=fa+si)-(Vn=gn+Zt)),Qi=.5411961*$n+vn,Ar=1.306562965*Vn+vn,ps=.707106781*(Ei=si+gn),Ai=Zt+ps,ht=Zt-ps;qe[Ye+5]=ht+Qi,qe[Ye+3]=ht-Qi,qe[Ye+1]=Ai+Ar,qe[Ye+7]=Ai-Ar,Ye+=8}for(Ye=0,Je=0;Je<8;++Je){tt=qe[Ye],X=qe[Ye+8],ce=qe[Ye+16],be=qe[Ye+24],De=qe[Ye+32],Te=qe[Ye+40],Ce=qe[Ye+48];var ii=tt+(He=qe[Ye+56]),ms=tt-He,Cr=X+Ce,fr=X-Ce,or=ce+Te,Pr=ce-Te,dc=be+De,xo=be-De,gs=ii+dc,oi=ii-dc,Ds=Cr+or,Ms=Cr-or;qe[Ye]=gs+Ds,qe[Ye+32]=gs-Ds;var pr=.707106781*(Ms+oi);qe[Ye+16]=oi+pr,qe[Ye+48]=oi-pr;var Ci=.382683433*((gs=xo+Pr)-(Ms=fr+ms)),pa=.5411961*gs+Ci,ma=1.306562965*Ms+Ci,ga=.707106781*(Ds=Pr+fr),ol=ms+ga,al=ms-ga;qe[Ye+40]=al+pa,qe[Ye+24]=al-pa,qe[Ye+8]=ol+ma,qe[Ye+56]=ol-ma,Ye++}for(Je=0;Je<64;++Je)yt=qe[Je]*Ze[Je],g[Je]=yt>0?yt+.5|0:yt-.5|0;return g}(B,Q),ke=0;ke<64;++ke)b[I[ke]]=je[ke];var Ue=b[0]-J;J=b[0],Ue==0?fe(se[0]):(fe(se[p[oe=32767+Ue]]),fe(h[oe]));for(var We=63;We>0&&b[We]==0;)We--;if(We==0)return fe(we),J;for(var ut,Ae=1;Ae<=We;){for(var ne=Ae;b[Ae]==0&&Ae<=We;)++Ae;var _t=Ae-ne;if(_t>=16){ut=_t>>4;for(var dt=1;dt<=ut;++dt)fe(xe);_t&=15}oe=32767+b[Ae],fe(le[(_t<<4)+p[oe]]),fe(h[oe]),Ae++}return We!=63&&fe(we),J}function Ee(B){B=Math.min(Math.max(B,1),100),i!=B&&(function(Q){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var le=o((J[se]*Q+50)/100);le=Math.min(Math.max(le,1),255),a[I[se]]=le}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var xe=o((oe[we]*Q+50)/100);xe=Math.min(Math.max(xe,1),255),c[I[we]]=xe}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,Ue=0;Ue<8;Ue++)for(var We=0;We<8;We++)u[ke]=1/(a[I[ke]]*je[Ue]*je[We]*8),d[ke]=1/(c[I[ke]]*je[Ue]*je[We]*8),ke++}(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),i=B)}this.encode=function(B,Q){Q&&Ee(Q),w=new Array,_=0,x=7,te(65496),te(65504),te(16),Y(74),Y(70),Y(73),Y(70),Y(0),Y(1),Y(1),Y(0),te(1),te(1),Y(0),Y(0),function(){te(65499),te(132),Y(0);for(var X=0;X<64;X++)Y(a[X]);Y(1);for(var ce=0;ce<64;ce++)Y(c[ce])}(),function(X,ce){te(65472),te(17),Y(8),te(ce),te(X),Y(3),Y(1),Y(17),Y(0),Y(2),Y(17),Y(1),Y(3),Y(17),Y(1)}(B.width,B.height),function(){te(65476),te(418),Y(0);for(var X=0;X<16;X++)Y(P[X+1]);for(var ce=0;ce<=11;ce++)Y(L[ce]);Y(16);for(var be=0;be<16;be++)Y(F[be+1]);for(var De=0;De<=161;De++)Y(k[De]);Y(1);for(var Te=0;Te<16;Te++)Y(T[Te+1]);for(var Ce=0;Ce<=11;Ce++)Y(O[Ce]);Y(17);for(var He=0;He<16;He++)Y(G[He+1]);for(var Je=0;Je<=161;Je++)Y(ue[Je])}(),te(65498),te(12),Y(3),Y(1),Y(0),Y(2),Y(17),Y(3),Y(17),Y(0),Y(63),Y(0);var J=0,se=0,le=0;_=0,x=7,this.encode.displayName="_encode_";for(var oe,we,xe,je,ke,Ue,We,ut,Ae,ne=B.data,_t=B.width,dt=B.height,qe=4*_t,Ze=0;Ze<dt;){for(oe=0;oe<qe;){for(ke=qe*Ze+oe,We=-1,ut=0,Ae=0;Ae<64;Ae++)Ue=ke+(ut=Ae>>3)*qe+(We=4*(7&Ae)),Ze+ut>=dt&&(Ue-=qe*(Ze+1+ut-dt)),oe+We>=qe&&(Ue-=oe+We-qe+4),we=ne[Ue++],xe=ne[Ue++],je=ne[Ue++],v[Ae]=($[we]+$[xe+256>>0]+$[je+512>>0]>>16)-128,N[Ae]=($[we+768>>0]+$[xe+1024>>0]+$[je+1280>>0]>>16)-128,R[Ae]=($[we+1280>>0]+$[xe+1536>>0]+$[je+1792>>0]>>16)-128;J=re(v,u,J,e,r),se=re(N,d,se,n,s),le=re(R,d,le,n,s),oe+=32}Ze+=8}if(x>=0){var tt=[];tt[1]=x+1,tt[0]=(1<<x+1)-1,fe(tt)}return te(65497),new Uint8Array(w)},t=t||50,function(){for(var B=String.fromCharCode,Q=0;Q<256;Q++)M[Q]=B(Q)}(),e=ie(P,L),n=ie(T,O),r=ie(F,k),s=ie(G,ue),function(){for(var B=1,Q=2,J=1;J<=15;J++){for(var se=B;se<Q;se++)p[32767+se]=J,h[32767+se]=[],h[32767+se][1]=J,h[32767+se][0]=se;for(var le=-(Q-1);le<=-B;le++)p[32767+le]=J,h[32767+le]=[],h[32767+le][1]=J,h[32767+le][0]=Q-1+le;B<<=1,Q<<=1}}(),function(){for(var B=0;B<256;B++)$[B]=19595*B,$[B+256>>0]=38470*B,$[B+512>>0]=7471*B+32768,$[B+768>>0]=-11059*B,$[B+1024>>0]=-21709*B,$[B+1280>>0]=32768*B+8421375,$[B+1536>>0]=-27439*B,$[B+1792>>0]=-5329*B}(),Ee(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ro(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function oI(t){function e(P){if(!P)throw Error("assert :P")}function n(P,L,F){for(var k=0;4>k;k++)if(P[L+k]!=F.charCodeAt(k))return!0;return!1}function r(P,L,F,k,T){for(var O=0;O<T;O++)P[L+O]=F[k+O]}function s(P,L,F,k){for(var T=0;T<k;T++)P[L+T]=F}function i(P){return new Int32Array(P)}function o(P,L){for(var F=[],k=0;k<P;k++)F.push(new L);return F}function a(P,L){var F=[];return function k(T,O,G){for(var ue=G[O],ie=0;ie<ue&&(T.push(G.length>O+1?[]:new L),!(G.length<O+1));ie++)k(T[ie],O+1,G)}(F,0,P),F}var c=function(){var P=this;function L(f,y){for(var A=1<<y-1>>>0;f&A;)A>>>=1;return A?(f&A-1)+A:f}function F(f,y,A,j,U){e(!(j%A));do f[y+(j-=A)]=U;while(0<j)}function k(f,y,A,j,U){if(e(2328>=U),512>=U)var z=i(512);else if((z=i(U))==null)return 0;return function(q,H,K,Z,de,_e){var Se,ye,Me=H,Pe=1<<K,he=i(16),me=i(16);for(e(de!=0),e(Z!=null),e(q!=null),e(0<K),ye=0;ye<de;++ye){if(15<Z[ye])return 0;++he[Z[ye]]}if(he[0]==de)return 0;for(me[1]=0,Se=1;15>Se;++Se){if(he[Se]>1<<Se)return 0;me[Se+1]=me[Se]+he[Se]}for(ye=0;ye<de;++ye)Se=Z[ye],0<Z[ye]&&(_e[me[Se]++]=ye);if(me[15]==1)return(Z=new T).g=0,Z.value=_e[0],F(q,Me,1,Pe,Z),Pe;var Le,Be=-1,Oe=Pe-1,at=0,et=1,Nt=1,rt=1<<K;for(ye=0,Se=1,de=2;Se<=K;++Se,de<<=1){if(et+=Nt<<=1,0>(Nt-=he[Se]))return 0;for(;0<he[Se];--he[Se])(Z=new T).g=Se,Z.value=_e[ye++],F(q,Me+at,de,rt,Z),at=L(at,Se)}for(Se=K+1,de=2;15>=Se;++Se,de<<=1){if(et+=Nt<<=1,0>(Nt-=he[Se]))return 0;for(;0<he[Se];--he[Se]){if(Z=new T,(at&Oe)!=Be){for(Me+=rt,Le=1<<(Be=Se)-K;15>Be&&!(0>=(Le-=he[Be]));)++Be,Le<<=1;Pe+=rt=1<<(Le=Be-K),q[H+(Be=at&Oe)].g=Le+K,q[H+Be].value=Me-H-Be}Z.g=Se-K,Z.value=_e[ye++],F(q,Me+(at>>K),de,rt,Z),at=L(at,Se)}}return et!=2*me[15]-1?0:Pe}(f,y,A,j,U,z)}function T(){this.value=this.g=0}function O(){this.value=this.g=0}function G(){this.G=o(5,T),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ns,O)}function ue(f,y,A,j){e(f!=null),e(y!=null),e(2147483648>j),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=y,f.pa=A,f.Jd=y,f.Yc=A+j,f.Zc=4<=j?A+j-4+1:A,oe(f)}function ie(f,y){for(var A=0;0<y--;)A|=xe(f,128)<<y;return A}function fe(f,y){var A=ie(f,y);return we(f)?-A:A}function Y(f,y,A,j){var U,z=0;for(e(f!=null),e(y!=null),e(4294967288>j),f.Sb=j,f.Ra=0,f.u=0,f.h=0,4<j&&(j=4),U=0;U<j;++U)z+=y[A+U]<<8*U;f.Ra=z,f.bb=j,f.oa=y,f.pa=A}function te(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<Qh-8>>>0,++f.bb,f.u-=8;J(f)&&(f.h=1,f.u=0)}function re(f,y){if(e(0<=y),!f.h&&y<=Yh){var A=Q(f)&Kh[y];return f.u+=y,te(f),A}return f.h=1,f.u=0}function Ee(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function B(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(f){return f.Ra>>>(f.u&Qh-1)>>>0}function J(f){return e(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>Qh}function se(f,y){f.u=y,f.h=J(f)}function le(f){f.u>=xm&&(e(f.u>=xm),te(f))}function oe(f){e(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(e(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function we(f){return ie(f,1)}function xe(f,y){var A=f.Ca;0>f.b&&oe(f);var j=f.b,U=A*y>>>8,z=(f.I>>>j>U)+0;for(z?(A-=U,f.I-=U+1<<j>>>0):A=U+1,j=A,U=0;256<=j;)U+=8,j>>=8;return j=7^U+li[j],f.b-=j,f.Ca=(A<<j)-1,z}function je(f,y,A){f[y+0]=A>>24&255,f[y+1]=A>>16&255,f[y+2]=A>>8&255,f[y+3]=A>>0&255}function ke(f,y){return f[y+0]<<0|f[y+1]<<8}function Ue(f,y){return ke(f,y)|f[y+2]<<16}function We(f,y){return ke(f,y)|ke(f,y+2)<<16}function ut(f,y){var A=1<<y;return e(f!=null),e(0<y),f.X=i(A),f.X==null?0:(f.Mb=32-y,f.Xa=y,1)}function Ae(f,y){e(f!=null),e(y!=null),e(f.Xa==y.Xa),r(y.X,0,f.X,0,1<<y.Xa)}function ne(){this.X=[],this.Xa=this.Mb=0}function _t(f,y,A,j){e(A!=null),e(j!=null);var U=A[0],z=j[0];return U==0&&(U=(f*z+y/2)/y),z==0&&(z=(y*U+f/2)/f),0>=U||0>=z?0:(A[0]=U,j[0]=z,1)}function dt(f,y){return f+(1<<y)-1>>>y}function qe(f,y){return((4278255360&f)+(4278255360&y)>>>0&4278255360)+((16711935&f)+(16711935&y)>>>0&16711935)>>>0}function Ze(f,y){P[y]=function(A,j,U,z,q,H,K){var Z;for(Z=0;Z<q;++Z){var de=P[f](H[K+Z-1],U,z+Z);H[K+Z]=qe(A[j+Z],de)}}}function tt(){this.ud=this.hd=this.jd=0}function X(f,y){return((4278124286&(f^y))>>>1)+(f&y)>>>0}function ce(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function be(f,y){return ce(f+(f-y+.5>>1))}function De(f,y,A){return Math.abs(y-A)-Math.abs(f-A)}function Te(f,y,A,j,U,z,q){for(j=z[q-1],A=0;A<U;++A)z[q+A]=j=qe(f[y+A],j)}function Ce(f,y,A,j,U){var z;for(z=0;z<A;++z){var q=f[y+z],H=q>>8&255,K=16711935&(K=(K=16711935&q)+((H<<16)+H));j[U+z]=(4278255360&q)+K>>>0}}function He(f,y){y.jd=f>>0&255,y.hd=f>>8&255,y.ud=f>>16&255}function Je(f,y,A,j,U,z){var q;for(q=0;q<j;++q){var H=y[A+q],K=H>>>8,Z=H,de=255&(de=(de=H>>>16)+((f.jd<<24>>24)*(K<<24>>24)>>>5));Z=255&(Z=(Z=Z+((f.hd<<24>>24)*(K<<24>>24)>>>5))+((f.ud<<24>>24)*(de<<24>>24)>>>5)),U[z+q]=(4278255360&H)+(de<<16)+Z}}function yt(f,y,A,j,U){P[y]=function(z,q,H,K,Z,de,_e,Se,ye){for(K=_e;K<Se;++K)for(_e=0;_e<ye;++_e)Z[de++]=U(H[j(z[q++])])},P[f]=function(z,q,H,K,Z,de,_e){var Se=8>>z.b,ye=z.Ea,Me=z.K[0],Pe=z.w;if(8>Se)for(z=(1<<z.b)-1,Pe=(1<<Se)-1;q<H;++q){var he,me=0;for(he=0;he<ye;++he)he&z||(me=j(K[Z++])),de[_e++]=U(Me[me&Pe]),me>>=Se}else P["VP8LMapColor"+A](K,Z,Me,Pe,de,_e,q,H,ye)}}function Ye(f,y,A,j,U){for(A=y+A;y<A;){var z=f[y++];j[U++]=z>>16&255,j[U++]=z>>8&255,j[U++]=z>>0&255}}function Xn(f,y,A,j,U){for(A=y+A;y<A;){var z=f[y++];j[U++]=z>>16&255,j[U++]=z>>8&255,j[U++]=z>>0&255,j[U++]=z>>24&255}}function Zt(f,y,A,j,U){for(A=y+A;y<A;){var z=(q=f[y++])>>16&240|q>>12&15,q=q>>0&240|q>>28&15;j[U++]=z,j[U++]=q}}function qr(f,y,A,j,U){for(A=y+A;y<A;){var z=(q=f[y++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;j[U++]=z,j[U++]=q}}function gn(f,y,A,j,U){for(A=y+A;y<A;){var z=f[y++];j[U++]=z>>0&255,j[U++]=z>>8&255,j[U++]=z>>16&255}}function Cn(f,y,A,j,U,z){if(z==0)for(A=y+A;y<A;)je(j,((z=f[y++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),U+=32;else r(j,U,f,y,A)}function si(f,y){P[y][0]=P[f+"0"],P[y][1]=P[f+"1"],P[y][2]=P[f+"2"],P[y][3]=P[f+"3"],P[y][4]=P[f+"4"],P[y][5]=P[f+"5"],P[y][6]=P[f+"6"],P[y][7]=P[f+"7"],P[y][8]=P[f+"8"],P[y][9]=P[f+"9"],P[y][10]=P[f+"10"],P[y][11]=P[f+"11"],P[y][12]=P[f+"12"],P[y][13]=P[f+"13"],P[y][14]=P[f+"0"],P[y][15]=P[f+"0"]}function nn(f){return f==ox||f==ax||f==wy||f==lx}function fa(){this.eb=[],this.size=this.A=this.fb=0}function $n(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Jr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new fa,this.f.kb=new $n,this.sd=null}function Ei(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Vn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function St(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function vn(f,y){var A=f.T,j=y.ba.f.RGBA,U=j.eb,z=j.fb+f.ka*j.A,q=ro[y.ba.S],H=f.y,K=f.O,Z=f.f,de=f.N,_e=f.ea,Se=f.W,ye=y.cc,Me=y.dc,Pe=y.Mc,he=y.Nc,me=f.ka,Le=f.ka+f.T,Be=f.U,Oe=Be+1>>1;for(me==0?q(H,K,null,null,Z,de,_e,Se,Z,de,_e,Se,U,z,null,null,Be):(q(y.ec,y.fc,H,K,ye,Me,Pe,he,Z,de,_e,Se,U,z-j.A,U,z,Be),++A);me+2<Le;me+=2)ye=Z,Me=de,Pe=_e,he=Se,de+=f.Rc,Se+=f.Rc,z+=2*j.A,q(H,(K+=2*f.fa)-f.fa,H,K,ye,Me,Pe,he,Z,de,_e,Se,U,z-j.A,U,z,Be);return K+=f.fa,f.j+Le<f.o?(r(y.ec,y.fc,H,K,Be),r(y.cc,y.dc,Z,de,Oe),r(y.Mc,y.Nc,_e,Se,Oe),A--):1&Le||q(H,K,null,null,Z,de,_e,Se,Z,de,_e,Se,U,z+j.A,null,null,Be),A}function Qi(f,y,A){var j=f.F,U=[f.J];if(j!=null){var z=f.U,q=y.ba.S,H=q==yy||q==wy;y=y.ba.f.RGBA;var K=[0],Z=f.ka;K[0]=f.T,f.Kb&&(Z==0?--K[0]:(--Z,U[0]-=f.width),f.j+f.ka+f.T==f.o&&(K[0]=f.o-f.j-Z));var de=y.eb;Z=y.fb+Z*y.A,f=Bn(j,U[0],f.width,z,K,de,Z+(H?0:3),y.A),e(A==K),f&&nn(q)&&to(de,Z,H,z,K,y.A)}return 0}function Ar(f){var y=f.ma,A=y.ba.S,j=11>A,U=A==gy||A==vy||A==yy||A==ix||A==12||nn(A);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!ym(y.Oa,f,U?11:12))return 0;if(U&&nn(A)&&ze(),f.da)alert("todo:use_scaling");else{if(j){if(y.Ib=St,f.Kb){if(A=f.U+1>>1,y.memory=i(f.U+2*A),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+f.U,y.Mc=y.cc,y.Nc=y.dc+A,y.Ib=vn,ze()}}else alert("todo:EmitYUV");U&&(y.Jb=Qi,j&&ve())}if(j&&!C4){for(f=0;256>f;++f)I9[f]=89858*(f-128)+by>>xy,R9[f]=-22014*(f-128)+by,j9[f]=-45773*(f-128),k9[f]=113618*(f-128)+by>>xy;for(f=Cm;f<dx;++f)y=76283*(f-16)+by>>xy,L9[f-Cm]=Sn(y,255),O9[f-Cm]=Sn(y+8>>4,15);C4=1}return 1}function ps(f){var y=f.ma,A=f.U,j=f.T;return e(!(1&f.ka)),0>=A||0>=j?0:(A=y.Ib(f,y),y.Jb!=null&&y.Jb(f,y,A),y.Dc+=A,1)}function Ai(f){f.ma.memory=null}function ht(f,y,A,j){return re(f,8)!=47?0:(y[0]=re(f,14)+1,A[0]=re(f,14)+1,j[0]=re(f,1),re(f,3)!=0?0:!f.h)}function ii(f,y){if(4>f)return f+1;var A=f-2>>1;return(2+(1&f)<<A)+re(y,A)+1}function ms(f,y){return 120<y?y-120:1<=(A=((A=g9[y-1])>>4)*f+(8-(15&A)))?A:1;var A}function Cr(f,y,A){var j=Q(A),U=f[y+=255&j].g-8;return 0<U&&(se(A,A.u+8),j=Q(A),y+=f[y].value,y+=j&(1<<U)-1),se(A,A.u+f[y].g),f[y].value}function fr(f,y,A){return A.g+=f.g,A.value+=f.value<<y>>>0,e(8>=A.g),f.g}function or(f,y,A){var j=f.xc;return e((y=j==0?0:f.vc[f.md*(A>>j)+(y>>j)])<f.Wb),f.Ya[y]}function Pr(f,y,A,j){var U=f.ab,z=f.c*y,q=f.C;y=q+y;var H=A,K=j;for(j=f.Ta,A=f.Ua;0<U--;){var Z=f.gc[U],de=q,_e=y,Se=H,ye=K,Me=(K=j,H=A,Z.Ea);switch(e(de<_e),e(_e<=Z.nc),Z.hc){case 2:cy(Se,ye,(_e-de)*Me,K,H);break;case 0:var Pe=de,he=_e,me=K,Le=H,Be=(rt=Z).Ea;Pe==0&&(rx(Se,ye,null,null,1,me,Le),Te(Se,ye+1,0,0,Be-1,me,Le+1),ye+=Be,Le+=Be,++Pe);for(var Oe=1<<rt.b,at=Oe-1,et=dt(Be,rt.b),Nt=rt.K,rt=rt.w+(Pe>>rt.b)*et;Pe<he;){var bn=Nt,Tn=rt,yn=1;for(bm(Se,ye,me,Le-Be,1,me,Le);yn<Be;){var an=(yn&~at)+Oe;an>Be&&(an=Be),(0,Tc[bn[Tn++]>>8&15])(Se,ye+ +yn,me,Le+yn-Be,an-yn,me,Le+yn),yn=an}ye+=Be,Le+=Be,++Pe&at||(rt+=et)}_e!=Z.nc&&r(K,H-Me,K,H+(_e-de-1)*Me,Me);break;case 1:for(Me=Se,he=ye,Be=(Se=Z.Ea)-(Le=Se&~(me=(ye=1<<Z.b)-1)),Pe=dt(Se,Z.b),Oe=Z.K,Z=Z.w+(de>>Z.b)*Pe;de<_e;){for(at=Oe,et=Z,Nt=new tt,rt=he+Le,bn=he+Se;he<rt;)He(at[et++],Nt),bd(Nt,Me,he,ye,K,H),he+=ye,H+=ye;he<bn&&(He(at[et++],Nt),bd(Nt,Me,he,Be,K,H),he+=Be,H+=Be),++de&me||(Z+=Pe)}break;case 3:if(Se==K&&ye==H&&0<Z.b){for(he=K,Se=Me=H+(_e-de)*Me-(Le=(_e-de)*dt(Z.Ea,Z.b)),ye=K,me=H,Pe=[],Le=(Be=Le)-1;0<=Le;--Le)Pe[Le]=ye[me+Le];for(Le=Be-1;0<=Le;--Le)he[Se+Le]=Pe[Le];Zi(Z,de,_e,K,Me,K,H)}else Zi(Z,de,_e,Se,ye,K,H)}H=j,K=A}K!=A&&r(j,A,H,K,z)}function dc(f,y){var A=f.V,j=f.Ba+f.c*f.C,U=y-f.C;if(e(y<=f.l.o),e(16>=U),0<U){var z=f.l,q=f.Ta,H=f.Ua,K=z.width;if(Pr(f,U,A,j),U=H=[H],e((A=f.C)<(j=y)),e(z.v<z.va),j>z.o&&(j=z.o),A<z.j){var Z=z.j-A;A=z.j,U[0]+=Z*K}if(A>=j?A=0:(U[0]+=4*z.v,z.ka=A-z.j,z.U=z.va-z.v,z.T=j-A,A=1),A){if(H=H[0],11>(A=f.ca).S){var de=A.f.RGBA,_e=(j=A.S,U=z.U,z=z.T,Z=de.eb,de.A),Se=z;for(de=de.fb+f.Ma*de.A;0<Se--;){var ye=q,Me=H,Pe=U,he=Z,me=de;switch(j){case my:ci(ye,Me,Pe,he,me);break;case gy:Vs(ye,Me,Pe,he,me);break;case ox:Vs(ye,Me,Pe,he,me),to(he,me,0,Pe,1,0);break;case y4:yl(ye,Me,Pe,he,me);break;case vy:Cn(ye,Me,Pe,he,me,1);break;case ax:Cn(ye,Me,Pe,he,me,1),to(he,me,0,Pe,1,0);break;case yy:Cn(ye,Me,Pe,he,me,0);break;case wy:Cn(ye,Me,Pe,he,me,0),to(he,me,1,Pe,1,0);break;case ix:Ic(ye,Me,Pe,he,me);break;case lx:Ic(ye,Me,Pe,he,me),Un(he,me,Pe,1,0);break;case w4:vl(ye,Me,Pe,he,me);break;default:e(0)}H+=K,de+=_e}f.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");e(f.Ma<=A.height)}}f.C=y,e(f.C<=f.i)}function xo(f){var y;if(0<f.ua)return 0;for(y=0;y<f.Wb;++y){var A=f.Ya[y].G,j=f.Ya[y].H;if(0<A[1][j[1]+0].g||0<A[2][j[2]+0].g||0<A[3][j[3]+0].g)return 0}return 1}function gs(f,y,A,j,U,z){if(f.Z!=0){var q=f.qd,H=f.rd;for(e(Lc[f.Z]!=null);y<A;++y)Lc[f.Z](q,H,j,U,j,U,z),q=j,H=U,U+=z;f.qd=q,f.rd=H}}function oi(f,y){var A=f.l.ma,j=A.Z==0||A.Z==1?f.l.j:f.C;if(j=f.C<j?j:f.C,e(y<=f.l.o),y>j){var U=f.l.width,z=A.ca,q=A.tb+U*j,H=f.V,K=f.Ba+f.c*j,Z=f.gc;e(f.ab==1),e(Z[0].hc==3),uy(Z[0],j,y,H,K,z,q),gs(A,j,y,z,q,U)}f.C=f.Ma=y}function Ds(f,y,A,j,U,z,q){var H=f.$/j,K=f.$%j,Z=f.m,de=f.s,_e=A+f.$,Se=_e;U=A+j*U;var ye=A+j*z,Me=280+de.ua,Pe=f.Pb?H:16777216,he=0<de.ua?de.Wa:null,me=de.wc,Le=_e<ye?or(de,K,H):null;e(f.C<z),e(ye<=U);var Be=!1;e:for(;;){for(;Be||_e<ye;){var Oe=0;if(H>=Pe){var at=_e-A;e((Pe=f).Pb),Pe.wd=Pe.m,Pe.xd=at,0<Pe.s.ua&&Ae(Pe.s.Wa,Pe.s.vb),Pe=H+y9}if(K&me||(Le=or(de,K,H)),e(Le!=null),Le.Qb&&(y[_e]=Le.qb,Be=!0),!Be)if(le(Z),Le.jc){Oe=Z,at=y;var et=_e,Nt=Le.pd[Q(Oe)&ns-1];e(Le.jc),256>Nt.g?(se(Oe,Oe.u+Nt.g),at[et]=Nt.value,Oe=0):(se(Oe,Oe.u+Nt.g-256),e(256<=Nt.value),Oe=Nt.value),Oe==0&&(Be=!0)}else Oe=Cr(Le.G[0],Le.H[0],Z);if(Z.h)break;if(Be||256>Oe){if(!Be)if(Le.nd)y[_e]=(Le.qb|Oe<<8)>>>0;else{if(le(Z),Be=Cr(Le.G[1],Le.H[1],Z),le(Z),at=Cr(Le.G[2],Le.H[2],Z),et=Cr(Le.G[3],Le.H[3],Z),Z.h)break;y[_e]=(et<<24|Be<<16|Oe<<8|at)>>>0}if(Be=!1,++_e,++K>=j&&(K=0,++H,q!=null&&H<=z&&!(H%16)&&q(f,H),he!=null))for(;Se<_e;)Oe=y[Se++],he.X[(506832829*Oe&4294967295)>>>he.Mb]=Oe}else if(280>Oe){if(Oe=ii(Oe-256,Z),at=Cr(Le.G[4],Le.H[4],Z),le(Z),at=ms(j,at=ii(at,Z)),Z.h)break;if(_e-A<at||U-_e<Oe)break e;for(et=0;et<Oe;++et)y[_e+et]=y[_e+et-at];for(_e+=Oe,K+=Oe;K>=j;)K-=j,++H,q!=null&&H<=z&&!(H%16)&&q(f,H);if(e(_e<=U),K&me&&(Le=or(de,K,H)),he!=null)for(;Se<_e;)Oe=y[Se++],he.X[(506832829*Oe&4294967295)>>>he.Mb]=Oe}else{if(!(Oe<Me))break e;for(Be=Oe-280,e(he!=null);Se<_e;)Oe=y[Se++],he.X[(506832829*Oe&4294967295)>>>he.Mb]=Oe;Oe=_e,e(!(Be>>>(at=he).Xa)),y[Oe]=at.X[Be],Be=!0}Be||e(Z.h==J(Z))}if(f.Pb&&Z.h&&_e<U)e(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&Ae(f.s.vb,f.s.Wa);else{if(Z.h)break e;q!=null&&q(f,H>z?z:H),f.a=0,f.$=_e-A}return 1}return f.a=3,0}function Ms(f){e(f!=null),f.vc=null,f.yc=null,f.Ya=null;var y=f.Wa;y!=null&&(y.X=null),f.vb=null,e(f!=null)}function pr(){var f=new Hh;return f==null?null:(f.a=0,f.xb=_4,si("Predictor","VP8LPredictors"),si("Predictor","VP8LPredictors_C"),si("PredictorAdd","VP8LPredictorsAdd"),si("PredictorAdd","VP8LPredictorsAdd_C"),cy=Ce,bd=Je,ci=Ye,Vs=Xn,Ic=Zt,vl=qr,yl=gn,P.VP8LMapColor32b=Xh,P.VP8LMapColor8b=dy,f)}function Ci(f,y,A,j,U){var z=1,q=[f],H=[y],K=j.m,Z=j.s,de=null,_e=0;e:for(;;){if(A)for(;z&&re(K,1);){var Se=q,ye=H,Me=j,Pe=1,he=Me.m,me=Me.gc[Me.ab],Le=re(he,2);if(Me.Oc&1<<Le)z=0;else{switch(Me.Oc|=1<<Le,me.hc=Le,me.Ea=Se[0],me.nc=ye[0],me.K=[null],++Me.ab,e(4>=Me.ab),Le){case 0:case 1:me.b=re(he,3)+2,Pe=Ci(dt(me.Ea,me.b),dt(me.nc,me.b),0,Me,me.K),me.K=me.K[0];break;case 3:var Be,Oe=re(he,8)+1,at=16<Oe?0:4<Oe?1:2<Oe?2:3;if(Se[0]=dt(me.Ea,at),me.b=at,Be=Pe=Ci(Oe,1,0,Me,me.K)){var et,Nt=Oe,rt=me,bn=1<<(8>>rt.b),Tn=i(bn);if(Tn==null)Be=0;else{var yn=rt.K[0],an=rt.w;for(Tn[0]=rt.K[0][0],et=1;et<1*Nt;++et)Tn[et]=qe(yn[an+et],Tn[et-1]);for(;et<4*bn;++et)Tn[et]=0;rt.K[0]=null,rt.K[0]=Tn,Be=1}}Pe=Be;break;case 2:break;default:e(0)}z=Pe}}if(q=q[0],H=H[0],z&&re(K,1)&&!(z=1<=(_e=re(K,4))&&11>=_e)){j.a=3;break e}var Dn;if(Dn=z)t:{var Ln,Ht,Tr,ui=j,Ir=q,di=H,In=_e,ji=A,Ri=ui.m,$r=ui.s,rs=[null],Bs=1,so=0,Aa=v9[In];n:for(;;){if(ji&&re(Ri,1)){var Wr=re(Ri,3)+2,_l=dt(Ir,Wr),Ad=dt(di,Wr),nf=_l*Ad;if(!Ci(_l,Ad,0,ui,rs))break n;for(rs=rs[0],$r.xc=Wr,Ln=0;Ln<nf;++Ln){var Oc=rs[Ln]>>8&65535;rs[Ln]=Oc,Oc>=Bs&&(Bs=Oc+1)}}if(Ri.h)break n;for(Ht=0;5>Ht;++Ht){var lr=x4[Ht];!Ht&&0<In&&(lr+=1<<In),so<lr&&(so=lr)}var hx=o(Bs*Aa,T),I4=Bs,k4=o(I4,G);if(k4==null)var Sy=null;else e(65536>=I4),Sy=k4;var Pm=i(so);if(Sy==null||Pm==null||hx==null){ui.a=1;break n}var Ny=hx;for(Ln=Tr=0;Ln<Bs;++Ln){var Io=Sy[Ln],rf=Io.G,sf=Io.H,j4=0,Ey=1,R4=0;for(Ht=0;5>Ht;++Ht){lr=x4[Ht],rf[Ht]=Ny,sf[Ht]=Tr,!Ht&&0<In&&(lr+=1<<In);s:{var Ay,fx=lr,Cy=ui,Tm=Pm,F9=Ny,V9=Tr,px=0,Dc=Cy.m,U9=re(Dc,1);if(s(Tm,0,0,fx),U9){var B9=re(Dc,1)+1,z9=re(Dc,1),L4=re(Dc,z9==0?1:8);Tm[L4]=1,B9==2&&(Tm[L4=re(Dc,8)]=1);var Py=1}else{var O4=i(19),D4=re(Dc,4)+4;if(19<D4){Cy.a=3;var Ty=0;break s}for(Ay=0;Ay<D4;++Ay)O4[m9[Ay]]=re(Dc,3);var mx=void 0,Im=void 0,M4=Cy,q9=O4,Iy=fx,F4=Tm,gx=0,Mc=M4.m,V4=8,U4=o(128,T);r:for(;k(U4,0,7,q9,19);){if(re(Mc,1)){var $9=2+2*re(Mc,3);if((mx=2+re(Mc,$9))>Iy)break r}else mx=Iy;for(Im=0;Im<Iy&&mx--;){le(Mc);var B4=U4[0+(127&Q(Mc))];se(Mc,Mc.u+B4.g);var of=B4.value;if(16>of)F4[Im++]=of,of!=0&&(V4=of);else{var W9=of==16,z4=of-16,H9=f9[z4],q4=re(Mc,h9[z4])+H9;if(Im+q4>Iy)break r;for(var G9=W9?V4:0;0<q4--;)F4[Im++]=G9}}gx=1;break r}gx||(M4.a=3),Py=gx}(Py=Py&&!Dc.h)&&(px=k(F9,V9,8,Tm,fx)),Py&&px!=0?Ty=px:(Cy.a=3,Ty=0)}if(Ty==0)break n;if(Ey&&p9[Ht]==1&&(Ey=Ny[Tr].g==0),j4+=Ny[Tr].g,Tr+=Ty,3>=Ht){var km,vx=Pm[0];for(km=1;km<lr;++km)Pm[km]>vx&&(vx=Pm[km]);R4+=vx}}if(Io.nd=Ey,Io.Qb=0,Ey&&(Io.qb=(rf[3][sf[3]+0].value<<24|rf[1][sf[1]+0].value<<16|rf[2][sf[2]+0].value)>>>0,j4==0&&256>rf[0][sf[0]+0].value&&(Io.Qb=1,Io.qb+=rf[0][sf[0]+0].value<<8)),Io.jc=!Io.Qb&&6>R4,Io.jc){var ky,Sl=Io;for(ky=0;ky<ns;++ky){var Fc=ky,Vc=Sl.pd[Fc],jy=Sl.G[0][Sl.H[0]+Fc];256<=jy.value?(Vc.g=jy.g+256,Vc.value=jy.value):(Vc.g=0,Vc.value=0,Fc>>=fr(jy,8,Vc),Fc>>=fr(Sl.G[1][Sl.H[1]+Fc],16,Vc),Fc>>=fr(Sl.G[2][Sl.H[2]+Fc],0,Vc),fr(Sl.G[3][Sl.H[3]+Fc],24,Vc))}}}$r.vc=rs,$r.Wb=Bs,$r.Ya=Sy,$r.yc=hx,Dn=1;break t}Dn=0}if(!(z=Dn)){j.a=3;break e}if(0<_e){if(Z.ua=1<<_e,!ut(Z.Wa,_e)){j.a=1,z=0;break e}}else Z.ua=0;var yx=j,$4=q,K9=H,wx=yx.s,xx=wx.xc;if(yx.c=$4,yx.i=K9,wx.md=dt($4,xx),wx.wc=xx==0?-1:(1<<xx)-1,A){j.xb=E9;break e}if((de=i(q*H))==null){j.a=1,z=0;break e}z=(z=Ds(j,de,0,q,H,H,null))&&!K.h;break e}return z?(U!=null?U[0]=de:(e(de==null),e(A)),j.$=0,A||Ms(Z)):Ms(Z),z}function pa(f,y){var A=f.c*f.i,j=A+y+16*y;return e(f.c<=y),f.V=i(j),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+A+y,1)}function ma(f,y){var A=f.C,j=y-A,U=f.V,z=f.Ba+f.c*A;for(e(y<=f.l.o);0<j;){var q=16<j?16:j,H=f.l.ma,K=f.l.width,Z=K*q,de=H.ca,_e=H.tb+K*A,Se=f.Ta,ye=f.Ua;Pr(f,q,U,z),gr(Se,ye,de,_e,Z),gs(H,A,A+q,de,_e,K),j-=q,U+=q*f.c,A+=q}e(A==y),f.C=f.Ma=y}function ga(){this.ub=this.yd=this.td=this.Rb=0}function ol(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function al(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Dh(){this.Yb=function(){var f=[];return function y(A,j,U){for(var z=U[j],q=0;q<z&&(A.push(U.length>j+1?[]:0),!(U.length<j+1));q++)y(A[q],j+1,U)}(f,0,[3,11]),f}()}function hc(){this.jb=i(3),this.Wc=a([4,8],Dh),this.Xc=a([4,17],Dh)}function Mh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function va(){this.ld=this.La=this.dd=this.tc=0}function ya(){this.Na=this.la=0}function bo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ll(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function pm(){this.uc=this.M=this.Nb=0,this.wa=Array(new va),this.Y=0,this.ya=Array(new ll),this.aa=0,this.l=new cl}function ad(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Fh(){this.cb=this.a=0,this.sc="",this.m=new Ee,this.Od=new ga,this.Kc=new ol,this.ed=new Mh,this.Qa=new al,this.Ic=this.$c=this.Aa=0,this.D=new pm,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Ee),this.ia=0,this.pb=o(4,bo),this.Pa=new hc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ad),this.Hd=0,this.rb=Array(new ya),this.sb=0,this.wa=Array(new va),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ll),this.L=this.aa=0,this.gd=a([4,2],va),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function cl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ld(){var f=new Fh;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,Am||(Am=Vh)),f}function Wn(f,y,A){return f.a==0&&(f.a=y,f.sc=A,f.cb=0),0}function cd(f,y,A){return 3<=A&&f[y+0]==157&&f[y+1]==1&&f[y+2]==42}function ud(f,y){if(f==null)return 0;if(f.a=0,f.sc="OK",y==null)return Wn(f,2,"null VP8Io passed to VP8GetHeaders()");var A=y.data,j=y.w,U=y.ha;if(4>U)return Wn(f,7,"Truncated header.");var z=A[j+0]|A[j+1]<<8|A[j+2]<<16,q=f.Od;if(q.Rb=!(1&z),q.td=z>>1&7,q.yd=z>>4&1,q.ub=z>>5,3<q.td)return Wn(f,3,"Incorrect keyframe parameters.");if(!q.yd)return Wn(f,4,"Frame not displayable.");j+=3,U-=3;var H=f.Kc;if(q.Rb){if(7>U)return Wn(f,7,"cannot parse picture header");if(!cd(A,j,U))return Wn(f,3,"Bad code word");H.c=16383&(A[j+4]<<8|A[j+3]),H.Td=A[j+4]>>6,H.i=16383&(A[j+6]<<8|A[j+5]),H.Ud=A[j+6]>>6,j+=7,U-=7,f.za=H.c+15>>4,f.Ub=H.i+15>>4,y.width=H.c,y.height=H.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,s((z=f.Pa).jb,0,255,z.jb.length),e((z=f.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,s(z.Zb,0,0,z.Zb.length),s(z.Lb,0,0,z.Lb)}if(q.ub>U)return Wn(f,7,"bad partition length");ue(z=f.m,A,j,q.ub),j+=q.ub,U-=q.ub,q.Rb&&(H.Ld=we(z),H.Kd=we(z)),H=f.Qa;var K,Z=f.Pa;if(e(z!=null),e(H!=null),H.Cb=we(z),H.Cb){if(H.Bb=we(z),we(z)){for(H.Fb=we(z),K=0;4>K;++K)H.Zb[K]=we(z)?fe(z,7):0;for(K=0;4>K;++K)H.Lb[K]=we(z)?fe(z,6):0}if(H.Bb)for(K=0;3>K;++K)Z.jb[K]=we(z)?ie(z,8):255}else H.Bb=0;if(z.Ka)return Wn(f,3,"cannot parse segment header");if((H=f.ed).zd=we(z),H.Tb=ie(z,6),H.wb=ie(z,3),H.Pc=we(z),H.Pc&&we(z)){for(Z=0;4>Z;++Z)we(z)&&(H.vd[Z]=fe(z,6));for(Z=0;4>Z;++Z)we(z)&&(H.od[Z]=fe(z,6))}if(f.L=H.Tb==0?0:H.zd?1:2,z.Ka)return Wn(f,3,"cannot parse filter header");var de=U;if(U=K=j,j=K+de,H=de,f.Xb=(1<<ie(f.m,2))-1,de<3*(Z=f.Xb))A=7;else{for(K+=3*Z,H-=3*Z,de=0;de<Z;++de){var _e=A[U+0]|A[U+1]<<8|A[U+2]<<16;_e>H&&(_e=H),ue(f.Jc[+de],A,K,_e),K+=_e,H-=_e,U+=3}ue(f.Jc[+Z],A,K,H),A=K<j?0:5}if(A!=0)return Wn(f,A,"cannot parse partitions");for(A=ie(K=f.m,7),U=we(K)?fe(K,4):0,j=we(K)?fe(K,4):0,H=we(K)?fe(K,4):0,Z=we(K)?fe(K,4):0,K=we(K)?fe(K,4):0,de=f.Qa,_e=0;4>_e;++_e){if(de.Cb){var Se=de.Zb[_e];de.Fb||(Se+=A)}else{if(0<_e){f.pb[_e]=f.pb[0];continue}Se=A}var ye=f.pb[_e];ye.Sc[0]=cx[Sn(Se+U,127)],ye.Sc[1]=ux[Sn(Se+0,127)],ye.Eb[0]=2*cx[Sn(Se+j,127)],ye.Eb[1]=101581*ux[Sn(Se+H,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=cx[Sn(Se+Z,117)],ye.Qc[1]=ux[Sn(Se+K,127)],ye.lc=Se+K}if(!q.Rb)return Wn(f,4,"Not a key frame.");for(we(z),q=f.Pa,A=0;4>A;++A){for(U=0;8>U;++U)for(j=0;3>j;++j)for(H=0;11>H;++H)Z=xe(z,S9[A][U][j][H])?ie(z,8):b9[A][U][j][H],q.Wc[A][U].Yb[j][H]=Z;for(U=0;17>U;++U)q.Xc[A][U]=q.Wc[A][N9[U]]}return f.kc=we(z),f.kc&&(f.Bd=ie(z,8)),f.cb=1}function Vh(f,y,A,j,U,z,q){var H=y[U].Yb[A];for(A=0;16>U;++U){if(!xe(f,H[A+0]))return U;for(;!xe(f,H[A+1]);)if(H=y[++U].Yb[0],A=0,U==16)return 16;var K=y[U+1].Yb;if(xe(f,H[A+2])){var Z=f,de=0;if(xe(Z,(Se=H)[(_e=A)+3]))if(xe(Z,Se[_e+6])){for(H=0,_e=2*(de=xe(Z,Se[_e+8]))+(Se=xe(Z,Se[_e+9+de])),de=0,Se=w9[_e];Se[H];++H)de+=de+xe(Z,Se[H]);de+=3+(8<<_e)}else xe(Z,Se[_e+7])?(de=7+2*xe(Z,165),de+=xe(Z,145)):de=5+xe(Z,159);else de=xe(Z,Se[_e+4])?3+xe(Z,Se[_e+5]):2;H=K[2]}else de=1,H=K[1];K=q+x9[U],0>(Z=f).b&&oe(Z);var _e,Se=Z.b,ye=(_e=Z.Ca>>1)-(Z.I>>Se)>>31;--Z.b,Z.Ca+=ye,Z.Ca|=1,Z.I-=(_e+1&ye)<<Se,z[K]=((de^ye)-ye)*j[(0<U)+0]}return 16}function dd(f){var y=f.rb[f.sb-1];y.la=0,y.Na=0,s(f.zc,0,0,f.zc.length),f.ja=0}function Uh(f,y){if(f==null)return 0;if(y==null)return Wn(f,2,"NULL VP8Io parameter in VP8Decode().");if(!f.cb&&!ud(f,y))return 0;if(e(f.cb),y.ac==null||y.ac(y)){y.ob&&(f.L=0);var A=_y[f.L];if(f.L==2?(f.yb=0,f.zb=0):(f.yb=y.v-A>>4,f.zb=y.j-A>>4,0>f.yb&&(f.yb=0),0>f.zb&&(f.zb=0)),f.Va=y.o+15+A>>4,f.Hb=y.va+15+A>>4,f.Hb>f.za&&(f.Hb=f.za),f.Va>f.Ub&&(f.Va=f.Ub),0<f.L){var j=f.ed;for(A=0;4>A;++A){var U;if(f.Qa.Cb){var z=f.Qa.Lb[A];f.Qa.Fb||(z+=j.Tb)}else z=j.Tb;for(U=0;1>=U;++U){var q=f.gd[A][U],H=z;if(j.Pc&&(H+=j.vd[0],U&&(H+=j.od[0])),0<(H=0>H?0:63<H?63:H)){var K=H;0<j.wb&&(K=4<j.wb?K>>2:K>>1)>9-j.wb&&(K=9-j.wb),1>K&&(K=1),q.dd=K,q.tc=2*H+K,q.ld=40<=H?2:15<=H?1:0}else q.tc=0;q.La=U}}}A=0}else Wn(f,6,"Frame setup failed"),A=f.a;if(A=A==0){if(A){f.$c=0,0<f.Aa||(f.Ic=M9);e:{A=f.Ic,j=4*(K=f.za);var Z=32*K,de=K+1,_e=0<f.L?K*(0<f.Aa?2:1):0,Se=(f.Aa==2?2:1)*K;if((q=j+832+(U=3*(16*A+_y[f.L])/2*Z)+(z=f.Fa!=null&&0<f.Fa.length?f.Kc.c*f.Kc.i:0))!=q)A=0;else{if(q>f.Vb){if(f.Vb=0,f.Ec=i(q),f.Fc=0,f.Ec==null){A=Wn(f,1,"no memory during frame initialization.");break e}f.Vb=q}q=f.Ec,H=f.Fc,f.Ac=q,f.Bc=H,H+=j,f.Gd=o(Z,ad),f.Hd=0,f.rb=o(de+1,ya),f.sb=1,f.wa=_e?o(_e,va):null,f.Y=0,f.D.Nb=0,f.D.wa=f.wa,f.D.Y=f.Y,0<f.Aa&&(f.D.Y+=K),e(!0),f.oc=q,f.pc=H,H+=832,f.ya=o(Se,ll),f.aa=0,f.D.ya=f.ya,f.D.aa=f.aa,f.Aa==2&&(f.D.aa+=K),f.R=16*K,f.B=8*K,K=(Z=_y[f.L])*f.R,Z=Z/2*f.B,f.sa=q,f.ta=H+K,f.qa=f.sa,f.ra=f.ta+16*A*f.R+Z,f.Ha=f.qa,f.Ia=f.ra+8*A*f.B+Z,f.$c=0,H+=U,f.mb=z?q:null,f.nb=z?H:null,e(H+z<=f.Fc+f.Vb),dd(f),s(f.Ac,f.Bc,0,j),A=1}}if(A){if(y.ka=0,y.y=f.sa,y.O=f.ta,y.f=f.qa,y.N=f.ra,y.ea=f.Ha,y.Vd=f.Ia,y.fa=f.R,y.Rc=f.B,y.F=null,y.J=0,!fy){for(A=-255;255>=A;++A)Dr[255+A]=0>A?-A:A;for(A=-1020;1020>=A;++A)xl[1020+A]=-128>A?-128:127<A?127:A;for(A=-112;112>=A;++A)Em[112+A]=-16>A?-16:15<A?15:A;for(A=-255;510>=A;++A)tf[255+A]=0>A?0:255<A?255:A;fy=1}Zh=hl,wl=pc,_m=hd,Us=Pn,Ji=dl,mr=ul,Jh=bc,hy=Ao,Sm=Sc,_d=xd,Sd=_c,kc=pl,Nd=Nc,ef=_a,Ed=fl,jc=Ii,Nm=Or,eo=Wh,To[0]=Xi,To[1]=mm,To[2]=xa,To[3]=vm,To[4]=qh,To[5]=vc,To[6]=Pi,To[7]=pd,To[8]=wc,To[9]=yc,Rc[0]=wa,Rc[1]=gm,Rc[2]=So,Rc[3]=mc,Rc[4]=Hn,Rc[5]=zh,Rc[6]=fd,bl[0]=Eo,bl[1]=Bh,bl[2]=$h,bl[3]=No,bl[4]=_n,bl[5]=md,bl[6]=gd,A=1}else A=0}A&&(A=function(ye,Me){for(ye.M=0;ye.M<ye.Va;++ye.M){var Pe,he=ye.Jc[ye.M&ye.Xb],me=ye.m,Le=ye;for(Pe=0;Pe<Le.za;++Pe){var Be=me,Oe=Le,at=Oe.Ac,et=Oe.Bc+4*Pe,Nt=Oe.zc,rt=Oe.ya[Oe.aa+Pe];if(Oe.Qa.Bb?rt.$b=xe(Be,Oe.Pa.jb[0])?2+xe(Be,Oe.Pa.jb[2]):xe(Be,Oe.Pa.jb[1]):rt.$b=0,Oe.kc&&(rt.Ad=xe(Be,Oe.Bd)),rt.Za=!xe(Be,145)+0,rt.Za){var bn=rt.Ob,Tn=0;for(Oe=0;4>Oe;++Oe){var yn,an=Nt[0+Oe];for(yn=0;4>yn;++yn){an=_9[at[et+yn]][an];for(var Dn=b4[xe(Be,an[0])];0<Dn;)Dn=b4[2*Dn+xe(Be,an[Dn])];an=-Dn,at[et+yn]=an}r(bn,Tn,at,et,4),Tn+=4,Nt[0+Oe]=an}}else an=xe(Be,156)?xe(Be,128)?1:3:xe(Be,163)?2:0,rt.Ob[0]=an,s(at,et,an,4),s(Nt,0,an,4);rt.Dd=xe(Be,142)?xe(Be,114)?xe(Be,183)?1:3:2:0}if(Le.m.Ka)return Wn(ye,7,"Premature end-of-partition0 encountered.");for(;ye.ja<ye.za;++ye.ja){if(Le=he,Be=(me=ye).rb[me.sb-1],at=me.rb[me.sb+me.ja],Pe=me.ya[me.aa+me.ja],et=me.kc?Pe.Ad:0)Be.la=at.la=0,Pe.Za||(Be.Na=at.Na=0),Pe.Hc=0,Pe.Gc=0,Pe.ia=0;else{var Ln,Ht;if(Be=at,at=Le,et=me.Pa.Xc,Nt=me.ya[me.aa+me.ja],rt=me.pb[Nt.$b],Oe=Nt.ad,bn=0,Tn=me.rb[me.sb-1],an=yn=0,s(Oe,bn,0,384),Nt.Za)var Tr=0,ui=et[3];else{Dn=i(16);var Ir=Be.Na+Tn.Na;if(Ir=Am(at,et[1],Ir,rt.Eb,0,Dn,0),Be.Na=Tn.Na=(0<Ir)+0,1<Ir)Zh(Dn,0,Oe,bn);else{var di=Dn[0]+3>>3;for(Dn=0;256>Dn;Dn+=16)Oe[bn+Dn]=di}Tr=1,ui=et[0]}var In=15&Be.la,ji=15&Tn.la;for(Dn=0;4>Dn;++Dn){var Ri=1&ji;for(di=Ht=0;4>di;++di)In=In>>1|(Ri=(Ir=Am(at,ui,Ir=Ri+(1&In),rt.Sc,Tr,Oe,bn))>Tr)<<7,Ht=Ht<<2|(3<Ir?3:1<Ir?2:Oe[bn+0]!=0),bn+=16;In>>=4,ji=ji>>1|Ri<<7,yn=(yn<<8|Ht)>>>0}for(ui=In,Tr=ji>>4,Ln=0;4>Ln;Ln+=2){for(Ht=0,In=Be.la>>4+Ln,ji=Tn.la>>4+Ln,Dn=0;2>Dn;++Dn){for(Ri=1&ji,di=0;2>di;++di)Ir=Ri+(1&In),In=In>>1|(Ri=0<(Ir=Am(at,et[2],Ir,rt.Qc,0,Oe,bn)))<<3,Ht=Ht<<2|(3<Ir?3:1<Ir?2:Oe[bn+0]!=0),bn+=16;In>>=2,ji=ji>>1|Ri<<5}an|=Ht<<4*Ln,ui|=In<<4<<Ln,Tr|=(240&ji)<<Ln}Be.la=ui,Tn.la=Tr,Nt.Hc=yn,Nt.Gc=an,Nt.ia=43690&an?0:rt.ia,et=!(yn|an)}if(0<me.L&&(me.wa[me.Y+me.ja]=me.gd[Pe.$b][Pe.Za],me.wa[me.Y+me.ja].La|=!et),Le.Ka)return Wn(ye,7,"Premature end-of-file encountered.")}if(dd(ye),me=Me,Le=1,Pe=(he=ye).D,Be=0<he.L&&he.M>=he.zb&&he.M<=he.Va,he.Aa==0)e:{if(Pe.M=he.M,Pe.uc=Be,Na(he,Pe),Le=1,Pe=(Ht=he.D).Nb,Be=(an=_y[he.L])*he.R,at=an/2*he.B,Dn=16*Pe*he.R,di=8*Pe*he.B,et=he.sa,Nt=he.ta-Be+Dn,rt=he.qa,Oe=he.ra-at+di,bn=he.Ha,Tn=he.Ia-at+di,ji=(In=Ht.M)==0,yn=In>=he.Va-1,he.Aa==2&&Na(he,Ht),Ht.uc)for(Ri=(Ir=he).D.M,e(Ir.D.uc),Ht=Ir.yb;Ht<Ir.Hb;++Ht){Tr=Ht,ui=Ri;var $r=(rs=(lr=Ir).D).Nb;Ln=lr.R;var rs=rs.wa[rs.Y+Tr],Bs=lr.sa,so=lr.ta+16*$r*Ln+16*Tr,Aa=rs.dd,Wr=rs.tc;if(Wr!=0)if(e(3<=Wr),lr.L==1)0<Tr&&jc(Bs,so,Ln,Wr+4),rs.La&&eo(Bs,so,Ln,Wr),0<ui&&Ed(Bs,so,Ln,Wr+4),rs.La&&Nm(Bs,so,Ln,Wr);else{var _l=lr.B,Ad=lr.qa,nf=lr.ra+8*$r*_l+8*Tr,Oc=lr.Ha,lr=lr.Ia+8*$r*_l+8*Tr;$r=rs.ld,0<Tr&&(hy(Bs,so,Ln,Wr+4,Aa,$r),_d(Ad,nf,Oc,lr,_l,Wr+4,Aa,$r)),rs.La&&(kc(Bs,so,Ln,Wr,Aa,$r),ef(Ad,nf,Oc,lr,_l,Wr,Aa,$r)),0<ui&&(Jh(Bs,so,Ln,Wr+4,Aa,$r),Sm(Ad,nf,Oc,lr,_l,Wr+4,Aa,$r)),rs.La&&(Sd(Bs,so,Ln,Wr,Aa,$r),Nd(Ad,nf,Oc,lr,_l,Wr,Aa,$r))}}if(he.ia&&alert("todo:DitherRow"),me.put!=null){if(Ht=16*In,In=16*(In+1),ji?(me.y=he.sa,me.O=he.ta+Dn,me.f=he.qa,me.N=he.ra+di,me.ea=he.Ha,me.W=he.Ia+di):(Ht-=an,me.y=et,me.O=Nt,me.f=rt,me.N=Oe,me.ea=bn,me.W=Tn),yn||(In-=an),In>me.o&&(In=me.o),me.F=null,me.J=null,he.Fa!=null&&0<he.Fa.length&&Ht<In&&(me.J=Pc(he,me,Ht,In-Ht),me.F=he.mb,me.F==null&&me.F.length==0)){Le=Wn(he,3,"Could not decode alpha data.");break e}Ht<me.j&&(an=me.j-Ht,Ht=me.j,e(!(1&an)),me.O+=he.R*an,me.N+=he.B*(an>>1),me.W+=he.B*(an>>1),me.F!=null&&(me.J+=me.width*an)),Ht<In&&(me.O+=me.v,me.N+=me.v>>1,me.W+=me.v>>1,me.F!=null&&(me.J+=me.v),me.ka=Ht-me.j,me.U=me.va-me.v,me.T=In-Ht,Le=me.put(me))}Pe+1!=he.Ic||yn||(r(he.sa,he.ta-Be,et,Nt+16*he.R,Be),r(he.qa,he.ra-at,rt,Oe+8*he.B,at),r(he.Ha,he.Ia-at,bn,Tn+8*he.B,at))}if(!Le)return Wn(ye,6,"Output aborted.")}return 1}(f,y)),y.bc!=null&&y.bc(y),A&=1}return A?(f.cb=0,A):0}function ai(f,y,A,j,U){U=f[y+A+32*j]+(U>>3),f[y+A+32*j]=-256&U?0>U?0:255:U}function fc(f,y,A,j,U,z){ai(f,y,0,A,j+U),ai(f,y,1,A,j+z),ai(f,y,2,A,j-z),ai(f,y,3,A,j-U)}function ar(f){return(20091*f>>16)+f}function Fs(f,y,A,j){var U,z=0,q=i(16);for(U=0;4>U;++U){var H=f[y+0]+f[y+8],K=f[y+0]-f[y+8],Z=(35468*f[y+4]>>16)-ar(f[y+12]),de=ar(f[y+4])+(35468*f[y+12]>>16);q[z+0]=H+de,q[z+1]=K+Z,q[z+2]=K-Z,q[z+3]=H-de,z+=4,y++}for(U=z=0;4>U;++U)H=(f=q[z+0]+4)+q[z+8],K=f-q[z+8],Z=(35468*q[z+4]>>16)-ar(q[z+12]),ai(A,j,0,0,H+(de=ar(q[z+4])+(35468*q[z+12]>>16))),ai(A,j,1,0,K+Z),ai(A,j,2,0,K-Z),ai(A,j,3,0,H-de),z++,j+=32}function ul(f,y,A,j){var U=f[y+0]+4,z=35468*f[y+4]>>16,q=ar(f[y+4]),H=35468*f[y+1]>>16;fc(A,j,0,U+q,f=ar(f[y+1]),H),fc(A,j,1,U+z,f,H),fc(A,j,2,U-z,f,H),fc(A,j,3,U-q,f,H)}function pc(f,y,A,j,U){Fs(f,y,A,j),U&&Fs(f,y+16,A,j+4)}function hd(f,y,A,j){wl(f,y+0,A,j,1),wl(f,y+32,A,j+128,1)}function Pn(f,y,A,j){var U;for(f=f[y+0]+4,U=0;4>U;++U)for(y=0;4>y;++y)ai(A,j,y,U,f)}function dl(f,y,A,j){f[y+0]&&Us(f,y+0,A,j),f[y+16]&&Us(f,y+16,A,j+4),f[y+32]&&Us(f,y+32,A,j+128),f[y+48]&&Us(f,y+48,A,j+128+4)}function hl(f,y,A,j){var U,z=i(16);for(U=0;4>U;++U){var q=f[y+0+U]+f[y+12+U],H=f[y+4+U]+f[y+8+U],K=f[y+4+U]-f[y+8+U],Z=f[y+0+U]-f[y+12+U];z[0+U]=q+H,z[8+U]=q-H,z[4+U]=Z+K,z[12+U]=Z-K}for(U=0;4>U;++U)q=(f=z[0+4*U]+3)+z[3+4*U],H=z[1+4*U]+z[2+4*U],K=z[1+4*U]-z[2+4*U],Z=f-z[3+4*U],A[j+0]=q+H>>3,A[j+16]=Z+K>>3,A[j+32]=q-H>>3,A[j+48]=Z-K>>3,j+=64}function _o(f,y,A){var j,U=y-32,z=ki,q=255-f[U-1];for(j=0;j<A;++j){var H,K=z,Z=q+f[y-1];for(H=0;H<A;++H)f[y+H]=K[Z+f[U+H]];y+=32}}function mm(f,y){_o(f,y,4)}function Bh(f,y){_o(f,y,8)}function gm(f,y){_o(f,y,16)}function So(f,y){var A;for(A=0;16>A;++A)r(f,y+32*A,f,y-32,16)}function mc(f,y){var A;for(A=16;0<A;--A)s(f,y,f[y-1],16),y+=32}function gc(f,y,A){var j;for(j=0;16>j;++j)s(y,A+32*j,f,16)}function wa(f,y){var A,j=16;for(A=0;16>A;++A)j+=f[y-1+32*A]+f[y+A-32];gc(j>>5,f,y)}function Hn(f,y){var A,j=8;for(A=0;16>A;++A)j+=f[y-1+32*A];gc(j>>4,f,y)}function zh(f,y){var A,j=8;for(A=0;16>A;++A)j+=f[y+A-32];gc(j>>4,f,y)}function fd(f,y){gc(128,f,y)}function It(f,y,A){return f+2*y+A+2>>2}function xa(f,y){var A,j=y-32;for(j=new Uint8Array([It(f[j-1],f[j+0],f[j+1]),It(f[j+0],f[j+1],f[j+2]),It(f[j+1],f[j+2],f[j+3]),It(f[j+2],f[j+3],f[j+4])]),A=0;4>A;++A)r(f,y+32*A,j,0,j.length)}function vm(f,y){var A=f[y-1],j=f[y-1+32],U=f[y-1+64],z=f[y-1+96];je(f,y+0,16843009*It(f[y-1-32],A,j)),je(f,y+32,16843009*It(A,j,U)),je(f,y+64,16843009*It(j,U,z)),je(f,y+96,16843009*It(U,z,z))}function Xi(f,y){var A,j=4;for(A=0;4>A;++A)j+=f[y+A-32]+f[y-1+32*A];for(j>>=3,A=0;4>A;++A)s(f,y+32*A,j,4)}function qh(f,y){var A=f[y-1+0],j=f[y-1+32],U=f[y-1+64],z=f[y-1-32],q=f[y+0-32],H=f[y+1-32],K=f[y+2-32],Z=f[y+3-32];f[y+0+96]=It(j,U,f[y-1+96]),f[y+1+96]=f[y+0+64]=It(A,j,U),f[y+2+96]=f[y+1+64]=f[y+0+32]=It(z,A,j),f[y+3+96]=f[y+2+64]=f[y+1+32]=f[y+0+0]=It(q,z,A),f[y+3+64]=f[y+2+32]=f[y+1+0]=It(H,q,z),f[y+3+32]=f[y+2+0]=It(K,H,q),f[y+3+0]=It(Z,K,H)}function Pi(f,y){var A=f[y+1-32],j=f[y+2-32],U=f[y+3-32],z=f[y+4-32],q=f[y+5-32],H=f[y+6-32],K=f[y+7-32];f[y+0+0]=It(f[y+0-32],A,j),f[y+1+0]=f[y+0+32]=It(A,j,U),f[y+2+0]=f[y+1+32]=f[y+0+64]=It(j,U,z),f[y+3+0]=f[y+2+32]=f[y+1+64]=f[y+0+96]=It(U,z,q),f[y+3+32]=f[y+2+64]=f[y+1+96]=It(z,q,H),f[y+3+64]=f[y+2+96]=It(q,H,K),f[y+3+96]=It(H,K,K)}function vc(f,y){var A=f[y-1+0],j=f[y-1+32],U=f[y-1+64],z=f[y-1-32],q=f[y+0-32],H=f[y+1-32],K=f[y+2-32],Z=f[y+3-32];f[y+0+0]=f[y+1+64]=z+q+1>>1,f[y+1+0]=f[y+2+64]=q+H+1>>1,f[y+2+0]=f[y+3+64]=H+K+1>>1,f[y+3+0]=K+Z+1>>1,f[y+0+96]=It(U,j,A),f[y+0+64]=It(j,A,z),f[y+0+32]=f[y+1+96]=It(A,z,q),f[y+1+32]=f[y+2+96]=It(z,q,H),f[y+2+32]=f[y+3+96]=It(q,H,K),f[y+3+32]=It(H,K,Z)}function pd(f,y){var A=f[y+0-32],j=f[y+1-32],U=f[y+2-32],z=f[y+3-32],q=f[y+4-32],H=f[y+5-32],K=f[y+6-32],Z=f[y+7-32];f[y+0+0]=A+j+1>>1,f[y+1+0]=f[y+0+64]=j+U+1>>1,f[y+2+0]=f[y+1+64]=U+z+1>>1,f[y+3+0]=f[y+2+64]=z+q+1>>1,f[y+0+32]=It(A,j,U),f[y+1+32]=f[y+0+96]=It(j,U,z),f[y+2+32]=f[y+1+96]=It(U,z,q),f[y+3+32]=f[y+2+96]=It(z,q,H),f[y+3+64]=It(q,H,K),f[y+3+96]=It(H,K,Z)}function yc(f,y){var A=f[y-1+0],j=f[y-1+32],U=f[y-1+64],z=f[y-1+96];f[y+0+0]=A+j+1>>1,f[y+2+0]=f[y+0+32]=j+U+1>>1,f[y+2+32]=f[y+0+64]=U+z+1>>1,f[y+1+0]=It(A,j,U),f[y+3+0]=f[y+1+32]=It(j,U,z),f[y+3+32]=f[y+1+64]=It(U,z,z),f[y+3+64]=f[y+2+64]=f[y+0+96]=f[y+1+96]=f[y+2+96]=f[y+3+96]=z}function wc(f,y){var A=f[y-1+0],j=f[y-1+32],U=f[y-1+64],z=f[y-1+96],q=f[y-1-32],H=f[y+0-32],K=f[y+1-32],Z=f[y+2-32];f[y+0+0]=f[y+2+32]=A+q+1>>1,f[y+0+32]=f[y+2+64]=j+A+1>>1,f[y+0+64]=f[y+2+96]=U+j+1>>1,f[y+0+96]=z+U+1>>1,f[y+3+0]=It(H,K,Z),f[y+2+0]=It(q,H,K),f[y+1+0]=f[y+3+32]=It(A,q,H),f[y+1+32]=f[y+3+64]=It(j,A,q),f[y+1+64]=f[y+3+96]=It(U,j,A),f[y+1+96]=It(z,U,j)}function $h(f,y){var A;for(A=0;8>A;++A)r(f,y+32*A,f,y-32,8)}function No(f,y){var A;for(A=0;8>A;++A)s(f,y,f[y-1],8),y+=32}function Ti(f,y,A){var j;for(j=0;8>j;++j)s(y,A+32*j,f,8)}function Eo(f,y){var A,j=8;for(A=0;8>A;++A)j+=f[y+A-32]+f[y-1+32*A];Ti(j>>4,f,y)}function md(f,y){var A,j=4;for(A=0;8>A;++A)j+=f[y+A-32];Ti(j>>3,f,y)}function _n(f,y){var A,j=4;for(A=0;8>A;++A)j+=f[y-1+32*A];Ti(j>>3,f,y)}function gd(f,y){Ti(128,f,y)}function xc(f,y,A){var j=f[y-A],U=f[y+0],z=3*(U-j)+sx[1020+f[y-2*A]-f[y+A]],q=py[112+(z+4>>3)];f[y-A]=ki[255+j+py[112+(z+3>>3)]],f[y+0]=ki[255+U-q]}function vd(f,y,A,j){var U=f[y+0],z=f[y+A];return no[255+f[y-2*A]-f[y-A]]>j||no[255+z-U]>j}function yd(f,y,A,j){return 4*no[255+f[y-A]-f[y+0]]+no[255+f[y-2*A]-f[y+A]]<=j}function wd(f,y,A,j,U){var z=f[y-3*A],q=f[y-2*A],H=f[y-A],K=f[y+0],Z=f[y+A],de=f[y+2*A],_e=f[y+3*A];return 4*no[255+H-K]+no[255+q-Z]>j?0:no[255+f[y-4*A]-z]<=U&&no[255+z-q]<=U&&no[255+q-H]<=U&&no[255+_e-de]<=U&&no[255+de-Z]<=U&&no[255+Z-K]<=U}function fl(f,y,A,j){var U=2*j+1;for(j=0;16>j;++j)yd(f,y+j,A,U)&&xc(f,y+j,A)}function Ii(f,y,A,j){var U=2*j+1;for(j=0;16>j;++j)yd(f,y+j*A,1,U)&&xc(f,y+j*A,1)}function Or(f,y,A,j){var U;for(U=3;0<U;--U)fl(f,y+=4*A,A,j)}function Wh(f,y,A,j){var U;for(U=3;0<U;--U)Ii(f,y+=4,A,j)}function ba(f,y,A,j,U,z,q,H){for(z=2*z+1;0<U--;){if(wd(f,y,A,z,q))if(vd(f,y,A,H))xc(f,y,A);else{var K=f,Z=y,de=A,_e=K[Z-2*de],Se=K[Z-de],ye=K[Z+0],Me=K[Z+de],Pe=K[Z+2*de],he=27*(Le=sx[1020+3*(ye-Se)+sx[1020+_e-Me]])+63>>7,me=18*Le+63>>7,Le=9*Le+63>>7;K[Z-3*de]=ki[255+K[Z-3*de]+Le],K[Z-2*de]=ki[255+_e+me],K[Z-de]=ki[255+Se+he],K[Z+0]=ki[255+ye-he],K[Z+de]=ki[255+Me-me],K[Z+2*de]=ki[255+Pe-Le]}y+=j}}function es(f,y,A,j,U,z,q,H){for(z=2*z+1;0<U--;){if(wd(f,y,A,z,q))if(vd(f,y,A,H))xc(f,y,A);else{var K=f,Z=y,de=A,_e=K[Z-de],Se=K[Z+0],ye=K[Z+de],Me=py[112+((Pe=3*(Se-_e))+4>>3)],Pe=py[112+(Pe+3>>3)],he=Me+1>>1;K[Z-2*de]=ki[255+K[Z-2*de]+he],K[Z-de]=ki[255+_e+Pe],K[Z+0]=ki[255+Se-Me],K[Z+de]=ki[255+ye-he]}y+=j}}function bc(f,y,A,j,U,z){ba(f,y,A,1,16,j,U,z)}function Ao(f,y,A,j,U,z){ba(f,y,1,A,16,j,U,z)}function _c(f,y,A,j,U,z){var q;for(q=3;0<q;--q)es(f,y+=4*A,A,1,16,j,U,z)}function pl(f,y,A,j,U,z){var q;for(q=3;0<q;--q)es(f,y+=4,1,A,16,j,U,z)}function Sc(f,y,A,j,U,z,q,H){ba(f,y,U,1,8,z,q,H),ba(A,j,U,1,8,z,q,H)}function xd(f,y,A,j,U,z,q,H){ba(f,y,1,U,8,z,q,H),ba(A,j,1,U,8,z,q,H)}function Nc(f,y,A,j,U,z,q,H){es(f,y+4*U,U,1,8,z,q,H),es(A,j+4*U,U,1,8,z,q,H)}function _a(f,y,A,j,U,z,q,H){es(f,y+4,1,U,8,z,q,H),es(A,j+4,1,U,8,z,q,H)}function ml(){this.ba=new Jr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Vn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ec(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function gl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ac(){this.ua=0,this.Wa=new ne,this.vb=new ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new T}function Hh(){this.xb=this.a=0,this.l=new cl,this.ca=new Jr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new B,this.Pb=0,this.wd=new B,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ac,this.ab=0,this.gc=o(4,gl),this.Oc=0}function Co(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new cl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Sa(f,y,A,j,U,z,q){for(f=f==null?0:f[y+0],y=0;y<q;++y)U[z+y]=f+A[j+y]&255,f=U[z+y]}function Cc(f,y,A,j,U,z,q){var H;if(f==null)Sa(null,null,A,j,U,z,q);else for(H=0;H<q;++H)U[z+H]=f[y+H]+A[j+H]&255}function vs(f,y,A,j,U,z,q){if(f==null)Sa(null,null,A,j,U,z,q);else{var H,K=f[y+0],Z=K,de=K;for(H=0;H<q;++H)Z=de+(K=f[y+H])-Z,de=A[j+H]+(-256&Z?0>Z?0:255:Z)&255,Z=K,U[z+H]=de}}function Pc(f,y,A,j){var U=y.width,z=y.o;if(e(f!=null&&y!=null),0>A||0>=j||A+j>z)return null;if(!f.Cc){if(f.ga==null){var q;if(f.ga=new Co,(q=f.ga==null)||(q=y.width*y.o,e(f.Gb.length==0),f.Gb=i(q),f.Uc=0,f.Gb==null?q=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,q=1),q=!q),!q){q=f.ga;var H=f.Fa,K=f.P,Z=f.qc,de=f.mb,_e=f.nb,Se=K+1,ye=Z-1,Me=q.l;if(e(H!=null&&de!=null&&y!=null),Lc[0]=null,Lc[1]=Sa,Lc[2]=Cc,Lc[3]=vs,q.ca=de,q.tb=_e,q.c=y.width,q.i=y.height,e(0<q.c&&0<q.i),1>=Z)y=0;else if(q.$a=H[K+0]>>0&3,q.Z=H[K+0]>>2&3,q.Lc=H[K+0]>>4&3,K=H[K+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||K)y=0;else if(Me.put=ps,Me.ac=Ar,Me.bc=Ai,Me.ma=q,Me.width=y.width,Me.height=y.height,Me.Da=y.Da,Me.v=y.v,Me.va=y.va,Me.j=y.j,Me.o=y.o,q.$a)e:{e(q.$a==1),y=pr();t:for(;;){if(y==null){y=0;break e}if(e(q!=null),q.mc=y,y.c=q.c,y.i=q.i,y.l=q.l,y.l.ma=q,y.l.width=q.c,y.l.height=q.i,y.a=0,Y(y.m,H,Se,ye),!Ci(q.c,q.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&xo(y.s)?(q.ic=1,H=y.c*y.i,y.Ta=null,y.Ua=0,y.V=i(H),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(q.ic=0,y=pa(y,q.c)),!y))break t;y=1;break e}q.mc=null,y=0}else y=ye>=q.c*q.i;q=!y}if(q)return null;f.ga.Lc!=1?f.Ga=0:j=z-A}e(f.ga!=null),e(A+j<=z);e:{if(y=(H=f.ga).c,z=H.l.o,H.$a==0){if(Se=f.rc,ye=f.Vc,Me=f.Fa,K=f.P+1+A*y,Z=f.mb,de=f.nb+A*y,e(K<=f.P+f.qc),H.Z!=0)for(e(Lc[H.Z]!=null),q=0;q<j;++q)Lc[H.Z](Se,ye,Me,K,Z,de,y),Se=Z,ye=de,de+=y,K+=y;else for(q=0;q<j;++q)r(Z,de,Me,K,y),Se=Z,ye=de,de+=y,K+=y;f.rc=Se,f.Vc=ye}else{if(e(H.mc!=null),y=A+j,e((q=H.mc)!=null),e(y<=q.i),q.C>=y)y=1;else if(H.ic||ve(),H.ic){H=q.V,Se=q.Ba,ye=q.c;var Pe=q.i,he=(Me=1,K=q.$/ye,Z=q.$%ye,de=q.m,_e=q.s,q.$),me=ye*Pe,Le=ye*y,Be=_e.wc,Oe=he<Le?or(_e,Z,K):null;e(he<=me),e(y<=Pe),e(xo(_e));t:for(;;){for(;!de.h&&he<Le;){if(Z&Be||(Oe=or(_e,Z,K)),e(Oe!=null),le(de),256>(Pe=Cr(Oe.G[0],Oe.H[0],de)))H[Se+he]=Pe,++he,++Z>=ye&&(Z=0,++K<=y&&!(K%16)&&oi(q,K));else{if(!(280>Pe)){Me=0;break t}Pe=ii(Pe-256,de);var at,et=Cr(Oe.G[4],Oe.H[4],de);if(le(de),!(he>=(et=ms(ye,et=ii(et,de)))&&me-he>=Pe)){Me=0;break t}for(at=0;at<Pe;++at)H[Se+he+at]=H[Se+he+at-et];for(he+=Pe,Z+=Pe;Z>=ye;)Z-=ye,++K<=y&&!(K%16)&&oi(q,K);he<Le&&Z&Be&&(Oe=or(_e,Z,K))}e(de.h==J(de))}oi(q,K>y?y:K);break t}!Me||de.h&&he<me?(Me=0,q.a=de.h?5:3):q.$=he,y=Me}else y=Ds(q,q.V,q.Ba,q.c,q.i,y,ma);if(!y){j=0;break e}}A+j>=z&&(f.Cc=1),j=1}if(!j)return null;if(f.Cc&&((j=f.ga)!=null&&(j.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+A*U}function S(f,y,A,j,U,z){for(;0<U--;){var q,H=f,K=y+(A?1:0),Z=f,de=y+(A?0:3);for(q=0;q<j;++q){var _e=Z[de+4*q];_e!=255&&(_e*=32897,H[K+4*q+0]=H[K+4*q+0]*_e>>23,H[K+4*q+1]=H[K+4*q+1]*_e>>23,H[K+4*q+2]=H[K+4*q+2]*_e>>23)}y+=z}}function V(f,y,A,j,U){for(;0<j--;){var z;for(z=0;z<A;++z){var q=f[y+2*z+0],H=15&(Z=f[y+2*z+1]),K=4369*H,Z=(240&Z|Z>>4)*K>>16;f[y+2*z+0]=(240&q|q>>4)*K>>16&240|(15&q|q<<4)*K>>16>>4&15,f[y+2*z+1]=240&Z|H}y+=U}}function ee(f,y,A,j,U,z,q,H){var K,Z,de=255;for(Z=0;Z<U;++Z){for(K=0;K<j;++K){var _e=f[y+K];z[q+4*K]=_e,de&=_e}y+=A,q+=H}return de!=255}function ae(f,y,A,j,U){var z;for(z=0;z<U;++z)A[j+z]=f[y+z]>>8}function ve(){to=S,Un=V,Bn=ee,gr=ae}function Ie(f,y,A){P[f]=function(j,U,z,q,H,K,Z,de,_e,Se,ye,Me,Pe,he,me,Le,Be){var Oe,at=Be-1>>1,et=H[K+0]|Z[de+0]<<16,Nt=_e[Se+0]|ye[Me+0]<<16;e(j!=null);var rt=3*et+Nt+131074>>2;for(y(j[U+0],255&rt,rt>>16,Pe,he),z!=null&&(rt=3*Nt+et+131074>>2,y(z[q+0],255&rt,rt>>16,me,Le)),Oe=1;Oe<=at;++Oe){var bn=H[K+Oe]|Z[de+Oe]<<16,Tn=_e[Se+Oe]|ye[Me+Oe]<<16,yn=et+bn+Nt+Tn+524296,an=yn+2*(bn+Nt)>>3;rt=an+et>>1,et=(yn=yn+2*(et+Tn)>>3)+bn>>1,y(j[U+2*Oe-1],255&rt,rt>>16,Pe,he+(2*Oe-1)*A),y(j[U+2*Oe-0],255&et,et>>16,Pe,he+(2*Oe-0)*A),z!=null&&(rt=yn+Nt>>1,et=an+Tn>>1,y(z[q+2*Oe-1],255&rt,rt>>16,me,Le+(2*Oe-1)*A),y(z[q+2*Oe+0],255&et,et>>16,me,Le+(2*Oe+0)*A)),et=bn,Nt=Tn}1&Be||(rt=3*et+Nt+131074>>2,y(j[U+Be-1],255&rt,rt>>16,Pe,he+(Be-1)*A),z!=null&&(rt=3*Nt+et+131074>>2,y(z[q+Be-1],255&rt,rt>>16,me,Le+(Be-1)*A)))}}function ze(){ro[my]=A9,ro[gy]=S4,ro[y4]=C9,ro[vy]=N4,ro[yy]=E4,ro[ix]=A4,ro[w4]=P9,ro[ox]=S4,ro[ax]=N4,ro[wy]=E4,ro[lx]=A4}function nt(f){return f&-16384?0>f?0:255:f>>T9}function m(f,y){return nt((19077*f>>8)+(26149*y>>8)-14234)}function C(f,y,A){return nt((19077*f>>8)-(6419*y>>8)-(13320*A>>8)+8708)}function D(f,y){return nt((19077*f>>8)+(33050*y>>8)-17685)}function W(f,y,A,j,U){j[U+0]=m(f,A),j[U+1]=C(f,y,A),j[U+2]=D(f,y)}function ge(f,y,A,j,U){j[U+0]=D(f,y),j[U+1]=C(f,y,A),j[U+2]=m(f,A)}function Ne(f,y,A,j,U){var z=C(f,y,A);y=z<<3&224|D(f,y)>>3,j[U+0]=248&m(f,A)|z>>5,j[U+1]=y}function $e(f,y,A,j,U){var z=240&D(f,y)|15;j[U+0]=240&m(f,A)|C(f,y,A)>>4,j[U+1]=z}function Vt(f,y,A,j,U){j[U+0]=255,W(f,y,A,j,U+1)}function on(f,y,A,j,U){ge(f,y,A,j,U),j[U+3]=255}function Ut(f,y,A,j,U){W(f,y,A,j,U),j[U+3]=255}function Sn(f,y){return 0>f?0:f>y?y:f}function On(f,y,A){P[f]=function(j,U,z,q,H,K,Z,de,_e){for(var Se=de+(-2&_e)*A;de!=Se;)y(j[U+0],z[q+0],H[K+0],Z,de),y(j[U+1],z[q+0],H[K+0],Z,de+A),U+=2,++q,++K,de+=2*A;1&_e&&y(j[U+0],z[q+0],H[K+0],Z,de)}}function Po(f,y,A){return A==0?f==0?y==0?6:5:y==0?4:0:A}function ts(f,y,A,j,U){switch(f>>>30){case 3:wl(y,A,j,U,0);break;case 2:mr(y,A,j,U);break;case 1:Us(y,A,j,U)}}function Na(f,y){var A,j,U=y.M,z=y.Nb,q=f.oc,H=f.pc+40,K=f.oc,Z=f.pc+584,de=f.oc,_e=f.pc+600;for(A=0;16>A;++A)q[H+32*A-1]=129;for(A=0;8>A;++A)K[Z+32*A-1]=129,de[_e+32*A-1]=129;for(0<U?q[H-1-32]=K[Z-1-32]=de[_e-1-32]=129:(s(q,H-32-1,127,21),s(K,Z-32-1,127,9),s(de,_e-32-1,127,9)),j=0;j<f.za;++j){var Se=y.ya[y.aa+j];if(0<j){for(A=-1;16>A;++A)r(q,H+32*A-4,q,H+32*A+12,4);for(A=-1;8>A;++A)r(K,Z+32*A-4,K,Z+32*A+4,4),r(de,_e+32*A-4,de,_e+32*A+4,4)}var ye=f.Gd,Me=f.Hd+j,Pe=Se.ad,he=Se.Hc;if(0<U&&(r(q,H-32,ye[Me].y,0,16),r(K,Z-32,ye[Me].f,0,8),r(de,_e-32,ye[Me].ea,0,8)),Se.Za){var me=q,Le=H-32+16;for(0<U&&(j>=f.za-1?s(me,Le,ye[Me].y[15],4):r(me,Le,ye[Me+1].y,0,4)),A=0;4>A;A++)me[Le+128+A]=me[Le+256+A]=me[Le+384+A]=me[Le+0+A];for(A=0;16>A;++A,he<<=2)me=q,Le=H+P4[A],To[Se.Ob[A]](me,Le),ts(he,Pe,16*+A,me,Le)}else if(me=Po(j,U,Se.Ob[0]),Rc[me](q,H),he!=0)for(A=0;16>A;++A,he<<=2)ts(he,Pe,16*+A,q,H+P4[A]);for(A=Se.Gc,me=Po(j,U,Se.Dd),bl[me](K,Z),bl[me](de,_e),he=Pe,me=K,Le=Z,255&(Se=A>>0)&&(170&Se?_m(he,256,me,Le):Ji(he,256,me,Le)),Se=de,he=_e,255&(A>>=8)&&(170&A?_m(Pe,320,Se,he):Ji(Pe,320,Se,he)),U<f.Ub-1&&(r(ye[Me].y,0,q,H+480,16),r(ye[Me].f,0,K,Z+224,8),r(ye[Me].ea,0,de,_e+224,8)),A=8*z*f.B,ye=f.sa,Me=f.ta+16*j+16*z*f.R,Pe=f.qa,Se=f.ra+8*j+A,he=f.Ha,me=f.Ia+8*j+A,A=0;16>A;++A)r(ye,Me+A*f.R,q,H+32*A,16);for(A=0;8>A;++A)r(Pe,Se+A*f.B,K,Z+32*A,8),r(he,me+A*f.B,de,_e+32*A,8)}}function Ea(f,y,A,j,U,z,q,H,K){var Z=[0],de=[0],_e=0,Se=K!=null?K.kd:0,ye=K??new Ec;if(f==null||12>A)return 7;ye.data=f,ye.w=y,ye.ha=A,y=[y],A=[A],ye.gb=[ye.gb];e:{var Me=y,Pe=A,he=ye.gb;if(e(f!=null),e(Pe!=null),e(he!=null),he[0]=0,12<=Pe[0]&&!n(f,Me[0],"RIFF")){if(n(f,Me[0]+8,"WEBP")){he=3;break e}var me=We(f,Me[0]+4);if(12>me||4294967286<me){he=3;break e}if(Se&&me>Pe[0]-8){he=7;break e}he[0]=me,Me[0]+=12,Pe[0]-=12}he=0}if(he!=0)return he;for(me=0<ye.gb[0],A=A[0];;){e:{var Le=f;Pe=y,he=A;var Be=Z,Oe=de,at=Me=[0];if((rt=_e=[_e])[0]=0,8>he[0])he=7;else{if(!n(Le,Pe[0],"VP8X")){if(We(Le,Pe[0]+4)!=10){he=3;break e}if(18>he[0]){he=7;break e}var et=We(Le,Pe[0]+8),Nt=1+Ue(Le,Pe[0]+12);if(2147483648<=Nt*(Le=1+Ue(Le,Pe[0]+15))){he=3;break e}at!=null&&(at[0]=et),Be!=null&&(Be[0]=Nt),Oe!=null&&(Oe[0]=Le),Pe[0]+=18,he[0]-=18,rt[0]=1}he=0}}if(_e=_e[0],Me=Me[0],he!=0)return he;if(Pe=!!(2&Me),!me&&_e)return 3;if(z!=null&&(z[0]=!!(16&Me)),q!=null&&(q[0]=Pe),H!=null&&(H[0]=0),q=Z[0],Me=de[0],_e&&Pe&&K==null){he=0;break}if(4>A){he=7;break}if(me&&_e||!me&&!_e&&!n(f,y[0],"ALPH")){A=[A],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{et=f,he=y,me=A;var rt=ye.gb;Be=ye.na,Oe=ye.P,at=ye.Sa,Nt=22,e(et!=null),e(me!=null),Le=he[0];var bn=me[0];for(e(Be!=null),e(at!=null),Be[0]=null,Oe[0]=null,at[0]=0;;){if(he[0]=Le,me[0]=bn,8>bn){he=7;break e}var Tn=We(et,Le+4);if(4294967286<Tn){he=3;break e}var yn=8+Tn+1&-2;if(Nt+=yn,0<rt&&Nt>rt){he=3;break e}if(!n(et,Le,"VP8 ")||!n(et,Le,"VP8L")){he=0;break e}if(bn[0]<yn){he=7;break e}n(et,Le,"ALPH")||(Be[0]=et,Oe[0]=Le+8,at[0]=Tn),Le+=yn,bn-=yn}}if(A=A[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],he!=0)break}A=[A],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(rt=f,he=y,me=A,Be=ye.gb[0],Oe=ye.Ja,at=ye.xa,et=he[0],Le=!n(rt,et,"VP8 "),Nt=!n(rt,et,"VP8L"),e(rt!=null),e(me!=null),e(Oe!=null),e(at!=null),8>me[0])he=7;else{if(Le||Nt){if(rt=We(rt,et+4),12<=Be&&rt>Be-12){he=3;break e}if(Se&&rt>me[0]-8){he=7;break e}Oe[0]=rt,he[0]+=8,me[0]-=8,at[0]=Nt}else at[0]=5<=me[0]&&rt[et+0]==47&&!(rt[et+4]>>5),Oe[0]=me[0];he=0}if(A=A[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],y=y[0],he!=0)break;if(4294967286<ye.Ja)return 3;if(H==null||Pe||(H[0]=ye.xa?2:1),q=[q],Me=[Me],ye.xa){if(5>A){he=7;break}H=q,Se=Me,Pe=z,f==null||5>A?f=0:5<=A&&f[y+0]==47&&!(f[y+4]>>5)?(me=[0],rt=[0],Be=[0],Y(Oe=new B,f,y,A),ht(Oe,me,rt,Be)?(H!=null&&(H[0]=me[0]),Se!=null&&(Se[0]=rt[0]),Pe!=null&&(Pe[0]=Be[0]),f=1):f=0):f=0}else{if(10>A){he=7;break}H=Me,f==null||10>A||!cd(f,y+3,A-3)?f=0:(Se=f[y+0]|f[y+1]<<8|f[y+2]<<16,Pe=16383&(f[y+7]<<8|f[y+6]),f=16383&(f[y+9]<<8|f[y+8]),1&Se||3<(Se>>1&7)||!(Se>>4&1)||Se>>5>=ye.Ja||!Pe||!f?f=0:(q&&(q[0]=Pe),H&&(H[0]=f),f=1))}if(!f||(q=q[0],Me=Me[0],_e&&(Z[0]!=q||de[0]!=Me)))return 3;K!=null&&(K[0]=ye,K.offset=y-K.w,e(4294967286>y-K.w),e(K.offset==K.ha-A));break}return he==0||he==7&&_e&&K==null?(z!=null&&(z[0]|=ye.na!=null&&0<ye.na.length),j!=null&&(j[0]=q),U!=null&&(U[0]=Me),0):he}function ym(f,y,A){var j=y.width,U=y.height,z=0,q=0,H=j,K=U;if(y.Da=f!=null&&0<f.Da,y.Da&&(H=f.cd,K=f.bd,z=f.v,q=f.j,11>A||(z&=-2,q&=-2),0>z||0>q||0>=H||0>=K||z+H>j||q+K>U))return 0;if(y.v=z,y.j=q,y.va=z+H,y.o=q+K,y.U=H,y.T=K,y.da=f!=null&&0<f.da,y.da){if(!_t(H,K,A=[f.ib],z=[f.hb]))return 0;y.ib=A[0],y.hb=z[0]}return y.ob=f!=null&&f.ob,y.Kb=f==null||!f.Sd,y.da&&(y.ob=y.ib<3*j/4&&y.hb<3*U/4,y.Kb=0),1}function wm(f){if(f==null)return 2;if(11>f.S){var y=f.f.RGBA;y.fb+=(f.height-1)*y.A,y.A=-y.A}else y=f.f.kb,f=f.height,y.O+=(f-1)*y.fa,y.fa=-y.fa,y.N+=(f-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(f-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(f-1)*y.lb,y.lb=-y.lb);return 0}function Gh(f,y,A,j){if(j==null||0>=f||0>=y)return 2;if(A!=null){if(A.Da){var U=A.cd,z=A.bd,q=-2&A.v,H=-2&A.j;if(0>q||0>H||0>=U||0>=z||q+U>f||H+z>y)return 2;f=U,y=z}if(A.da){if(!_t(f,y,U=[A.ib],z=[A.hb]))return 2;f=U[0],y=z[0]}}j.width=f,j.height=y;e:{var K=j.width,Z=j.height;if(f=j.S,0>=K||0>=Z||!(f>=my&&13>f))f=2;else{if(0>=j.Rd&&j.sd==null){q=z=U=y=0;var de=(H=K*T4[f])*Z;if(11>f||(z=(Z+1)/2*(y=(K+1)/2),f==12&&(q=(U=K)*Z)),(Z=i(de+2*z+q))==null){f=1;break e}j.sd=Z,11>f?((K=j.f.RGBA).eb=Z,K.fb=0,K.A=H,K.size=de):((K=j.f.kb).y=Z,K.O=0,K.fa=H,K.Fd=de,K.f=Z,K.N=0+de,K.Ab=y,K.Cd=z,K.ea=Z,K.W=0+de+z,K.Db=y,K.Ed=z,f==12&&(K.F=Z,K.J=0+de+2*z),K.Tc=q,K.lb=U)}if(y=1,U=j.S,z=j.width,q=j.height,U>=my&&13>U)if(11>U)f=j.f.RGBA,y&=(H=Math.abs(f.A))*(q-1)+z<=f.size,y&=H>=z*T4[U],y&=f.eb!=null;else{f=j.f.kb,H=(z+1)/2,de=(q+1)/2,K=Math.abs(f.fa),Z=Math.abs(f.Ab);var _e=Math.abs(f.Db),Se=Math.abs(f.lb),ye=Se*(q-1)+z;y&=K*(q-1)+z<=f.Fd,y&=Z*(de-1)+H<=f.Cd,y=(y&=_e*(de-1)+H<=f.Ed)&K>=z&Z>=H&_e>=H,y&=f.y!=null,y&=f.f!=null,y&=f.ea!=null,U==12&&(y&=Se>=z,y&=ye<=f.Tc,y&=f.F!=null)}else y=0;f=y?0:2}}return f!=0||A!=null&&A.fd&&(f=wm(j)),f}var ns=64,Kh=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Yh=24,Qh=32,xm=8,li=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ze("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(f){return f},P.Predictor2=function(f,y,A){return y[A+0]},P.Predictor3=function(f,y,A){return y[A+1]},P.Predictor4=function(f,y,A){return y[A-1]},P.Predictor5=function(f,y,A){return X(X(f,y[A+1]),y[A+0])},P.Predictor6=function(f,y,A){return X(f,y[A-1])},P.Predictor7=function(f,y,A){return X(f,y[A+0])},P.Predictor8=function(f,y,A){return X(y[A-1],y[A+0])},P.Predictor9=function(f,y,A){return X(y[A+0],y[A+1])},P.Predictor10=function(f,y,A){return X(X(f,y[A-1]),X(y[A+0],y[A+1]))},P.Predictor11=function(f,y,A){var j=y[A+0];return 0>=De(j>>24&255,f>>24&255,(y=y[A-1])>>24&255)+De(j>>16&255,f>>16&255,y>>16&255)+De(j>>8&255,f>>8&255,y>>8&255)+De(255&j,255&f,255&y)?j:f},P.Predictor12=function(f,y,A){var j=y[A+0];return(ce((f>>24&255)+(j>>24&255)-((y=y[A-1])>>24&255))<<24|ce((f>>16&255)+(j>>16&255)-(y>>16&255))<<16|ce((f>>8&255)+(j>>8&255)-(y>>8&255))<<8|ce((255&f)+(255&j)-(255&y)))>>>0},P.Predictor13=function(f,y,A){var j=y[A-1];return(be((f=X(f,y[A+0]))>>24&255,j>>24&255)<<24|be(f>>16&255,j>>16&255)<<16|be(f>>8&255,j>>8&255)<<8|be(f>>0&255,j>>0&255))>>>0};var rx=P.PredictorAdd0;P.PredictorAdd1=Te,Ze("Predictor2","PredictorAdd2"),Ze("Predictor3","PredictorAdd3"),Ze("Predictor4","PredictorAdd4"),Ze("Predictor5","PredictorAdd5"),Ze("Predictor6","PredictorAdd6"),Ze("Predictor7","PredictorAdd7"),Ze("Predictor8","PredictorAdd8"),Ze("Predictor9","PredictorAdd9"),Ze("Predictor10","PredictorAdd10"),Ze("Predictor11","PredictorAdd11"),Ze("Predictor12","PredictorAdd12"),Ze("Predictor13","PredictorAdd13");var bm=P.PredictorAdd2;yt("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),yt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var cy,Zi=P.ColorIndexInverseTransform,Xh=P.MapARGB,uy=P.VP8LColorIndexInverseTransformAlpha,dy=P.MapAlpha,Tc=P.VP8LPredictorsAdd=[];Tc.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var bd,ci,Vs,Ic,vl,yl,Zh,wl,mr,_m,Us,Ji,Jh,hy,Sm,_d,Sd,kc,Nd,ef,Ed,jc,Nm,eo,to,Un,Bn,gr,Dr=i(511),xl=i(2041),Em=i(225),tf=i(767),fy=0,sx=xl,py=Em,ki=tf,no=Dr,my=0,gy=1,y4=2,vy=3,yy=4,ix=5,w4=6,ox=7,ax=8,wy=9,lx=10,h9=[2,3,7],f9=[3,3,11],x4=[280,256,256,256,40],p9=[0,1,1,1,0],m9=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],g9=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],v9=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],y9=8,cx=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ux=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Am=null,w9=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],x9=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],b4=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],b9=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],_9=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],S9=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],N9=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Rc=[],To=[],bl=[],E9=1,_4=2,Lc=[],ro=[];Ie("UpsampleRgbLinePair",W,3),Ie("UpsampleBgrLinePair",ge,3),Ie("UpsampleRgbaLinePair",Ut,4),Ie("UpsampleBgraLinePair",on,4),Ie("UpsampleArgbLinePair",Vt,4),Ie("UpsampleRgba4444LinePair",$e,2),Ie("UpsampleRgb565LinePair",Ne,2);var A9=P.UpsampleRgbLinePair,C9=P.UpsampleBgrLinePair,S4=P.UpsampleRgbaLinePair,N4=P.UpsampleBgraLinePair,E4=P.UpsampleArgbLinePair,A4=P.UpsampleRgba4444LinePair,P9=P.UpsampleRgb565LinePair,xy=16,by=1<<xy-1,Cm=-227,dx=482,T9=6,C4=0,I9=i(256),k9=i(256),j9=i(256),R9=i(256),L9=i(dx-Cm),O9=i(dx-Cm);On("YuvToRgbRow",W,3),On("YuvToBgrRow",ge,3),On("YuvToRgbaRow",Ut,4),On("YuvToBgraRow",on,4),On("YuvToArgbRow",Vt,4),On("YuvToRgba4444Row",$e,2),On("YuvToRgb565Row",Ne,2);var P4=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],_y=[0,2,8],D9=[8,7,6,4,4,2,2,2,1,1,1,1],M9=1;this.WebPDecodeRGBA=function(f,y,A,j,U){var z=gy,q=new ml,H=new Jr;q.ba=H,H.S=z,H.width=[H.width],H.height=[H.height];var K=H.width,Z=H.height,de=new Ei;if(de==null||f==null)var _e=2;else e(de!=null),_e=Ea(f,y,A,de.width,de.height,de.Pd,de.Qd,de.format,null);if(_e!=0?K=0:(K!=null&&(K[0]=de.width[0]),Z!=null&&(Z[0]=de.height[0]),K=1),K){H.width=H.width[0],H.height=H.height[0],j!=null&&(j[0]=H.width),U!=null&&(U[0]=H.height);e:{if(j=new cl,(U=new Ec).data=f,U.w=y,U.ha=A,U.kd=1,y=[0],e(U!=null),((f=Ea(U.data,U.w,U.ha,null,null,null,y,null,U))==0||f==7)&&y[0]&&(f=4),(y=f)==0){if(e(q!=null),j.data=U.data,j.w=U.w+U.offset,j.ha=U.ha-U.offset,j.put=ps,j.ac=Ar,j.bc=Ai,j.ma=q,U.xa){if((f=pr())==null){q=1;break e}if(function(Se,ye){var Me=[0],Pe=[0],he=[0];t:for(;;){if(Se==null)return 0;if(ye==null)return Se.a=2,0;if(Se.l=ye,Se.a=0,Y(Se.m,ye.data,ye.w,ye.ha),!ht(Se.m,Me,Pe,he)){Se.a=3;break t}if(Se.xb=_4,ye.width=Me[0],ye.height=Pe[0],!Ci(Me[0],Pe[0],1,Se,null))break t;return 1}return e(Se.a!=0),0}(f,j)){if(j=(y=Gh(j.width,j.height,q.Oa,q.ba))==0){t:{j=f;n:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((A=j.l)!=null),e((U=A.ma)!=null),j.xb!=0){if(j.ca=U.ba,j.tb=U.tb,e(j.ca!=null),!ym(U.Oa,A,vy)){j.a=2;break n}if(!pa(j,A.width)||A.da)break n;if((A.da||nn(j.ca.S))&&ve(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&ve()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!ut(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!Ds(j,j.V,j.Ba,j.c,j.i,A.o,dc))break n;U.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(y=f.a)}else y=f.a}else{if((f=new ld)==null){q=1;break e}if(f.Fa=U.na,f.P=U.P,f.qc=U.Sa,ud(f,j)){if((y=Gh(j.width,j.height,q.Oa,q.ba))==0){if(f.Aa=0,A=q.Oa,e((U=f)!=null),A!=null){if(0<(K=0>(K=A.Md)?0:100<K?255:255*K/100)){for(Z=de=0;4>Z;++Z)12>(_e=U.pb[Z]).lc&&(_e.ia=K*D9[0>_e.lc?0:_e.lc]>>3),de|=_e.ia;de&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=A.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}Uh(f,j)||(y=f.a)}}else y=f.a}y==0&&q.Oa!=null&&q.Oa.fd&&(y=wm(q.ba))}q=y}z=q!=0?null:11>z?H.f.RGBA.eb:H.f.kb.y}else z=null;return z};var T4=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(P,L){for(var F="",k=0;k<4;k++)F+=String.fromCharCode(P[L++]);return F}function d(P,L){return(P[L+0]<<0|P[L+1]<<8|P[L+2]<<16)>>>0}function h(P,L){return(P[L+0]<<0|P[L+1]<<8|P[L+2]<<16|P[L+3]<<24)>>>0}new c;var p=[0],g=[0],b=[],w=new c,_=t,x=function(P,L){var F={},k=0,T=!1,O=0,G=0;if(F.frames=[],!function(Q,J,se,le){for(var oe=0;oe<le;oe++)if(Q[J+oe]!=se.charCodeAt(oe))return!0;return!1}(P,L,"RIFF",4)){for(h(P,L+=4),L+=8;L<P.length;){var ue=u(P,L),ie=h(P,L+=4);L+=4;var fe=ie+(1&ie);switch(ue){case"VP8 ":case"VP8L":F.frames[k]===void 0&&(F.frames[k]={}),(re=F.frames[k]).src_off=T?G:L-8,re.src_size=O+ie+8,k++,T&&(T=!1,O=0,G=0);break;case"VP8X":(re=F.header={}).feature_flags=P[L];var Y=L+4;re.canvas_width=1+d(P,Y),Y+=3,re.canvas_height=1+d(P,Y),Y+=3;break;case"ALPH":T=!0,O=fe+8,G=L-8;break;case"ANIM":(re=F.header).bgcolor=h(P,L),Y=L+4,re.loop_count=(Ee=P)[(B=Y)+0]<<0|Ee[B+1]<<8,Y+=2;break;case"ANMF":var te,re;(re=F.frames[k]={}).offset_x=2*d(P,L),L+=3,re.offset_y=2*d(P,L),L+=3,re.width=1+d(P,L),L+=3,re.height=1+d(P,L),L+=3,re.duration=d(P,L),L+=3,te=P[L++],re.dispose=1&te,re.blend=te>>1&1}ue!="ANMF"&&(L+=fe)}var Ee,B;return F}}(_,0);x.response=_,x.rgbaoutput=!0,x.dataurl=!1;var v=x.header?x.header:null,N=x.frames?x.frames:null;if(v){v.loop_counter=v.loop_count,p=[v.canvas_height],g=[v.canvas_width];for(var R=0;R<N.length&&N[R].blend!=0;R++);}var M=N[0],$=w.WebPDecodeRGBA(_,M.src_off,M.src_size,g,p);M.rgba=$,M.imgwidth=g[0],M.imgheight=p[0];for(var I=0;I<g[0]*p[0]*4;I++)b[I]=$[I];return this.width=g,this.height=p,this.data=b,this}(function(t){var e=function(){return typeof q_=="function"},n=function(p,g,b,w){var _=4,x=o;switch(w){case t.image_compression.FAST:_=1,x=i;break;case t.image_compression.MEDIUM:_=6,x=a;break;case t.image_compression.SLOW:_=9,x=c}p=r(p,g,b,x);var v=q_(p,{level:_});return t.__addimage__.arrayBufferToBinaryString(v)},r=function(p,g,b,w){for(var _,x,v,N=p.length/g,R=new Uint8Array(p.length+N),M=d(),$=0;$<N;$+=1){if(v=$*g,_=p.subarray(v,v+g),w)R.set(w(_,b,x),v+$);else{for(var I,P=M.length,L=[];I<P;I+=1)L[I]=M[I](_,b,x);var F=h(L.concat());R.set(L[F],v+$)}x=_}return R},s=function(p){var g=Array.apply([],p);return g.unshift(0),g},i=function(p,g){var b,w=[],_=p.length;w[0]=1;for(var x=0;x<_;x+=1)b=p[x-g]||0,w[x+1]=p[x]-b+256&255;return w},o=function(p,g,b){var w,_=[],x=p.length;_[0]=2;for(var v=0;v<x;v+=1)w=b&&b[v]||0,_[v+1]=p[v]-w+256&255;return _},a=function(p,g,b){var w,_,x=[],v=p.length;x[0]=3;for(var N=0;N<v;N+=1)w=p[N-g]||0,_=b&&b[N]||0,x[N+1]=p[N]+256-(w+_>>>1)&255;return x},c=function(p,g,b){var w,_,x,v,N=[],R=p.length;N[0]=4;for(var M=0;M<R;M+=1)w=p[M-g]||0,_=b&&b[M]||0,x=b&&b[M-g]||0,v=u(w,_,x),N[M+1]=p[M]-v+256&255;return N},u=function(p,g,b){if(p===g&&g===b)return p;var w=Math.abs(g-b),_=Math.abs(p-b),x=Math.abs(p+g-b-b);return w<=_&&w<=x?p:_<=x?g:b},d=function(){return[s,i,o,a,c]},h=function(p){var g=p.map(function(b){return b.reduce(function(w,_){return w+Math.abs(_)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(p,g,b,w){var _,x,v,N,R,M,$,I,P,L,F,k,T,O,G,ue=this.decode.FLATE_DECODE,ie="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(v=new Soe(p)).imgData,x=v.bits,_=v.colorSpace,R=v.colors,[4,6].indexOf(v.colorType)!==-1){if(v.bits===8){P=(I=v.pixelBitlength==32?new Uint32Array(v.decodePixels().buffer):v.pixelBitlength==16?new Uint16Array(v.decodePixels().buffer):new Uint8Array(v.decodePixels().buffer)).length,F=new Uint8Array(P*v.colors),L=new Uint8Array(P);var fe,Y=v.pixelBitlength-v.bits;for(O=0,G=0;O<P;O++){for(T=I[O],fe=0;fe<Y;)F[G++]=T>>>fe&255,fe+=v.bits;L[O]=T>>>fe&255}}if(v.bits===16){P=(I=new Uint32Array(v.decodePixels().buffer)).length,F=new Uint8Array(P*(32/v.pixelBitlength)*v.colors),L=new Uint8Array(P*(32/v.pixelBitlength)),k=v.colors>1,O=0,G=0;for(var te=0;O<P;)T=I[O++],F[G++]=T>>>0&255,k&&(F[G++]=T>>>16&255,T=I[O++],F[G++]=T>>>0&255),L[te++]=T>>>16&255;x=8}w!==t.image_compression.NONE&&e()?(p=n(F,v.width*v.colors,v.colors,w),$=n(L,v.width,1,w)):(p=F,$=L,ue=void 0)}if(v.colorType===3&&(_=this.color_spaces.INDEXED,M=v.palette,v.transparency.indexed)){var re=v.transparency.indexed,Ee=0;for(O=0,P=re.length;O<P;++O)Ee+=re[O];if((Ee/=255)===P-1&&re.indexOf(0)!==-1)N=[re.indexOf(0)];else if(Ee!==P){for(I=v.decodePixels(),L=new Uint8Array(I.length),O=0,P=I.length;O<P;O++)L[O]=re[I[O]];$=n(L,v.width,1)}}var B=function(Q){var J;switch(Q){case t.image_compression.FAST:J=11;break;case t.image_compression.MEDIUM:J=13;break;case t.image_compression.SLOW:J=14;break;default:J=12}return J}(w);return ue===this.decode.FLATE_DECODE&&(ie="/Predictor "+B+" "),ie+="/Colors "+R+" /BitsPerComponent "+x+" /Columns "+v.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),($&&this.__addimage__.isArrayBuffer($)||this.__addimage__.isArrayBufferView($))&&($=this.__addimage__.arrayBufferToBinaryString($)),{alias:b,data:p,index:g,filter:ue,decodeParameters:ie,transparency:N,palette:M,sMask:$,predictor:B,width:v.width,height:v.height,bitsPerComponent:x,colorSpace:_}}}})(At.API),function(t){t.processGIF89A=function(e,n,r,s){var i=new Noe(e),o=i.width,a=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:a},d=new kb(100).encode(u,100);return t.processJPEG.call(this,d,n,r,s)},t.processGIF87A=t.processGIF89A}(At.API),Ro.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ro.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Mn.log("bit decode error:"+n)}},Ro.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*s*4,a=0;a<8&&8*s+a<this.width;a++){var c=this.palette[i>>7-a&1];this.data[o+4*a]=c.blue,this.data[o+4*a+1]=c.green,this.data[o+4*a+2]=c.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Ro.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*s*4,a=i>>4,c=15&i,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Ro.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Ro.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,a=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,u=i>>15?255:0,d=r*this.width*4+4*s;this.data[d]=c,this.data[d+1]=a,this.data[d+2]=o,this.data[d+3]=u}this.pos+=t}},Ro.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,c=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,d=s*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=a,this.data[d+3]=255}this.pos+=t}},Ro.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Ro.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=r,this.data[a+3]=o}},Ro.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,s){var i=new Ro(e,!1),o=i.width,a=i.height,c={data:i.getData(),width:o,height:a},u=new kb(100).encode(c,100);return t.processJPEG.call(this,u,n,r,s)}}(At.API),oI.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,s){var i=new oI(e),o=i.width,a=i.height,c={data:i.getData(),width:o,height:a},u=new kb(100).encode(c,100);return t.processJPEG.call(this,u,n,r,s)}}(At.API),At.API.processRGBA=function(t,e,n){for(var r=t.data,s=r.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),a=0,c=0,u=0;u<s;u+=4){var d=r[u],h=r[u+1],p=r[u+2],g=r[u+3];i[a++]=d,i[a++]=h,i[a++]=p,o[c++]=g}var b=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},At.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ff=At.API,v0=ff.getCharWidthsArray=function(t,e){var n,r,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:s.metadata.Unicode.widths,c=a.fof?a.fof:1,u=e.kerning?e.kerning:s.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=e.doKerning!==!1,p=0,g=t.length,b=0,w=a[0]||c,_=[];for(n=0;n<g;n++)r=t.charCodeAt(n),typeof s.metadata.widthOfString=="function"?_.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+o*(1e3/i)||0)/1e3):(p=h&&jn(u[r])==="object"&&!isNaN(parseInt(u[r][b],10))?u[r][b]/d:0,_.push((a[r]||w)/c+p)),b=r;return _},nI=ff.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return ff.processArabic&&(t=ff.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,s)/n:v0.apply(this,arguments).reduce(function(i,o){return i+o},0)},rI=function(t,e,n,r){for(var s=[],i=0,o=t.length,a=0;i!==o&&a+e[i]<n;)a+=e[i],i++;s.push(t.slice(0,i));var c=i;for(a=0;i!==o;)a+e[i]>r&&(s.push(t.slice(c,i)),a=0,c=i),a+=e[i],i++;return c!==i&&s.push(t.slice(c,i)),s},sI=function(t,e,n){n||(n={});var r,s,i,o,a,c,u,d=[],h=[d],p=n.textIndent||0,g=0,b=0,w=t.split(" "),_=v0.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?w[0].length+2:n.lineIndent||0){var x=Array(c).join(" "),v=[];w.map(function(R){(R=R.split(/\s*\n/)).length>1?v=v.concat(R.map(function(M,$){return($&&M.length?`
`:"")+M})):v.push(R[0])}),w=v,c=nI.apply(this,[x,n])}for(i=0,o=w.length;i<o;i++){var N=0;if(r=w[i],c&&r[0]==`
`&&(r=r.substr(1),N=1),p+g+(b=(s=v0.apply(this,[r,n])).reduce(function(R,M){return R+M},0))>e||N){if(b>e){for(a=rI.apply(this,[r,s,e-(p+g),e]),d.push(a.shift()),d=[a.pop()];a.length;)h.push([a.shift()]);b=s.slice(r.length-(d[0]?d[0].length:0)).reduce(function(R,M){return R+M},0)}else d=[r];h.push(d),p=b+c,g=_}else d.push(r),p+=g+b,g=_}return u=c?function(R,M){return(M?x:"")+R.join(" ")}:function(R){return R.join(" ")},h.map(u)},ff.splitTextToSize=function(t,e,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/s;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=n.lineIndent;var a,c,u=[];for(a=0,c=r.length;a<c;a++)u=u.concat(sI.apply(this,[r[a],o,i]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},s=0;s<e.length;s++)n[e[s]]="0123456789abcdef"[s],r["0123456789abcdef"[s]]=e[s];var i=function(h){return"0x"+parseInt(h,10).toString(16)},o=t.__fontmetrics__.compress=function(h){var p,g,b,w,_=["{"];for(var x in h){if(p=h[x],isNaN(parseInt(x,10))?g="'"+x+"'":(x=parseInt(x,10),g=(g=i(x).slice(2)).slice(0,-1)+r[g.slice(-1)]),typeof p=="number")p<0?(b=i(p).slice(3),w="-"):(b=i(p).slice(2),w=""),b=w+b.slice(0,-1)+r[b.slice(-1)];else{if(jn(p)!=="object")throw new Error("Don't know what to do with value type "+jn(p)+".");b=o(p)}_.push(g+b)}return _.push("}"),_.join("")},a=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,g,b,w,_={},x=1,v=_,N=[],R="",M="",$=h.length-1,I=1;I<$;I+=1)(w=h[I])=="'"?p?(b=p.join(""),p=void 0):p=[]:p?p.push(w):w=="{"?(N.push([v,b]),v={},b=void 0):w=="}"?((g=N.pop())[0][g[1]]=v,b=void 0,v=g[0]):w=="-"?x=-1:b===void 0?n.hasOwnProperty(w)?(R+=n[w],b=parseInt(R,16)*x,x=1,R=""):R+=w:n.hasOwnProperty(w)?(M+=n[w],v[b]=parseInt(M,16)*x,x=1,b=void 0,M=""):M+=w;return _},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var p=h.font,g=d.Unicode[p.postScriptName];g&&(p.metadata.Unicode={},p.metadata.Unicode.widths=g.widths,p.metadata.Unicode.kerning=g.kerning);var b=u.Unicode[p.postScriptName];b&&(p.metadata.Unicode.encoding=b,p.encoding=b.codePages[0])}])}(At.API),function(t){var e=function(n){for(var r=n.length,s=new Uint8Array(r),i=0;i<r;i++)s[i]=n.charCodeAt(i);return s};t.API.events.push(["addFont",function(n){var r=void 0,s=n.font,i=n.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Ag(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,r)}}])}(At),function(t){function e(){return(Ct.canvg?Promise.resolve(Ct.canvg):dv(()=>import("./index.es-BgovkZGh.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}At.API.addSvgAsImage=function(n,r,s,i,o,a,c,u){if(isNaN(r)||isNaN(s))throw Mn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw Mn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=o;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(b){return b.fromString(h,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(p)}).then(function(){g.addImage(d.toDataURL("image/jpeg",1),r,s,i,o,c,u)})}}(),At.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,n);return this},At.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),c=[],u=0,d=0,h=0;function p(b,w){var _,x=!1;for(_=0;_<b.length;_+=1)b[_]===w&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=a.length;for(h=0;h<g;h+=1)n[a[h]].value=n[a[h]].defaultValue,n[a[h]].explicitSet=!1}if(jn(t)==="object"){for(s in t)if(i=t[s],p(a,s)&&i!==void 0){if(n[s].type==="boolean"&&typeof i=="boolean")n[s].value=i;else if(n[s].type==="name"&&p(n[s].valueSet,i))n[s].value=i;else if(n[s].type==="integer"&&Number.isInteger(i))n[s].value=i;else if(n[s].type==="array"){for(u=0;u<i.length;u+=1)if(r=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(r=!1);r===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}n[s].value="["+c.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,w=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?w.push("/"+b+" /"+n[b].value):w.push("/"+b+" "+n[b].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+a.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+a+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(At.API),function(t){var e=t.API,n=e.pdfEscape16=function(i,o){for(var a,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,p=i.length;h<p;++h){if(a=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=i.charCodeAt(h),c.indexOf(a)==-1&&(c.push(a),c.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(u[4-a.length],a)}return d.join("")},r=function(i){var o,a,c,u,d,h,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,p=(a=Object.keys(i).sort(function(g,b){return g-b})).length;h<p;h++)o=a[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var a=o.font,c=o.out,u=o.newObject,d=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,p=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),g="",b=0;b<p.length;b++)g+=String.fromCharCode(p[b]);var w=u();d({data:g,addLength1:!0,objectId:w}),c("endobj");var _=u();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:_}),c("endobj");var x=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Sf(a.fontName)),c("/FontFile2 "+w+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),c("/Flags "+a.metadata.flags),c("/StemV "+a.metadata.stemV),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c(">>"),c("endobj");var v=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Sf(a.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+t.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+a.encoding+")"),c(">>"),c(">>"),c("endobj"),a.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+_+" 0 R"),c("/BaseFont /"+Sf(a.fontName)),c("/Encoding /"+a.encoding),c("/DescendantFonts ["+v+" 0 R]"),c(">>"),c("endobj"),a.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var a=o.font,c=o.out,u=o.newObject,d=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,p="",g=0;g<h.length;g++)p+=String.fromCharCode(h[g]);var b=u();d({data:p,addLength1:!0,objectId:b}),c("endobj");var w=u();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var _=u();c("<<"),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c("/StemV "+a.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+b+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),c("/FontName /"+Sf(a.fontName)),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c(">>"),c("endobj"),a.objectNumber=u();for(var x=0;x<a.metadata.hmtx.widths.length;x++)a.metadata.hmtx.widths[x]=parseInt(a.metadata.hmtx.widths[x]*(1e3/a.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+Sf(a.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),c("endobj"),a.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,a=i.text||"",c=i.x,u=i.y,d=i.options||{},h=i.mutex||{},p=h.pdfEscape,g=h.activeFontKey,b=h.fonts,w=g,_="",x=0,v="",N=b[w].encoding;if(b[w].encoding!=="Identity-H")return{text:a,x:c,y:u,options:d,mutex:h};for(v=a,w=g,Array.isArray(a)&&(v=a[0]),x=0;x<v.length;x+=1)b[w].metadata.hasOwnProperty("cmap")&&(o=b[w].metadata.cmap.unicode.codeMap[v[x].charCodeAt(0)]),o||v[x].charCodeAt(0)<256&&b[w].metadata.hasOwnProperty("Unicode")?_+=v[x]:_+="";var R="";return parseInt(w.slice(1))<14||N==="WinAnsiEncoding"?R=p(_,w).split("").map(function(M){return M.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(R=n(_,b[w])),h.isHex=!0,{text:R,x:c,y:u,options:d,mutex:h}};e.events.push(["postProcessText",function(i){var o=i.text||"",a=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([s(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(s(Object.assign({},c,{text:o[u]})).text);i.text=a}else i.text=s(Object.assign({},c,{text:o})).text}])}(At),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(At.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var s,i,o,a,c,u,d,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,N=0;this.__bidiEngine__={};var R=function(k){var T=k.charCodeAt(),O=T>>8,G=w[O];return G!==void 0?h[256*G+(255&T)]:O===252||O===253?"AL":x.test(O)?"L":O===8?"R":"N"},M=function(k){for(var T,O=0;O<k.length;O++){if((T=R(k.charAt(O)))==="L")return!1;if(T==="R")return!0}return!1},$=function(k,T,O,G){var ue,ie,fe,Y,te=T[G];switch(te){case"L":case"R":v=!1;break;case"N":case"AN":break;case"EN":v&&(te="AN");break;case"AL":v=!0,te="R";break;case"WS":te="N";break;case"CS":G<1||G+1>=T.length||(ue=O[G-1])!=="EN"&&ue!=="AN"||(ie=T[G+1])!=="EN"&&ie!=="AN"?te="N":v&&(ie="AN"),te=ie===ue?ie:"N";break;case"ES":te=(ue=G>0?O[G-1]:"B")==="EN"&&G+1<T.length&&T[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&O[G-1]==="EN"){te="EN";break}if(v){te="N";break}for(fe=G+1,Y=T.length;fe<Y&&T[fe]==="ET";)fe++;te=fe<Y&&T[fe]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(Y=T.length,fe=G+1;fe<Y&&T[fe]==="NSM";)fe++;if(fe<Y){var re=k[G],Ee=re>=1425&&re<=2303||re===64286;if(ue=T[fe],Ee&&(ue==="R"||ue==="AL")){te="R";break}}}te=G<1||(ue=T[G-1])==="B"?"N":O[G-1];break;case"B":v=!1,s=!0,te=N;break;case"S":i=!0,te="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"BN":te="N"}return te},I=function(k,T,O){var G=k.split("");return O&&P(G,O,{hiLevel:N}),G.reverse(),T&&T.reverse(),G.join("")},P=function(k,T,O){var G,ue,ie,fe,Y,te=-1,re=k.length,Ee=0,B=[],Q=N?g:p,J=[];for(v=!1,s=!1,i=!1,ue=0;ue<re;ue++)J[ue]=R(k[ue]);for(ie=0;ie<re;ie++){if(Y=Ee,B[ie]=$(k,J,B,ie),G=240&(Ee=Q[Y][b[B[ie]]]),Ee&=15,T[ie]=fe=Q[Ee][5],G>0)if(G===16){for(ue=te;ue<ie;ue++)T[ue]=1;te=-1}else te=-1;if(Q[Ee][6])te===-1&&(te=ie);else if(te>-1){for(ue=te;ue<ie;ue++)T[ue]=fe;te=-1}J[ie]==="B"&&(T[ie]=0),O.hiLevel|=fe}i&&function(se,le,oe){for(var we=0;we<oe;we++)if(se[we]==="S"){le[we]=N;for(var xe=we-1;xe>=0&&se[xe]==="WS";xe--)le[xe]=N}}(J,T,re)},L=function(k,T,O,G,ue){if(!(ue.hiLevel<k)){if(k===1&&N===1&&!s)return T.reverse(),void(O&&O.reverse());for(var ie,fe,Y,te,re=T.length,Ee=0;Ee<re;){if(G[Ee]>=k){for(Y=Ee+1;Y<re&&G[Y]>=k;)Y++;for(te=Ee,fe=Y-1;te<fe;te++,fe--)ie=T[te],T[te]=T[fe],T[fe]=ie,O&&(ie=O[te],O[te]=O[fe],O[fe]=ie);Ee=Y}Ee++}}},F=function(k,T,O){var G=k.split(""),ue={hiLevel:N};return O||(O=[]),P(G,O,ue),function(ie,fe,Y){if(Y.hiLevel!==0&&d)for(var te,re=0;re<ie.length;re++)fe[re]===1&&(te=_.indexOf(ie[re]))>=0&&(ie[re]=_[te+1])}(G,O,ue),L(2,G,T,O,ue),L(1,G,T,O,ue),G.join("")};return this.__bidiEngine__.doBidiReorder=function(k,T,O){if(function(ue,ie){if(ie)for(var fe=0;fe<ue.length;fe++)ie[fe]=fe;a===void 0&&(a=M(ue)),u===void 0&&(u=M(ue))}(k,T),o||!c||u)if(o&&c&&a^u)N=a?1:0,k=I(k,T,O);else if(!o&&c&&u)N=a?1:0,k=F(k,T,O),k=I(k,T);else if(!o||a||c||u){if(o&&!c&&a^u)k=I(k,T),a?(N=0,k=F(k,T,O)):(N=1,k=F(k,T,O),k=I(k,T));else if(o&&a&&!c&&u)N=1,k=F(k,T,O),k=I(k,T);else if(!o&&!c&&a^u){var G=d;a?(N=1,k=F(k,T,O),N=0,d=!1,k=F(k,T,O),d=G):(N=0,k=F(k,T,O),k=I(k,T),N=1,d=!1,k=F(k,T,O),d=G,k=I(k,T))}}else N=0,k=F(k,T,O);else N=a?1:0,k=F(k,T,O);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,c=k.isOutputVisual,a=k.isInputRtl,u=k.isOutputRtl,d=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var a=0;for(o=[],a=0;a<s.length;a+=1)Object.prototype.toString.call(s[a])==="[object Array]"?o.push([n.doBidiReorder(s[a][0]),s[a][1],s[a][2]]):o.push([n.doBidiReorder(s[a])]);r.text=o}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(At),At.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Ku(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Voe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Eoe(this.contents),this.head=new Coe(this),this.name=new joe(this),this.cmap=new Y7(this),this.toUnicode={},this.hhea=new Poe(this),this.maxp=new Roe(this),this.hmtx=new Loe(this),this.post=new Ioe(this),this.os2=new Toe(this),this.loca=new Foe(this),this.glyf=new Ooe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,c,u;for(u=[],o=0,a=(c=this.bbox).length;o<a;o++)e=c[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var s,i,o,a;for(o=0,i=0,a=(e=""+e).length;0<=a?i<a:i>a;i=0<=a?++i:--i)s=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var ha,Ku=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,s;for(s=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(e.charCodeAt(n)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,s,i,o,a,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^a)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*s+16777216*i+65536*o+256*a+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,s,i;for(i=[],r=0,s=e.length;r<s;r++)n=e[r],i.push(this.writeByte(n));return i},t}(),Eoe=function(){var t;function e(n){var r,s,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,s,i,o,a,c,u,d,h,p,g,b,w;for(w in g=Object.keys(n).length,c=Math.log(2),h=16*Math.floor(Math.log(g)/c),o=Math.floor(h/c),d=16*g-h,(s=new Ku).writeInt(this.scalarType),s.writeShort(g),s.writeShort(h),s.writeShort(o),s.writeShort(d),i=16*g,u=s.pos+i,a=null,b=[],n)for(p=n[w],s.writeString(w),s.writeInt(t(p)),s.writeInt(u),s.writeInt(p.length),b=b.concat(p),w==="head"&&(a=u),u+=p.length;u%4;)b.push(0),u++;return s.write(b),r=2981146554-t(s.data),s.pos=a+8,s.writeUInt32(r),s.data},t=function(n){var r,s,i,o;for(n=Q7.call(n);n.length%4;)n.push(0);for(i=new Ku(n),s=0,r=0,o=n.length;r<o;r=r+=4)s+=i.readUInt32();return 4294967295&s},e}(),Aoe={}.hasOwnProperty,sl=function(t,e){for(var n in e)Aoe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};ha=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Coe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sl(e,ha),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Ku).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),aI=function(){function t(e,n){var r,s,i,o,a,c,u,d,h,p,g,b,w,_,x,v,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(g=e.readUInt16(),p=g/2,e.pos+=6,i=function(){var R,M;for(M=[],c=R=0;0<=p?R<p:R>p;c=0<=p?++R:--R)M.push(e.readUInt16());return M}(),e.pos+=2,w=function(){var R,M;for(M=[],c=R=0;0<=p?R<p:R>p;c=0<=p?++R:--R)M.push(e.readUInt16());return M}(),u=function(){var R,M;for(M=[],c=R=0;0<=p?R<p:R>p;c=0<=p?++R:--R)M.push(e.readUInt16());return M}(),d=function(){var R,M;for(M=[],c=R=0;0<=p?R<p:R>p;c=0<=p?++R:--R)M.push(e.readUInt16());return M}(),s=(this.length-e.pos+this.offset)/2,a=function(){var R,M;for(M=[],c=R=0;0<=s?R<s:R>s;c=0<=s?++R:--R)M.push(e.readUInt16());return M}(),c=x=0,N=i.length;x<N;c=++x)for(_=i[c],r=v=b=w[c];b<=_?v<=_:v>=_;r=b<=_?++v:--v)d[c]===0?o=r+u[c]:(o=a[d[c]/2+(r-b)-(p-c)]||0)!==0&&(o+=u[c]),this.codeMap[r]=65535&o}e.pos=h}return t.encode=function(e,n){var r,s,i,o,a,c,u,d,h,p,g,b,w,_,x,v,N,R,M,$,I,P,L,F,k,T,O,G,ue,ie,fe,Y,te,re,Ee,B,Q,J,se,le,oe,we,xe,je,ke,Ue;switch(G=new Ku,o=Object.keys(e).sort(function(We,ut){return We-ut}),n){case"macroman":for(w=0,_=function(){var We=[];for(b=0;b<256;++b)We.push(0);return We}(),v={0:0},i={},ue=0,te=o.length;ue<te;ue++)v[xe=e[s=o[ue]]]==null&&(v[xe]=++w),i[s]={old:e[s],new:v[e[s]]},_[s]=v[e[s]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(_),{charMap:i,subtable:G.data,maxGlyphID:w+1};case"unicode":for(T=[],h=[],N=0,v={},r={},x=u=null,ie=0,re=o.length;ie<re;ie++)v[M=e[s=o[ie]]]==null&&(v[M]=++N),r[s]={old:M,new:v[M]},a=v[M]-s,x!=null&&a===u||(x&&h.push(x),T.push(s),u=a),x=s;for(x&&h.push(x),h.push(65535),T.push(65535),F=2*(L=T.length),P=2*Math.pow(Math.log(L)/Math.LN2,2),p=Math.log(P/2)/Math.LN2,I=2*L-P,c=[],$=[],g=[],b=fe=0,Ee=T.length;fe<Ee;b=++fe){if(k=T[b],d=h[b],k===65535){c.push(0),$.push(0);break}if(k-(O=r[k].new)>=32768)for(c.push(0),$.push(2*(g.length+L-b)),s=Y=k;k<=d?Y<=d:Y>=d;s=k<=d?++Y:--Y)g.push(r[s].new);else c.push(O-k),$.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*L+2*g.length),G.writeUInt16(0),G.writeUInt16(F),G.writeUInt16(P),G.writeUInt16(p),G.writeUInt16(I),oe=0,B=h.length;oe<B;oe++)s=h[oe],G.writeUInt16(s);for(G.writeUInt16(0),we=0,Q=T.length;we<Q;we++)s=T[we],G.writeUInt16(s);for(je=0,J=c.length;je<J;je++)a=c[je],G.writeUInt16(a);for(ke=0,se=$.length;ke<se;ke++)R=$[ke],G.writeUInt16(R);for(Ue=0,le=g.length;Ue<le;Ue++)w=g[Ue],G.writeUInt16(w);return{charMap:r,subtable:G.data,maxGlyphID:N+1}}},t}(),Y7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sl(e,ha),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,s,i;for(n.pos=this.offset,this.version=n.readUInt16(),i=n.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)r=new aI(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var s,i;return r==null&&(r="macroman"),s=aI.encode(n,r),(i=new Ku).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},e}(),Poe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sl(e,ha),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),Toe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sl(e,ha),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,s;for(s=[],r=0;r<10;++r)s.push(n.readByte());return s}(),this.charRange=function(){var r,s;for(s=[],r=0;r<4;++r)s.push(n.readInt());return s}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,s;for(s=[],r=0;r<2;r=++r)s.push(n.readInt());return s}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),Ioe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sl(e,ha),e.prototype.tag="post",e.prototype.parse=function(n){var r,s,i;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(s=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],i=[];n.pos<this.offset+this.length;)r=n.readByte(),i.push(this.names.push(n.readString(r)));return i;case 151552:return s=n.readUInt16(),this.offsets=n.read(s);case 196608:break;case 262144:return this.map=(function(){var a,c,u;for(u=[],o=a=0,c=this.file.maxp.numGlyphs;0<=c?a<c:a>c;o=0<=c?++a:--a)u.push(n.readUInt32());return u}).call(this)}},e}(),koe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},joe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sl(e,ha),e.prototype.tag="name",e.prototype.parse=function(n){var r,s,i,o,a,c,u,d,h,p,g;for(n.pos=this.offset,n.readShort(),r=n.readShort(),c=n.readShort(),s=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)s.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(u={},o=h=0,p=s.length;h<p;o=++h)i=s[o],n.pos=i.offset,d=n.readString(i.length),a=new koe(d,i),u[g=i.nameID]==null&&(u[g]=[]),u[i.nameID].push(a);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),Roe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sl(e,ha),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),Loe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sl(e,ha),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,s,i,o,a,c,u;for(n.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,h;for(h=[],r=d=0;0<=i?d<i:d>i;r=0<=i?++d:--d)h.push(n.readInt16());return h}(),this.widths=(function(){var d,h,p,g;for(g=[],d=0,h=(p=this.metrics).length;d<h;d++)o=p[d],g.push(o.advance);return g}).call(this),s=this.widths[this.widths.length-1],u=[],r=a=0;0<=i?a<i:a>i;r=0<=i?++a:--a)u.push(this.widths.push(s));return u},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),Q7=[].slice,Ooe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sl(e,ha),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,s,i,o,a,c,u,d,h,p;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,s=o.indexOf(n),(i=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+s,a=(c=new Ku(r.read(i))).readShort(),d=c.readShort(),p=c.readShort(),u=c.readShort(),h=c.readShort(),this.cache[n]=a===-1?new Moe(c,d,p,u,h):new Doe(c,a,d,p,u,h),this.cache[n]))},e.prototype.encode=function(n,r,s){var i,o,a,c,u;for(a=[],o=[],c=0,u=r.length;c<u;c++)i=n[r[c]],o.push(a.length),i&&(a=a.concat(i.encode(s)));return o.push(a.length),{table:a,offsets:o}},e}(),Doe=function(){function t(e,n,r,s,i,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Moe=function(){function t(e,n,r,s,i){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Ku(Q7.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),Foe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return sl(e,ha),e.prototype.tag="loca",e.prototype.parse=function(n){var r,s;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],s=0,i=this.length;s<i;s+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var s=new Uint32Array(this.offsets.length),i=0,o=0,a=0;a<s.length;++a)if(s[a]=i,o<r.length&&r[o]==a){++o,s[a]=i;var c=this.offsets[a],u=this.offsets[a+1]-c;u>0&&(i+=u)}for(var d=new Array(4*s.length),h=0;h<s.length;++h)d[4*h+3]=255&s[h],d[4*h+2]=(65280&s[h])>>8,d[4*h+1]=(16711680&s[h])>>16,d[4*h]=(4278190080&s[h])>>24;return d},e}(),Voe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,s,i;for(n in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[n],e[n]=s[r];return e},t.prototype.glyphsFor=function(e){var n,r,s,i,o,a,c;for(s={},o=0,a=e.length;o<a;o++)s[i=e[o]]=this.font.glyf.glyphFor(i);for(i in n=[],s)(r=s[i])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(i in c=this.glyphsFor(n))r=c[i],s[i]=r;return s},t.prototype.encode=function(e,n){var r,s,i,o,a,c,u,d,h,p,g,b,w,_,x;for(s in r=Y7.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),g={0:0},x=r.charMap)g[(c=x[s]).old]=c.new;for(b in p=r.maxGlyphID,o)b in g||(g[b]=p++);return d=function(v){var N,R;for(N in R={},v)R[v[N]]=N;return R}(g),h=Object.keys(d).sort(function(v,N){return v-N}),w=function(){var v,N,R;for(R=[],v=0,N=h.length;v<N;v++)a=h[v],R.push(d[a]);return R}(),i=this.font.glyf.encode(o,w,g),u=this.font.loca.encode(i.offsets,w),_={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},t}();At.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,s,i,o;if(Array.isArray(n))return"["+function(){var a,c,u;for(u=[],a=0,c=n.length;a<c;a++)r=n[a],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in i=["<<"],n)o=n[s],i.push("/"+s+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+n},e}();function X7(t,e,n,r,s){r=r||{};var i=1.15,o=s.internal.scaleFactor,a=s.internal.getFontSize()/o,c=s.getLineHeightFactor?s.getLineHeightFactor():i,u=a*c,d=/\r\n|\r|\n/g,h="",p=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(h=typeof t=="string"?t.split(d):t,p=h.length||1),n+=a*(2-i),r.valign==="middle"?n-=p/2*u:r.valign==="bottom"&&(n-=p*u),r.halign==="center"||r.halign==="right"){var g=a;if(r.halign==="center"&&(g*=.5),h&&p>=1){for(var b=0;b<h.length;b++)s.text(h[b],e-s.getStringUnitWidth(h[b])*g,n),n+=u;return s}e-=s.getStringUnitWidth(t)*g}return r.halign==="justify"?s.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):s.text(t,e,n),s}var lI={},lp=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:lI=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,s,i;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,c=o.fontName;if(e.font&&(c=e.font),e.fontStyle){a=e.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),a=u[0])}if(this.jsPDFDocument.setFont(c,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var d=t.unifyColor(e.fillColor);d&&(r=this.jsPDFDocument).setFillColor.apply(r,d),d=t.unifyColor(e.textColor),d&&(s=this.jsPDFDocument).setTextColor.apply(s,d),d=t.unifyColor(e.lineColor),d&&(i=this.jsPDFDocument).setDrawColor.apply(i,d),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,s,i){return this.jsPDFDocument.rect(e,n,r,s,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return lI||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),Q_=function(t,e){return Q_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Q_(t,e)};function Z7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Q_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var J7=function(t){Z7(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function Uoe(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Boe(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function u2(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],s=r.map(function(i){return n.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return s}function eF(t,e,n,r){var s=e.settings.tableLineWidth,i=e.settings.tableLineColor;t.applyStyles({lineWidth:s,lineColor:i});var o=tF(s,!1);o&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,o)}function tF(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function Qw(t,e){var n,r,s,i;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(s=t.right)!==null&&s!==void 0?s:e,bottom:(i=t.bottom)!==null&&i!==void 0?i:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function nF(t,e){var n=Qw(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function zoe(t,e,n,r,s){var i={},o=1.3333333333333333,a=jb(e,function(N){return s.getComputedStyle(N).backgroundColor});a!=null&&(i.fillColor=a);var c=jb(e,function(N){return s.getComputedStyle(N).color});c!=null&&(i.textColor=c);var u=$oe(r,n);u&&(i.cellPadding=u);var d="borderTopColor",h=o*n,p=r.borderTopWidth;if(r.borderBottomWidth===p&&r.borderRightWidth===p&&r.borderLeftWidth===p){var g=(parseFloat(p)||0)/h;g&&(i.lineWidth=g)}else i.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/h,right:(parseFloat(r.borderRightWidth)||0)/h,bottom:(parseFloat(r.borderBottomWidth)||0)/h,left:(parseFloat(r.borderLeftWidth)||0)/h},i.lineWidth.top||(i.lineWidth.right?d="borderRightColor":i.lineWidth.bottom?d="borderBottomColor":i.lineWidth.left&&(d="borderLeftColor"));var b=jb(e,function(N){return s.getComputedStyle(N)[d]});b!=null&&(i.lineColor=b);var w=["left","right","center","justify"];w.indexOf(r.textAlign)!==-1&&(i.halign=r.textAlign),w=["middle","bottom","top"],w.indexOf(r.verticalAlign)!==-1&&(i.valign=r.verticalAlign);var _=parseInt(r.fontSize||"");isNaN(_)||(i.fontSize=_/o);var x=qoe(r);x&&(i.fontStyle=x);var v=(r.fontFamily||"").toLowerCase();return t.indexOf(v)!==-1&&(i.font=v),i}function qoe(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function jb(t,e){var n=rF(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var s=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],i=parseInt(r[4]);return i===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function rF(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:rF(t.parentElement,e):n}function $oe(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),s=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,i=n.map(function(a){return parseInt(a||"0")/r}),o=Qw(i,0);return s>o.top&&(o.top=s),s>o.bottom&&(o.bottom=s),o}function sF(t,e,n,r,s){var i,o;r===void 0&&(r=!1),s===void 0&&(s=!1);var a;typeof e=="string"?a=n.document.querySelector(e):a=e;var c=Object.keys(t.getFontList()),u=t.scaleFactor(),d=[],h=[],p=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:d,body:h,foot:p};for(var g=0;g<a.rows.length;g++){var b=a.rows[g],w=(o=(i=b==null?void 0:b.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),_=Woe(c,u,n,b,r,s);_&&(w==="thead"?d.push(_):w==="tfoot"?p.push(_):h.push(_))}return{head:d,body:h,foot:p}}function Woe(t,e,n,r,s,i){for(var o=new J7(r),a=0;a<r.cells.length;a++){var c=r.cells[a],u=n.getComputedStyle(c);if(s||u.display!=="none"){var d=void 0;i&&(d=zoe(t,c,e,u,n)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:Hoe(c)})}}var h=n.getComputedStyle(r);if(o.length>0&&(s||h.display!=="none"))return o}function Hoe(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function Goe(t,e,n){for(var r=0,s=[t,e,n];r<s.length;r++){var i=s[r];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Ul(t,e,n,r,s){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(i[c]=a[c])}return i}function Koe(t,e){var n=new lp(t),r=n.getDocumentOptions(),s=n.getGlobalOptions();Goe(s,r,e);var i=Ul({},s,r,e),o;typeof window<"u"&&(o=window);var a=Yoe(s,r,e),c=Qoe(s,r,e),u=Xoe(n,i),d=Joe(n,i,o);return{id:e.tableId,content:d,hooks:c,styles:a,settings:u}}function Yoe(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(c){if(c==="columnStyles"){var u=t[c],d=e[c],h=n[c];r.columnStyles=Ul({},u,d,h)}else{var p=[t,e,n],g=p.map(function(b){return b[c]||{}});r[c]=Ul({},g[0],g[1],g[2])}},i=0,o=Object.keys(r);i<o.length;i++){var a=o[i];s(a)}return r}function Qoe(t,e,n){for(var r=[t,e,n],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=r;i<o.length;i++){var a=o[i];a.didParseCell&&s.didParseCell.push(a.didParseCell),a.willDrawCell&&s.willDrawCell.push(a.willDrawCell),a.didDrawCell&&s.didDrawCell.push(a.didDrawCell),a.willDrawPage&&s.willDrawPage.push(a.willDrawPage),a.didDrawPage&&s.didDrawPage.push(a.didDrawPage)}return s}function Xoe(t,e){var n,r,s,i,o,a,c,u,d,h,p,g,b=Qw(e.margin,40/t.scaleFactor()),w=(n=Zoe(t,e.startY))!==null&&n!==void 0?n:b.top,_;e.showFoot===!0?_="everyPage":e.showFoot===!1?_="never":_=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var x;e.showHead===!0?x="everyPage":e.showHead===!1?x="never":x=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var v=(i=e.useCss)!==null&&i!==void 0?i:!1,N=e.theme||(v?"plain":"striped"),R=!!e.horizontalPageBreak,M=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:v,theme:N,startY:w,margin:b,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=e.tableWidth)!==null&&d!==void 0?d:"auto",showHead:x,showFoot:_,tableLineWidth:(h=e.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(p=e.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:R,horizontalPageBreakRepeat:M,horizontalPageBreakBehaviour:(g=e.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function Zoe(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),s=t.pageNumber(),i=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;i=o===s}return typeof e=="number"?e:(e==null||e===!1)&&i&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function Joe(t,e,n){var r=e.head||[],s=e.body||[],i=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var a=sF(t,e.html,n,o,e.useCss)||{};r=a.head||r,s=a.body||r,i=a.foot||r}else console.error("Cannot parse html in non browser environment")}var c=e.columns||eae(r,s,i);return{columns:c,head:r,body:s,foot:i}}function eae(t,e,n){var r=t[0]||e[0]||n[0]||[],s=[];return Object.keys(r).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,a;Array.isArray(r)?a=r[parseInt(i)]:a=r[i],typeof a=="object"&&!Array.isArray(a)&&(o=(a==null?void 0:a.colSpan)||1);for(var c=0;c<o;c++){var u=void 0;Array.isArray(r)?u=s.length:u=i+(c>0?"_".concat(c):"");var d={dataKey:u};s.push(d)}}),s}var X_=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),tae=function(t){Z7(e,t);function e(n,r,s,i,o,a){var c=t.call(this,n,r,a)||this;return c.cell=s,c.row=i,c.column=o,c.section=i.section,c}return e}(X_),nae=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,s,i,o){for(var a=0,c=n;a<c.length;a++){var u=c[a],d=new tae(e,this,r,s,i,o),h=u(d)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],h)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,s=this.hooks.didDrawPage;r<s.length;r++){var i=s[r];i(new X_(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,s=this.hooks.willDrawPage;r<s.length;r++){var i=s[r];i(new X_(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(s,i){return s+i.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),iF=function(){function t(e,n,r,s,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof J7&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=s,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,s){var i;return Math.max(r,((i=n.cells[s.index])===null||i===void 0?void 0:i.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var s=n.cells[r.index];return s?s.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(s,i){var o=r.cells[i.index];if(!o)return 0;var a=n.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),u=c+a;return u>s?u:s},0)},t}(),oF=function(){function t(e,n,r){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");r=this.x+s/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*n,i=r*s+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=Qw(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),rae=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,s=e.allRows();r<s.length;r++){var i=s[r],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},t}();function sae(t,e){iae(t,e);var n=[],r=0;e.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(e);o?i.width=o:(i.width=i.wrappedWidth,n.push(i)),r+=i.width});var s=e.getWidth(t.pageSize().width)-r;s&&(s=Z_(n,s,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),s&&(s=Z_(n,s,function(i){return i.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/t.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),aae(e),lae(e,t),oae(e)}function iae(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,s=nF(t,e);e.allRows().forEach(function(i){for(var o=0,a=e.columns;o<a.length;o++){var c=a[o],u=i.cells[c.index];if(u){var d=e.hooks.didParseCell;e.callCellHooks(t,d,u,i,c,null);var h=u.padding("horizontal");u.contentWidth=u2(u.text,u.styles,t)+h;var p=u2(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=p+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>s?(u.minWidth=s,u.wrappedWidth=s):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var g=10/n;u.minWidth=u.styles.minCellWidth||g,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(i){for(var o=0,a=e.columns;o<a.length;o++){var c=a[o],u=i.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},h=d.cellWidth||d.minCellWidth;h&&typeof h=="number"&&(c.minWidth=h,c.wrappedWidth=h)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function Z_(t,e,n){for(var r=e,s=t.reduce(function(g,b){return g+b.wrappedWidth},0),i=0;i<t.length;i++){var o=t[i],a=o.wrappedWidth/s,c=r*a,u=o.width+c,d=n(o),h=u<d?d:u;e-=h-o.width,o.width=h}if(e=Math.round(e*1e10)/1e10,e){var p=t.filter(function(g){return e<0?g.width>n(g):!0});p.length&&(e=Z_(p,e,n))}return e}function oae(t){for(var e={},n=1,r=t.allRows(),s=0;s<r.length;s++)for(var i=r[s],o=0,a=t.columns;o<a.length;o++){var c=a[o],u=e[c.index];if(n>1)n--,delete i.cells[c.index];else if(u)u.cell.height+=i.height,n=u.cell.colSpan,delete i.cells[c.index],u.left--,u.left<=1&&delete e[c.index];else{var d=i.cells[c.index];if(!d)continue;if(d.height=i.height,d.rowSpan>1){var h=r.length-s,p=d.rowSpan>h?h:d.rowSpan;e[c.index]={cell:d,left:p,row:i}}}}}function aae(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],s=null,i=0,o=0,a=0;a<t.columns.length;a++){var c=t.columns[a];if(o-=1,o>1&&t.columns[a+1])i+=c.width,delete r.cells[c.index];else if(s){var u=s;delete r.cells[c.index],s=null,u.width=c.width+i}else{var u=r.cells[c.index];if(!u)continue;if(o=u.colSpan,i=0,u.colSpan>1){s=u,i+=c.width;continue}u.width=c.width+i}}}function lae(t,e){for(var n={count:0,height:0},r=0,s=t.allRows();r<s.length;r++){for(var i=s[r],o=0,a=t.columns;o<a.length;o++){var c=a[o],u=i.cells[c.index];if(u){e.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,d+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=cI(u.text,d,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=cI(u.text,d,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var h=u.styles.overflow(u.text,d);typeof h=="string"?u.text=[h]:u.text=h}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var p=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<p*u.rowSpan?n={height:p,count:u.rowSpan}:n&&n.count>0&&n.height>p&&(p=n.height),p>i.height&&(i.height=p)}}n.count--}}function cI(t,e,n,r,s){return t.map(function(i){return cae(i,e,n,r,s)})}function cae(t,e,n,r,s){var i=1e4*r.scaleFactor();if(e=Math.ceil(e*i)/i,e>=u2(t,n,r))return t;for(;e<u2(t+s,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+s}function uae(t,e){var n=new lp(t),r=dae(e,n.scaleFactor()),s=new nae(e,r);return sae(n,s),n.applyStyles(n.userStyles),s}function dae(t,e){var n=t.content,r=fae(n.columns);if(n.head.length===0){var s=uI(r,"head");s&&n.head.push(s)}if(n.foot.length===0){var s=uI(r,"foot");s&&n.foot.push(s)}var i=t.settings.theme,o=t.styles;return{columns:r,head:Rb("head",n.head,r,o,i,e),body:Rb("body",n.body,r,o,i,e),foot:Rb("foot",n.foot,r,o,i,e)}}function Rb(t,e,n,r,s,i){var o={},a=e.map(function(c,u){for(var d=0,h={},p=0,g=0,b=0,w=n;b<w.length;b++){var _=w[b];if(o[_.index]==null||o[_.index].left===0)if(g===0){var x=void 0;Array.isArray(c)?x=c[_.index-p-d]:x=c[_.dataKey];var v={};typeof x=="object"&&!Array.isArray(x)&&(v=(x==null?void 0:x.styles)||{});var N=pae(t,_,u,s,r,i,v),R=new oF(x,N,t);h[_.dataKey]=R,h[_.index]=R,g=R.colSpan-1,o[_.index]={left:R.rowSpan-1,times:g}}else g--,p++;else o[_.index].left--,g=o[_.index].times,d++}return new iF(c,u,t,h)});return a}function uI(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var s=hae(e,r.raw);s!=null&&(n[r.dataKey]=s)}}),Object.keys(n).length>0?n:null}function hae(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function fae(t){return t.map(function(e,n){var r,s;return typeof e=="object"?s=(r=e.dataKey)!==null&&r!==void 0?r:n:s=n,new rae(s,e,n)})}function pae(t,e,n,r,s,i,o){var a=Boe(r),c;t==="head"?c=s.headStyles:t==="body"?c=s.bodyStyles:t==="foot"&&(c=s.footStyles);var u=Ul({},a.table,a[t],s.styles,c),d=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},h=t==="body"?d:{},p=t==="body"&&n%2===0?Ul({},a.alternateRow,s.alternateRowStyles):{},g=Uoe(i),b=Ul({},g,u,p,h);return Ul(b,o)}function mae(t,e,n){var r;n===void 0&&(n={});var s=nF(t,e),i=new Map,o=[],a=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(p){var g=e.columns.find(function(b){return b.dataKey===p||b.index===p});g&&!i.has(g.index)&&(i.set(g.index,!0),o.push(g.index),a.push(e.columns[g.index]),s-=g.wrappedWidth)});for(var u=!0,d=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;d<e.columns.length;){if(i.has(d)){d++;continue}var h=e.columns[d].wrappedWidth;if(u||s>=h)u=!1,o.push(d),a.push(e.columns[d]),s-=h;else break;d++}return{colIndexes:o,columns:a,lastIndex:d-1}}function gae(t,e){for(var n=[],r=0;r<e.columns.length;r++){var s=mae(t,e,{start:r});s.columns.length&&(n.push(s),r=s.lastIndex)}return n}function vae(t,e){var n=e.settings,r=n.startY,s=n.margin,i={x:s.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=r+s.bottom+o;if(n.pageBreak==="avoid"){var c=e.body,u=c.reduce(function(p,g){return p+g.height},0);a+=u}var d=new lp(t);(n.pageBreak==="always"||n.startY!=null&&a>d.pageSize().height)&&(lF(d),i.y=s.top),e.callWillDrawPageHooks(d,i);var h=Ul({},i);e.startPageNumber=d.pageNumber(),n.horizontalPageBreak?yae(d,e,h,i):(d.applyStyles(d.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(p){return sc(d,e,p,i,e.columns)}),d.applyStyles(d.userStyles),e.body.forEach(function(p,g){var b=g===e.body.length-1;d2(d,e,p,b,h,i,e.columns)}),d.applyStyles(d.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(p){return sc(d,e,p,i,e.columns)})),eF(d,e,h,i),e.callEndPageHooks(d,i),e.finalY=i.y,t.lastAutoTable=e,d.applyStyles(d.userStyles)}function yae(t,e,n,r){var s=gae(t,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(u,d){t.applyStyles(t.userStyles),d>0?Cg(t,e,n,r,u.columns,!0):dI(t,e,r,u.columns),wae(t,e,n,r,u.columns),Lb(t,e,r,u.columns)});else for(var o=-1,a=s[0],c=function(){var u=o;if(a){t.applyStyles(t.userStyles);var d=a.columns;o>=0?Cg(t,e,n,r,d,!0):dI(t,e,r,d),u=hI(t,e,o+1,r,d),Lb(t,e,r,d)}var h=u-o;s.slice(1).forEach(function(p){t.applyStyles(t.userStyles),Cg(t,e,n,r,p.columns,!0),hI(t,e,o+1,r,p.columns,h),Lb(t,e,r,p.columns)}),o=u};o<e.body.length-1;)c()}function dI(t,e,n,r){var s=e.settings;t.applyStyles(t.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(i){return sc(t,e,i,n,r)})}function wae(t,e,n,r,s){t.applyStyles(t.userStyles),e.body.forEach(function(i,o){var a=o===e.body.length-1;d2(t,e,i,a,n,r,s)})}function hI(t,e,n,r,s,i){t.applyStyles(t.userStyles),i=i??e.body.length;var o=Math.min(n+i,e.body.length),a=-1;return e.body.slice(n,o).forEach(function(c,u){var d=n+u===e.body.length-1,h=aF(t,e,d,r);c.canEntireRowFit(h,s)&&(sc(t,e,c,r,s),a=n+u)}),a}function Lb(t,e,n,r){var s=e.settings;t.applyStyles(t.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(i){return sc(t,e,i,n,r)})}function xae(t,e,n){var r=n.getLineHeight(t.styles.fontSize),s=t.padding("vertical"),i=Math.floor((e-s)/r);return Math.max(0,i)}function bae(t,e,n,r){var s={};t.spansMultiplePages=!0,t.height=0;for(var i=0,o=0,a=n.columns;o<a.length;o++){var c=a[o],u=t.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new oF(u.raw,u.styles,u.section);d=Ul(d,u),d.text=[];var h=xae(u,e,r);u.text.length>h&&(d.text=u.text.splice(h,u.text.length));var p=r.scaleFactor(),g=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(p,g),u.contentHeight>=e&&(u.contentHeight=e,d.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),d.contentHeight=d.getContentHeight(p,g),d.contentHeight>i&&(i=d.contentHeight),s[c.index]=d}}var b=new iF(t.raw,-1,t.section,s,!0);b.height=i;for(var w=0,_=n.columns;w<_.length;w++){var c=_[w],d=b.cells[c.index];d&&(d.height=b.height);var u=t.cells[c.index];u&&(u.height=t.height)}return b}function _ae(t,e,n,r){var s=t.pageSize().height,i=r.settings.margin,o=i.top+i.bottom,a=s-o;e.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=e.getMinimumRowHeight(r.columns,t),u=c<n;if(c>a)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=e.hasRowSpan(r.columns),h=e.getMaxCellHeight(r.columns)>a;return h?(d&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||r.settings.rowPageBreak==="avoid")}function d2(t,e,n,r,s,i,o){var a=aF(t,e,r,i);if(n.canEntireRowFit(a,o))sc(t,e,n,i,o);else if(_ae(t,n,a,e)){var c=bae(n,a,e,t);sc(t,e,n,i,o),Cg(t,e,s,i,o),d2(t,e,c,r,s,i,o)}else Cg(t,e,s,i,o),d2(t,e,n,r,s,i,o)}function sc(t,e,n,r,s){r.x=e.settings.margin.left;for(var i=0,o=s;i<o.length;i++){var a=o[i],c=n.cells[a.index];if(!c){r.x+=a.width;continue}t.applyStyles(c.styles),c.x=r.x,c.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,c,n,a,r);if(u===!1){r.x+=a.width;continue}Sae(t,c,r);var d=c.getTextPos();X7(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,n,a,r),r.x+=a.width}r.y+=n.height}function Sae(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var s=tF(r.lineWidth,r.fillColor);s&&t.rect(e.x,n.y,e.width,e.height,s)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),Nae(t,e,n,r.lineWidth))}function Nae(t,e,n,r){var s,i,o,a;r.top&&(s=n.x,i=n.y,o=n.x+e.width,a=n.y,r.right&&(o+=.5*r.right),r.left&&(s-=.5*r.left),c(r.top,s,i,o,a)),r.bottom&&(s=n.x,i=n.y+e.height,o=n.x+e.width,a=n.y+e.height,r.right&&(o+=.5*r.right),r.left&&(s-=.5*r.left),c(r.bottom,s,i,o,a)),r.left&&(s=n.x,i=n.y,o=n.x,a=n.y+e.height,r.top&&(i-=.5*r.top),r.bottom&&(a+=.5*r.bottom),c(r.left,s,i,o,a)),r.right&&(s=n.x+e.width,i=n.y,o=n.x+e.width,a=n.y+e.height,r.top&&(i-=.5*r.top),r.bottom&&(a+=.5*r.bottom),c(r.right,s,i,o,a));function c(u,d,h,p,g){t.getDocument().setLineWidth(u),t.getDocument().line(d,h,p,g,"S")}}function aF(t,e,n,r){var s=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&n)&&(s+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-s}function Cg(t,e,n,r,s,i){s===void 0&&(s=[]),i===void 0&&(i=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(a){return sc(t,e,a,r,s)}),e.callEndPageHooks(t,r);var o=e.settings.margin;eF(t,e,n,r),lF(t),e.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return sc(t,e,a,r,s)}),t.applyStyles(t.userStyles))}function lF(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function Eae(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],s=Koe(this,r),i=uae(this,s);return vae(this,i),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,s){X7(e,n,r,s,this)},t.API.autoTableSetDefaults=function(e){return lp.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){lp.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new lp(this),i=sF(s,e,window,n,!1),o=i.head,a=i.body,c=((r=o[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:c,rows:a,data:a}}}var Ob;try{if(typeof window<"u"&&window){var fI=window,pI=fI.jsPDF||((Ob=fI.jspdf)===null||Ob===void 0?void 0:Ob.jsPDF);pI&&Eae(pI)}}catch(t){console.error("Could not apply autoTable plugin",t)}async function cF(t){const e=new At;e.setFontSize(22),e.setTextColor(79,70,229),e.text("UniMarket Receipt",105,20,{align:"center"}),e.setFontSize(10),e.setTextColor(100,100,100),e.text(`Transaction Date: ${t.date.toLocaleDateString()}`,20,35),e.text(`Transaction ID: ${t.transactionId}`,20,40),e.setFontSize(12),e.setTextColor(0,0,0),e.text("Buyer:",20,55),e.text(t.buyerName,60,55),e.text("Seller:",20,62),e.text(t.sellerName,60,62),e.setDrawColor(200,200,200),e.line(20,70,190,70);const n=[{header:"Item",dataKey:"item"},{header:"Price",dataKey:"price"}],r=[{item:t.productTitle,price:`$${(t.price/100).toFixed(2)}`}];t.additionalItems&&t.additionalItems.length>0&&t.additionalItems.forEach(o=>{r.push({item:o.title,price:`$${(o.price/100).toFixed(2)}`})}),e.autoTable({startY:80,head:[n.map(o=>o.header)],body:r.map(o=>[o.item,o.price]),theme:"grid",headStyles:{fillColor:[79,70,229],textColor:[255,255,255],fontStyle:"bold"}});let s=t.price;t.additionalItems&&t.additionalItems.forEach(o=>{s+=o.price});const i=e.lastAutoTable.finalY||120;return e.setFontSize(14),e.setTextColor(0,0,0),e.text("Total:",150,i+10),e.setFont(void 0,"bold"),e.text(`$${(s/100).toFixed(2)}`,175,i+10),e.setFontSize(12),e.setFont(void 0,"normal"),e.setTextColor(100,100,100),e.text("Thank you for using UniMarket!",105,i+25,{align:"center"}),e.setFontSize(8),e.text("This receipt serves as proof of purchase. UniMarket is not responsible for the condition or description of the purchased item.",105,i+35,{align:"center"}),e.output("blob")}async function Aae(t){const e=await cF(t),n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=`UniMarket_Receipt_${t.transactionId}.pdf`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}function Db({productId:t,isOpen:e,onClose:n,product:r}){var k;const{user:s}=Yi(),{toast:i}=Si(),[o,a]=E.useState(0),[c,u]=E.useState(""),[d,h]=E.useState(""),[p,g]=E.useState([]),[b,w]=E.useState(!1),{data:_,isLoading:x}=Qr({queryKey:["product",t],queryFn:async()=>await jw(t),enabled:e&&!!t&&!r}),v=r||_,{data:N,isLoading:R,refetch:M}=Qr({queryKey:["bids",t],queryFn:async()=>await VE(t),enabled:e&&!!t&&!!(v!=null&&v.isBidding)}),$=N&&N.length>0?N[0].amount:0,I=async()=>{if(!s){i({title:"Authentication required",description:"Please log in to place a bid",variant:"destructive"});return}if(!c||isNaN(parseFloat(c))){i({title:"Invalid bid",description:"Please enter a valid bid amount",variant:"destructive"});return}const T=parseFloat(c);if(T<=$){i({title:"Bid too low",description:`Your bid must be higher than the current highest bid (₹${($/100).toFixed(2)})`,variant:"destructive"});return}w(!0);try{await FE(t,s.uid,T),await M(),u(""),i({title:"Bid placed",description:"Your bid has been placed successfully"})}catch(O){console.error("Error placing bid:",O),i({title:"Error",description:"Failed to place bid. Please try again.",variant:"destructive"})}finally{w(!1)}},P=async()=>{if(!s){i({title:"Authentication required",description:"Please log in to purchase this item",variant:"destructive"});return}if(!v||!v.userId){i({title:"Error",description:"Product information is incomplete",variant:"destructive"});return}w(!0);try{const T=await cF({buyerName:s.displayName||"User",sellerName:v.sellerName||"Seller",productTitle:v.title,price:v.price,date:new Date,transactionId:`TRX-${Date.now()}`});await hM(s.uid,v.userId,t,v.price,T),i({title:"Purchase successful",description:"Your purchase has been completed successfully"}),n()}catch(T){console.error("Error completing purchase:",T),i({title:"Error",description:"Failed to complete purchase. Please try again.",variant:"destructive"})}finally{w(!1)}},L=async()=>{if(!s){i({title:"Authentication required",description:"Please log in to message the seller",variant:"destructive"});return}if(!d.trim()){i({title:"Empty message",description:"Please enter a message to send",variant:"destructive"});return}if(!v||!v.userId){i({title:"Error",description:"Seller information is unavailable",variant:"destructive"});return}w(!0);try{await Rw(s.uid,v.userId,d,t),h(""),i({title:"Message sent",description:"Your message has been sent to the seller"})}catch(T){console.error("Error sending message:",T),i({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}finally{w(!1)}},F=()=>{if(!(v!=null&&v.whatsappNumber)){i({title:"WhatsApp unavailable",description:"This seller has not provided a WhatsApp number",variant:"destructive"});return}const T=`Hi, I'm interested in your product "${v.title}" on UniMarket.`,O=`https://wa.me/${v.whatsappNumber}?text=${encodeURIComponent(T)}`;window.open(O,"_blank")};return x?l.jsx(Pu,{open:e,onOpenChange:n,children:l.jsxs(ql,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[l.jsxs($l,{children:[l.jsx(Wl,{children:"Loading product details..."}),l.jsx(Zd,{})]}),l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})]})}):v?l.jsx(Pu,{open:e,onOpenChange:n,children:l.jsxs(ql,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[l.jsxs($l,{children:[l.jsx(Wl,{children:"Product Details"}),l.jsx(Zd,{})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"md:flex",children:[l.jsxs("div",{className:"md:w-1/2 md:pr-4",children:[l.jsx("div",{className:"relative pb-[75%] mb-2 rounded-lg overflow-hidden border border-gray-200",children:l.jsx("img",{src:v.images[o],alt:v.title,className:"absolute h-full w-full object-cover"})}),l.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:v.images.map((T,O)=>l.jsx("button",{className:`flex-none w-16 h-16 rounded-md overflow-hidden border-2 ${o===O?"border-primary":"border-gray-200"}`,onClick:()=>a(O),children:l.jsx("img",{src:T,alt:`Thumbnail ${O+1}`,className:"h-full w-full object-cover"})},O))})]}),l.jsxs("div",{className:"md:w-1/2 mt-4 md:mt-0",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:v.title}),l.jsxs("p",{className:"text-gray-500 text-sm",children:[v.categoryName," ",v.subcategory&&`• ${v.subcategory}`]})]}),l.jsx(Fe,{variant:"ghost",size:"icon",className:"text-gray-400 hover:text-red-500",children:l.jsx(E1,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("p",{className:"text-2xl font-bold text-primary",children:["₹",(v.price/100).toFixed(2)]}),v.isBidding&&$>0&&l.jsxs("p",{className:"text-sm text-gray-600",children:["Current highest bid: ₹",($/100).toFixed(2)]}),v.sellerRating&&l.jsxs("div",{className:"flex items-center mt-1",children:[[...Array(5)].map((T,O)=>l.jsx(oR,{className:`h-4 w-4 ${O<Math.round(v.sellerRating)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},O)),l.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["Seller rating (",v.sellerRating,"/5)"]})]})]}),l.jsxs(oy,{defaultValue:"description",className:"mt-4",children:[l.jsxs(hm,{children:[l.jsx(Qs,{value:"description",children:"Description"}),l.jsx(Qs,{value:"details",children:"Details"})]}),l.jsx(Xs,{value:"description",className:"pt-2",children:l.jsx("p",{className:"text-gray-600 text-sm",children:v.description})}),l.jsx(Xs,{value:"details",className:"pt-2",children:l.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Condition:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:v.condition})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Posted:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:fv(new Date(v.createdAt),"MMM d, yyyy")})]}),v.isbn&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"ISBN:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:v.isbn})]}),v.location&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Location:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:v.location})]})]})})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("h3",{className:"font-medium",children:"Seller"}),l.jsxs("div",{className:"flex items-center mt-2",children:[l.jsxs(ch,{className:"h-10 w-10",children:[l.jsx(uh,{src:v.sellerPhotoURL,alt:"Seller"}),l.jsx(dh,{children:((k=v.sellerName)==null?void 0:k.charAt(0))||"S"})]}),l.jsxs("div",{className:"ml-3",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:v.isAnonymousSeller?"Anonymous Seller":v.sellerName}),v.sellerYearLevel&&v.sellerUniversity&&l.jsxs("p",{className:"text-xs text-gray-500",children:[v.sellerUniversity,", ",v.sellerYearLevel]})]})]})]}),v.isBidding?l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Qt,{type:"number",placeholder:"Enter bid amount",value:c,onChange:T=>u(T.target.value),className:"flex-1",min:$/100+.01,step:"0.01"}),l.jsxs(Fe,{onClick:I,disabled:b,className:"whitespace-nowrap",children:[l.jsx(xg,{className:"h-4 w-4 mr-2"}),"Place Bid"]})]}),R?l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading bids..."}):N&&N.length>0?l.jsx("div",{className:"mt-2",children:l.jsxs("p",{className:"text-sm text-gray-600",children:[N.length," bid(s) so far"]})}):l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No bids yet. Be the first!"})]}):l.jsx("div",{className:"mt-6 flex flex-col space-y-3",children:l.jsxs(Fe,{onClick:P,disabled:b||v.isSold,className:"w-full",children:[l.jsx(Yq,{className:"h-4 w-4 mr-2"}),v.isSold?"Sold Out":"Buy Now"]})}),l.jsxs("div",{className:"mt-3 flex flex-col space-y-3",children:[l.jsxs(Fe,{variant:"secondary",onClick:F,className:"w-full",children:[l.jsx(H2,{className:"h-4 w-4 mr-2"}),"WhatsApp Seller"]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(od,{placeholder:"Message the seller...",value:d,onChange:T=>h(T.target.value),className:"flex-1"}),l.jsx(Fe,{variant:"outline",onClick:L,disabled:b,className:"self-end",children:"Send"})]})]})]})]}),p.length>0&&l.jsxs("div",{className:"mt-8 border-t pt-6",children:[l.jsx("h3",{className:"font-medium mb-3",children:"Similar Items"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:p.map(T=>l.jsx(th,{product:T,variant:"small"},T.id))})]})]})]})}):l.jsx(Pu,{open:e,onOpenChange:n,children:l.jsxs(ql,{children:[l.jsxs($l,{children:[l.jsx(Wl,{children:"Product not found"}),l.jsx(Zd,{})]}),l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{children:"This product could not be found or has been removed."})})]})})}async function Cae(t){try{if(!t)return"";if(t.startsWith("http"))return t;const e=une(rM,t);return await cne(e)}catch(e){return console.error("Error getting secure image URL:",e),""}}var ay=t=>t.type==="checkbox",Vd=t=>t instanceof Date,Gs=t=>t==null;const uF=t=>typeof t=="object";var Er=t=>!Gs(t)&&!Array.isArray(t)&&uF(t)&&!Vd(t),dF=t=>Er(t)&&t.target?ay(t.target)?t.target.checked:t.target.value:t,Pae=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,hF=(t,e)=>t.has(Pae(e)),Tae=t=>{const e=t.constructor&&t.constructor.prototype;return Er(e)&&e.hasOwnProperty("isPrototypeOf")},i4=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ss(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(i4&&(t instanceof Blob||r))&&(n||Er(t)))if(e=n?[]:{},!n&&!Tae(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=ss(t[s]));else return t;return e}var Xw=t=>Array.isArray(t)?t.filter(Boolean):[],wr=t=>t===void 0,st=(t,e,n)=>{if(!e||!Er(t))return n;const r=Xw(e.split(/[,[\].]+?/)).reduce((s,i)=>Gs(s)?s:s[i],t);return wr(r)||r===t?wr(t[e])?n:t[e]:r},Oi=t=>typeof t=="boolean",o4=t=>/^\w*$/.test(t),fF=t=>Xw(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Nn=(t,e,n)=>{let r=-1;const s=o4(e)?[e]:fF(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let c=n;if(r!==o){const u=t[a];c=Er(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=c,t=t[a]}};const h2={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},qo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Al={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},pF=wt.createContext(null),Zw=()=>wt.useContext(pF),Iae=t=>{const{children:e,...n}=t;return wt.createElement(pF.Provider,{value:n},e)};var mF=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==qo.all&&(e._proxyFormState[o]=!r||qo.all),n&&(n[o]=!0),t[o]}});return s};function kae(t){const e=Zw(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=wt.useState(n._formState),c=wt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=wt.useRef(s);return u.current=s,wt.useEffect(()=>n._subscribe({name:u.current,formState:c.current,exact:i,callback:d=>{!r&&a({...n._formState,...d})}}),[n,r,i]),wt.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),wt.useMemo(()=>mF(o,n,c.current,!1),[o,n])}var Fa=t=>typeof t=="string",gF=(t,e,n,r,s)=>Fa(t)?(r&&e.watch.add(t),st(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),st(n,i))):(r&&(e.watchAll=!0),n);function jae(t){const e=Zw(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=wt.useRef(r),c=wt.useRef(s);a.current=r,wt.useEffect(()=>n._subscribe({name:a.current,formState:{values:!0},exact:o,callback:h=>!i&&d(gF(a.current,n._names,h.values||n._formValues,!1,c.current))}),[n,i,o]);const[u,d]=wt.useState(n._getWatch(r,s));return wt.useEffect(()=>n._removeUnmounted()),u}function Rae(t){const e=Zw(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=hF(s._names.array,n),a=jae({control:s,name:n,defaultValue:st(s._formValues,n,st(s._defaultValues,n,t.defaultValue)),exact:!0}),c=kae({control:s,name:n,exact:!0}),u=wt.useRef(t),d=wt.useRef(s.register(n,{...t.rules,value:a,...Oi(t.disabled)?{disabled:t.disabled}:{}})),h=wt.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!st(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!st(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!st(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!st(c.validatingFields,n)},error:{enumerable:!0,get:()=>st(c.errors,n)}}),[c,n]),p=wt.useCallback(_=>d.current.onChange({target:{value:dF(_),name:n},type:h2.CHANGE}),[n]),g=wt.useCallback(()=>d.current.onBlur({target:{value:st(s._formValues,n),name:n},type:h2.BLUR}),[n,s._formValues]),b=wt.useCallback(_=>{const x=st(s._fields,n);x&&_&&(x._f.ref={focus:()=>_.focus(),select:()=>_.select(),setCustomValidity:v=>_.setCustomValidity(v),reportValidity:()=>_.reportValidity()})},[s._fields,n]),w=wt.useMemo(()=>({name:n,value:a,...Oi(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:p,onBlur:g,ref:b}),[n,r,c.disabled,p,g,b,a]);return wt.useEffect(()=>{const _=s._options.shouldUnregister||i;s.register(n,{...u.current.rules,...Oi(u.current.disabled)?{disabled:u.current.disabled}:{}});const x=(v,N)=>{const R=st(s._fields,v);R&&R._f&&(R._f.mount=N)};if(x(n,!0),_){const v=ss(st(s._options.defaultValues,n));Nn(s._defaultValues,n,v),wr(st(s._formValues,n))&&Nn(s._formValues,n,v)}return!o&&s.register(n),()=>{(o?_&&!s._state.action:_)?s.unregister(n):x(n,!1)}},[n,s,o,i]),wt.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),wt.useMemo(()=>({field:w,formState:c,fieldState:h}),[w,c,h])}const Lae=t=>t.render(Rae(t));var vF=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Pg=t=>Array.isArray(t)?t:[t],mI=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},J_=t=>Gs(t)||!uF(t);function nu(t,e){if(J_(t)||J_(e))return t===e;if(Vd(t)&&Vd(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Vd(i)&&Vd(o)||Er(i)&&Er(o)||Array.isArray(i)&&Array.isArray(o)?!nu(i,o):i!==o)return!1}}return!0}var Ws=t=>Er(t)&&!Object.keys(t).length,a4=t=>t.type==="file",$o=t=>typeof t=="function",f2=t=>{if(!i4)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},yF=t=>t.type==="select-multiple",l4=t=>t.type==="radio",Oae=t=>l4(t)||ay(t),Mb=t=>f2(t)&&t.isConnected;function Dae(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=wr(t)?r++:t[e[r++]];return t}function Mae(t){for(const e in t)if(t.hasOwnProperty(e)&&!wr(t[e]))return!1;return!0}function Mr(t,e){const n=Array.isArray(e)?e:o4(e)?[e]:fF(e),r=n.length===1?t:Dae(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Er(r)&&Ws(r)||Array.isArray(r)&&Mae(r))&&Mr(t,n.slice(0,-1)),t}var wF=t=>{for(const e in t)if($o(t[e]))return!0;return!1};function p2(t,e={}){const n=Array.isArray(t);if(Er(t)||n)for(const r in t)Array.isArray(t[r])||Er(t[r])&&!wF(t[r])?(e[r]=Array.isArray(t[r])?[]:{},p2(t[r],e[r])):Gs(t[r])||(e[r]=!0);return e}function xF(t,e,n){const r=Array.isArray(t);if(Er(t)||r)for(const s in t)Array.isArray(t[s])||Er(t[s])&&!wF(t[s])?wr(e)||J_(n[s])?n[s]=Array.isArray(t[s])?p2(t[s],[]):{...p2(t[s])}:xF(t[s],Gs(e)?{}:e[s],n[s]):n[s]=!nu(t[s],e[s]);return n}var Gm=(t,e)=>xF(t,e,p2(e));const gI={value:!1,isValid:!1},vI={value:!0,isValid:!0};var bF=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!wr(t[0].attributes.value)?wr(t[0].value)||t[0].value===""?vI:{value:t[0].value,isValid:!0}:vI:gI}return gI},_F=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>wr(t)?t:e?t===""?NaN:t&&+t:n&&Fa(t)?new Date(t):r?r(t):t;const yI={isValid:!1,value:null};var SF=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,yI):yI;function wI(t){const e=t.ref;return a4(e)?e.files:l4(e)?SF(t.refs).value:yF(e)?[...e.selectedOptions].map(({value:n})=>n):ay(e)?bF(t.refs).value:_F(wr(e.value)?t.ref.value:e.value,t)}var Fae=(t,e,n,r)=>{const s={};for(const i of t){const o=st(e,i);o&&Nn(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},m2=t=>t instanceof RegExp,Km=t=>wr(t)?t:m2(t)?t.source:Er(t)?m2(t.value)?t.value.source:t.value:t,xI=t=>({isOnSubmit:!t||t===qo.onSubmit,isOnBlur:t===qo.onBlur,isOnChange:t===qo.onChange,isOnAll:t===qo.all,isOnTouch:t===qo.onTouched});const bI="AsyncFunction";var Vae=t=>!!t&&!!t.validate&&!!($o(t.validate)&&t.validate.constructor.name===bI||Er(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===bI)),Uae=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),_I=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Tg=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=st(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Tg(a,e))break}else if(Er(a)&&Tg(a,e))break}}};function SI(t,e,n){const r=st(t,n);if(r||o4(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=st(e,i),a=st(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var Bae=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Ws(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||qo.all))},zae=(t,e,n)=>!t||!e||t===e||Pg(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),qae=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,$ae=(t,e)=>!Xw(st(t,e)).length&&Mr(t,e),Wae=(t,e,n)=>{const r=Pg(st(t,n));return Nn(r,"root",e[n]),Nn(t,n,r),t},Q0=t=>Fa(t);function NI(t,e,n="validate"){if(Q0(t)||Array.isArray(t)&&t.every(Q0)||Oi(t)&&!t)return{type:n,message:Q0(t)?t:"",ref:e}}var pf=t=>Er(t)&&!m2(t)?t:{value:t,message:""},EI=async(t,e,n,r,s,i)=>{const{ref:o,refs:a,required:c,maxLength:u,minLength:d,min:h,max:p,pattern:g,validate:b,name:w,valueAsNumber:_,mount:x}=t._f,v=st(n,w);if(!x||e.has(w))return{};const N=a?a[0]:o,R=T=>{s&&N.reportValidity&&(N.setCustomValidity(Oi(T)?"":T||""),N.reportValidity())},M={},$=l4(o),I=ay(o),P=$||I,L=(_||a4(o))&&wr(o.value)&&wr(v)||f2(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,F=vF.bind(null,w,r,M),k=(T,O,G,ue=Al.maxLength,ie=Al.minLength)=>{const fe=T?O:G;M[w]={type:T?ue:ie,message:fe,ref:o,...F(T?ue:ie,fe)}};if(i?!Array.isArray(v)||!v.length:c&&(!P&&(L||Gs(v))||Oi(v)&&!v||I&&!bF(a).isValid||$&&!SF(a).isValid)){const{value:T,message:O}=Q0(c)?{value:!!c,message:c}:pf(c);if(T&&(M[w]={type:Al.required,message:O,ref:N,...F(Al.required,O)},!r))return R(O),M}if(!L&&(!Gs(h)||!Gs(p))){let T,O;const G=pf(p),ue=pf(h);if(!Gs(v)&&!isNaN(v)){const ie=o.valueAsNumber||v&&+v;Gs(G.value)||(T=ie>G.value),Gs(ue.value)||(O=ie<ue.value)}else{const ie=o.valueAsDate||new Date(v),fe=re=>new Date(new Date().toDateString()+" "+re),Y=o.type=="time",te=o.type=="week";Fa(G.value)&&v&&(T=Y?fe(v)>fe(G.value):te?v>G.value:ie>new Date(G.value)),Fa(ue.value)&&v&&(O=Y?fe(v)<fe(ue.value):te?v<ue.value:ie<new Date(ue.value))}if((T||O)&&(k(!!T,G.message,ue.message,Al.max,Al.min),!r))return R(M[w].message),M}if((u||d)&&!L&&(Fa(v)||i&&Array.isArray(v))){const T=pf(u),O=pf(d),G=!Gs(T.value)&&v.length>+T.value,ue=!Gs(O.value)&&v.length<+O.value;if((G||ue)&&(k(G,T.message,O.message),!r))return R(M[w].message),M}if(g&&!L&&Fa(v)){const{value:T,message:O}=pf(g);if(m2(T)&&!v.match(T)&&(M[w]={type:Al.pattern,message:O,ref:o,...F(Al.pattern,O)},!r))return R(O),M}if(b){if($o(b)){const T=await b(v,n),O=NI(T,N);if(O&&(M[w]={...O,...F(Al.validate,O.message)},!r))return R(O.message),M}else if(Er(b)){let T={};for(const O in b){if(!Ws(T)&&!r)break;const G=NI(await b[O](v,n),N,O);G&&(T={...G,...F(O,G.message)},R(G.message),r&&(M[w]=T))}if(!Ws(T)&&(M[w]={ref:N,...T},!r))return M}}return R(!0),M};const Hae={mode:qo.onSubmit,reValidateMode:qo.onChange,shouldFocusError:!0};function Gae(t={}){let e={...Hae,...t},n={submitCount:0,isDirty:!1,isLoading:$o(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=Er(e.defaultValues)||Er(e.values)?ss(e.values||e.defaultValues)||{}:{},i=e.shouldUnregister?{}:ss(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const p={array:mI(),state:mI()},g=xI(e.mode),b=xI(e.reValidateMode),w=e.criteriaMode===qo.all,_=X=>ce=>{clearTimeout(u),u=setTimeout(X,ce)},x=async X=>{if(!e.disabled&&(d.isValid||h.isValid||X)){const ce=e.resolver?Ws((await L()).errors):await k(r,!0);ce!==n.isValid&&p.state.next({isValid:ce})}},v=(X,ce)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((X||Array.from(a.mount)).forEach(be=>{be&&(ce?Nn(n.validatingFields,be,ce):Mr(n.validatingFields,be))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Ws(n.validatingFields)}))},N=(X,ce=[],be,De,Te=!0,Ce=!0)=>{if(De&&be&&!e.disabled){if(o.action=!0,Ce&&Array.isArray(st(r,X))){const He=be(st(r,X),De.argA,De.argB);Te&&Nn(r,X,He)}if(Ce&&Array.isArray(st(n.errors,X))){const He=be(st(n.errors,X),De.argA,De.argB);Te&&Nn(n.errors,X,He),$ae(n.errors,X)}if((d.touchedFields||h.touchedFields)&&Ce&&Array.isArray(st(n.touchedFields,X))){const He=be(st(n.touchedFields,X),De.argA,De.argB);Te&&Nn(n.touchedFields,X,He)}(d.dirtyFields||h.dirtyFields)&&(n.dirtyFields=Gm(s,i)),p.state.next({name:X,isDirty:O(X,ce),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Nn(i,X,ce)},R=(X,ce)=>{Nn(n.errors,X,ce),p.state.next({errors:n.errors})},M=X=>{n.errors=X,p.state.next({errors:n.errors,isValid:!1})},$=(X,ce,be,De)=>{const Te=st(r,X);if(Te){const Ce=st(i,X,wr(be)?st(s,X):be);wr(Ce)||De&&De.defaultChecked||ce?Nn(i,X,ce?Ce:wI(Te._f)):ie(X,Ce),o.mount&&x()}},I=(X,ce,be,De,Te)=>{let Ce=!1,He=!1;const Je={name:X};if(!e.disabled){if(!be||De){(d.isDirty||h.isDirty)&&(He=n.isDirty,n.isDirty=Je.isDirty=O(),Ce=He!==Je.isDirty);const yt=nu(st(s,X),ce);He=!!st(n.dirtyFields,X),yt?Mr(n.dirtyFields,X):Nn(n.dirtyFields,X,!0),Je.dirtyFields=n.dirtyFields,Ce=Ce||(d.dirtyFields||h.dirtyFields)&&He!==!yt}if(be){const yt=st(n.touchedFields,X);yt||(Nn(n.touchedFields,X,be),Je.touchedFields=n.touchedFields,Ce=Ce||(d.touchedFields||h.touchedFields)&&yt!==be)}Ce&&Te&&p.state.next(Je)}return Ce?Je:{}},P=(X,ce,be,De)=>{const Te=st(n.errors,X),Ce=(d.isValid||h.isValid)&&Oi(ce)&&n.isValid!==ce;if(e.delayError&&be?(c=_(()=>R(X,be)),c(e.delayError)):(clearTimeout(u),c=null,be?Nn(n.errors,X,be):Mr(n.errors,X)),(be?!nu(Te,be):Te)||!Ws(De)||Ce){const He={...De,...Ce&&Oi(ce)?{isValid:ce}:{},errors:n.errors,name:X};n={...n,...He},p.state.next(He)}},L=async X=>{v(X,!0);const ce=await e.resolver(i,e.context,Fae(X||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return v(X),ce},F=async X=>{const{errors:ce}=await L(X);if(X)for(const be of X){const De=st(ce,be);De?Nn(n.errors,be,De):Mr(n.errors,be)}else n.errors=ce;return ce},k=async(X,ce,be={valid:!0})=>{for(const De in X){const Te=X[De];if(Te){const{_f:Ce,...He}=Te;if(Ce){const Je=a.array.has(Ce.name),yt=Te._f&&Vae(Te._f);yt&&d.validatingFields&&v([De],!0);const Ye=await EI(Te,a.disabled,i,w,e.shouldUseNativeValidation&&!ce,Je);if(yt&&d.validatingFields&&v([De]),Ye[Ce.name]&&(be.valid=!1,ce))break;!ce&&(st(Ye,Ce.name)?Je?Wae(n.errors,Ye,Ce.name):Nn(n.errors,Ce.name,Ye[Ce.name]):Mr(n.errors,Ce.name))}!Ws(He)&&await k(He,ce,be)}}return be.valid},T=()=>{for(const X of a.unMount){const ce=st(r,X);ce&&(ce._f.refs?ce._f.refs.every(be=>!Mb(be)):!Mb(ce._f.ref))&&xe(X)}a.unMount=new Set},O=(X,ce)=>!e.disabled&&(X&&ce&&Nn(i,X,ce),!nu(B(),s)),G=(X,ce,be)=>gF(X,a,{...o.mount?i:wr(ce)?s:Fa(X)?{[X]:ce}:ce},be,ce),ue=X=>Xw(st(o.mount?i:s,X,e.shouldUnregister?st(s,X,[]):[])),ie=(X,ce,be={})=>{const De=st(r,X);let Te=ce;if(De){const Ce=De._f;Ce&&(!Ce.disabled&&Nn(i,X,_F(ce,Ce)),Te=f2(Ce.ref)&&Gs(ce)?"":ce,yF(Ce.ref)?[...Ce.ref.options].forEach(He=>He.selected=Te.includes(He.value)):Ce.refs?ay(Ce.ref)?Ce.refs.length>1?Ce.refs.forEach(He=>(!He.defaultChecked||!He.disabled)&&(He.checked=Array.isArray(Te)?!!Te.find(Je=>Je===He.value):Te===He.value)):Ce.refs[0]&&(Ce.refs[0].checked=!!Te):Ce.refs.forEach(He=>He.checked=He.value===Te):a4(Ce.ref)?Ce.ref.value="":(Ce.ref.value=Te,Ce.ref.type||p.state.next({name:X,values:ss(i)})))}(be.shouldDirty||be.shouldTouch)&&I(X,Te,be.shouldTouch,be.shouldDirty,!0),be.shouldValidate&&Ee(X)},fe=(X,ce,be)=>{for(const De in ce){const Te=ce[De],Ce=`${X}.${De}`,He=st(r,Ce);(a.array.has(X)||Er(Te)||He&&!He._f)&&!Vd(Te)?fe(Ce,Te,be):ie(Ce,Te,be)}},Y=(X,ce,be={})=>{const De=st(r,X),Te=a.array.has(X),Ce=ss(ce);Nn(i,X,Ce),Te?(p.array.next({name:X,values:ss(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&be.shouldDirty&&p.state.next({name:X,dirtyFields:Gm(s,i),isDirty:O(X,Ce)})):De&&!De._f&&!Gs(Ce)?fe(X,Ce,be):ie(X,Ce,be),_I(X,a)&&p.state.next({...n}),p.state.next({name:o.mount?X:void 0,values:ss(i)})},te=async X=>{o.mount=!0;const ce=X.target;let be=ce.name,De=!0;const Te=st(r,be),Ce=He=>{De=Number.isNaN(He)||Vd(He)&&isNaN(He.getTime())||nu(He,st(i,be,He))};if(Te){let He,Je;const yt=ce.type?wI(Te._f):dF(X),Ye=X.type===h2.BLUR||X.type===h2.FOCUS_OUT,Xn=!Uae(Te._f)&&!e.resolver&&!st(n.errors,be)&&!Te._f.deps||qae(Ye,st(n.touchedFields,be),n.isSubmitted,b,g),Zt=_I(be,a,Ye);Nn(i,be,yt),Ye?(Te._f.onBlur&&Te._f.onBlur(X),c&&c(0)):Te._f.onChange&&Te._f.onChange(X);const qr=I(be,yt,Ye),gn=!Ws(qr)||Zt;if(!Ye&&p.state.next({name:be,type:X.type,values:ss(i)}),Xn)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?Ye&&x():Ye||x()),gn&&p.state.next({name:be,...Zt?{}:qr});if(!Ye&&Zt&&p.state.next({...n}),e.resolver){const{errors:Cn}=await L([be]);if(Ce(yt),De){const si=SI(n.errors,r,be),nn=SI(Cn,r,si.name||be);He=nn.error,be=nn.name,Je=Ws(Cn)}}else v([be],!0),He=(await EI(Te,a.disabled,i,w,e.shouldUseNativeValidation))[be],v([be]),Ce(yt),De&&(He?Je=!1:(d.isValid||h.isValid)&&(Je=await k(r,!0)));De&&(Te._f.deps&&Ee(Te._f.deps),P(be,Je,He,qr))}},re=(X,ce)=>{if(st(n.errors,ce)&&X.focus)return X.focus(),1},Ee=async(X,ce={})=>{let be,De;const Te=Pg(X);if(e.resolver){const Ce=await F(wr(X)?X:Te);be=Ws(Ce),De=X?!Te.some(He=>st(Ce,He)):be}else X?(De=(await Promise.all(Te.map(async Ce=>{const He=st(r,Ce);return await k(He&&He._f?{[Ce]:He}:He)}))).every(Boolean),!(!De&&!n.isValid)&&x()):De=be=await k(r);return p.state.next({...!Fa(X)||(d.isValid||h.isValid)&&be!==n.isValid?{}:{name:X},...e.resolver||!X?{isValid:be}:{},errors:n.errors}),ce.shouldFocus&&!De&&Tg(r,re,X?Te:a.mount),De},B=X=>{const ce={...o.mount?i:s};return wr(X)?ce:Fa(X)?st(ce,X):X.map(be=>st(ce,be))},Q=(X,ce)=>({invalid:!!st((ce||n).errors,X),isDirty:!!st((ce||n).dirtyFields,X),error:st((ce||n).errors,X),isValidating:!!st(n.validatingFields,X),isTouched:!!st((ce||n).touchedFields,X)}),J=X=>{X&&Pg(X).forEach(ce=>Mr(n.errors,ce)),p.state.next({errors:X?n.errors:{}})},se=(X,ce,be)=>{const De=(st(r,X,{_f:{}})._f||{}).ref,Te=st(n.errors,X)||{},{ref:Ce,message:He,type:Je,...yt}=Te;Nn(n.errors,X,{...yt,...ce,ref:De}),p.state.next({name:X,errors:n.errors,isValid:!1}),be&&be.shouldFocus&&De&&De.focus&&De.focus()},le=(X,ce)=>$o(X)?p.state.subscribe({next:be=>X(G(void 0,ce),be)}):G(X,ce,!0),oe=X=>p.state.subscribe({next:ce=>{zae(X.name,ce.name,X.exact)&&Bae(ce,X.formState||d,qe,X.reRenderRoot)&&X.callback({values:{...i},...n,...ce})}}).unsubscribe,we=X=>(o.mount=!0,h={...h,...X.formState},oe({...X,formState:h})),xe=(X,ce={})=>{for(const be of X?Pg(X):a.mount)a.mount.delete(be),a.array.delete(be),ce.keepValue||(Mr(r,be),Mr(i,be)),!ce.keepError&&Mr(n.errors,be),!ce.keepDirty&&Mr(n.dirtyFields,be),!ce.keepTouched&&Mr(n.touchedFields,be),!ce.keepIsValidating&&Mr(n.validatingFields,be),!e.shouldUnregister&&!ce.keepDefaultValue&&Mr(s,be);p.state.next({values:ss(i)}),p.state.next({...n,...ce.keepDirty?{isDirty:O()}:{}}),!ce.keepIsValid&&x()},je=({disabled:X,name:ce})=>{(Oi(X)&&o.mount||X||a.disabled.has(ce))&&(X?a.disabled.add(ce):a.disabled.delete(ce))},ke=(X,ce={})=>{let be=st(r,X);const De=Oi(ce.disabled)||Oi(e.disabled);return Nn(r,X,{...be||{},_f:{...be&&be._f?be._f:{ref:{name:X}},name:X,mount:!0,...ce}}),a.mount.add(X),be?je({disabled:Oi(ce.disabled)?ce.disabled:e.disabled,name:X}):$(X,!0,ce.value),{...De?{disabled:ce.disabled||e.disabled}:{},...e.progressive?{required:!!ce.required,min:Km(ce.min),max:Km(ce.max),minLength:Km(ce.minLength),maxLength:Km(ce.maxLength),pattern:Km(ce.pattern)}:{},name:X,onChange:te,onBlur:te,ref:Te=>{if(Te){ke(X,ce),be=st(r,X);const Ce=wr(Te.value)&&Te.querySelectorAll&&Te.querySelectorAll("input,select,textarea")[0]||Te,He=Oae(Ce),Je=be._f.refs||[];if(He?Je.find(yt=>yt===Ce):Ce===be._f.ref)return;Nn(r,X,{_f:{...be._f,...He?{refs:[...Je.filter(Mb),Ce,...Array.isArray(st(s,X))?[{}]:[]],ref:{type:Ce.type,name:X}}:{ref:Ce}}}),$(X,!1,void 0,Ce)}else be=st(r,X,{}),be._f&&(be._f.mount=!1),(e.shouldUnregister||ce.shouldUnregister)&&!(hF(a.array,X)&&o.action)&&a.unMount.add(X)}}},Ue=()=>e.shouldFocusError&&Tg(r,re,a.mount),We=X=>{Oi(X)&&(p.state.next({disabled:X}),Tg(r,(ce,be)=>{const De=st(r,be);De&&(ce.disabled=De._f.disabled||X,Array.isArray(De._f.refs)&&De._f.refs.forEach(Te=>{Te.disabled=De._f.disabled||X}))},0,!1))},ut=(X,ce)=>async be=>{let De;be&&(be.preventDefault&&be.preventDefault(),be.persist&&be.persist());let Te=ss(i);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:Ce,values:He}=await L();n.errors=Ce,Te=He}else await k(r);if(a.disabled.size)for(const Ce of a.disabled)Nn(Te,Ce,void 0);if(Mr(n.errors,"root"),Ws(n.errors)){p.state.next({errors:{}});try{await X(Te,be)}catch(Ce){De=Ce}}else ce&&await ce({...n.errors},be),Ue(),setTimeout(Ue);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ws(n.errors)&&!De,submitCount:n.submitCount+1,errors:n.errors}),De)throw De},Ae=(X,ce={})=>{st(r,X)&&(wr(ce.defaultValue)?Y(X,ss(st(s,X))):(Y(X,ce.defaultValue),Nn(s,X,ss(ce.defaultValue))),ce.keepTouched||Mr(n.touchedFields,X),ce.keepDirty||(Mr(n.dirtyFields,X),n.isDirty=ce.defaultValue?O(X,ss(st(s,X))):O()),ce.keepError||(Mr(n.errors,X),d.isValid&&x()),p.state.next({...n}))},ne=(X,ce={})=>{const be=X?ss(X):s,De=ss(be),Te=Ws(X),Ce=Te?s:De;if(ce.keepDefaultValues||(s=be),!ce.keepValues){if(ce.keepDirtyValues){const He=new Set([...a.mount,...Object.keys(Gm(s,i))]);for(const Je of Array.from(He))st(n.dirtyFields,Je)?Nn(Ce,Je,st(i,Je)):Y(Je,st(Ce,Je))}else{if(i4&&wr(X))for(const He of a.mount){const Je=st(r,He);if(Je&&Je._f){const yt=Array.isArray(Je._f.refs)?Je._f.refs[0]:Je._f.ref;if(f2(yt)){const Ye=yt.closest("form");if(Ye){Ye.reset();break}}}}for(const He of a.mount)Y(He,st(Ce,He))}i=ss(Ce),p.array.next({values:{...Ce}}),p.state.next({values:{...Ce}})}a={mount:ce.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!ce.keepIsValid||!!ce.keepDirtyValues,o.watch=!!e.shouldUnregister,p.state.next({submitCount:ce.keepSubmitCount?n.submitCount:0,isDirty:Te?!1:ce.keepDirty?n.isDirty:!!(ce.keepDefaultValues&&!nu(X,s)),isSubmitted:ce.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Te?{}:ce.keepDirtyValues?ce.keepDefaultValues&&i?Gm(s,i):n.dirtyFields:ce.keepDefaultValues&&X?Gm(s,X):ce.keepDirty?n.dirtyFields:{},touchedFields:ce.keepTouched?n.touchedFields:{},errors:ce.keepErrors?n.errors:{},isSubmitSuccessful:ce.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},_t=(X,ce)=>ne($o(X)?X(i):X,ce),dt=(X,ce={})=>{const be=st(r,X),De=be&&be._f;if(De){const Te=De.refs?De.refs[0]:De.ref;Te.focus&&(Te.focus(),ce.shouldSelect&&$o(Te.select)&&Te.select())}},qe=X=>{n={...n,...X}},tt={control:{register:ke,unregister:xe,getFieldState:Q,handleSubmit:ut,setError:se,_subscribe:oe,_runSchema:L,_getWatch:G,_getDirty:O,_setValid:x,_setFieldArray:N,_setDisabledField:je,_setErrors:M,_getFieldArray:ue,_reset:ne,_resetDefaultValues:()=>$o(e.defaultValues)&&e.defaultValues().then(X=>{_t(X,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:We,_subjects:p,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(X){o=X},get _defaultValues(){return s},get _names(){return a},set _names(X){a=X},get _formState(){return n},get _options(){return e},set _options(X){e={...e,...X}}},subscribe:we,trigger:Ee,register:ke,handleSubmit:ut,watch:le,setValue:Y,getValues:B,reset:_t,resetField:Ae,clearErrors:J,unregister:xe,setError:se,setFocus:dt,getFieldState:Q};return{...tt,formControl:tt}}function Iu(t={}){const e=wt.useRef(void 0),n=wt.useRef(void 0),[r,s]=wt.useState({isDirty:!1,isValidating:!1,isLoading:$o(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:$o(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:Gae(t),formState:r},t.formControl&&t.defaultValues&&!$o(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,wt.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),wt.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),wt.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),wt.useEffect(()=>{t.values&&!nu(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),wt.useEffect(()=>{t.errors&&!Ws(t.errors)&&i._setErrors(t.errors)},[t.errors,i]),wt.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),wt.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=mF(r,i),e.current}const AI=(t,e,n)=>{if(t&&"reportValidity"in t){const r=st(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},NF=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?AI(r.ref,n,t):r.refs&&r.refs.forEach(s=>AI(s,n,t))}},Kae=(t,e)=>{e.shouldUseNativeValidation&&NF(t,e);const n={};for(const r in t){const s=st(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(Yae(e.names||Object.keys(t),r)){const o=Object.assign({},st(n,r));Nn(o,"root",i),Nn(n,r,o)}else Nn(n,r,i)}return n},Yae=(t,e)=>t.some(n=>n.startsWith(e+"."));var Qae=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var c=n[o].types,u=c&&c[r.code];n[o]=vF(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n},ku=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return i.shouldUseNativeValidation&&NF({},i),{errors:{},values:n.raw?r:u}})}catch(u){return a(u)}return c&&c.then?c.then(void 0,a):c}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:Kae(Qae(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const ju=Iae,EF=E.createContext({}),zt=({...t})=>l.jsx(EF.Provider,{value:{name:t.name},children:l.jsx(Lae,{...t})}),Jw=()=>{const t=E.useContext(EF),e=E.useContext(AF),{getFieldState:n,formState:r}=Zw(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},AF=E.createContext({}),Dt=E.forwardRef(({className:t,...e},n)=>{const r=E.useId();return l.jsx(AF.Provider,{value:{id:r},children:l.jsx("div",{ref:n,className:Xe("space-y-2",t),...e})})});Dt.displayName="FormItem";const jt=E.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=Jw();return l.jsx(Ks,{ref:n,className:Xe(r&&"text-destructive",t),htmlFor:s,...e})});jt.displayName="FormLabel";const Mt=E.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Jw();return l.jsx(Xl,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});Mt.displayName="FormControl";const Fr=E.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Jw();return l.jsx("p",{ref:n,id:r,className:Xe("text-sm text-muted-foreground",t),...e})});Fr.displayName="FormDescription";const xn=E.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=Jw(),o=s?String(s==null?void 0:s.message):e;return o?l.jsx("p",{ref:r,id:i,className:Xe("text-sm font-medium text-destructive",t),...n,children:o}):null});xn.displayName="FormMessage";var c4="Checkbox",[Xae,Tue]=Ls(c4),[Zae,Jae]=Xae(c4),CF=E.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c="on",onCheckedChange:u,form:d,...h}=t,[p,g]=E.useState(null),b=$t(e,R=>g(R)),w=E.useRef(!1),_=p?d||!!p.closest("form"):!0,[x=!1,v]=Hi({prop:s,defaultProp:i,onChange:u}),N=E.useRef(x);return E.useEffect(()=>{const R=p==null?void 0:p.form;if(R){const M=()=>v(N.current);return R.addEventListener("reset",M),()=>R.removeEventListener("reset",M)}},[p,v]),l.jsxs(Zae,{scope:n,state:x,disabled:a,children:[l.jsx(mt.button,{type:"button",role:"checkbox","aria-checked":Ru(x)?"mixed":x,"aria-required":o,"data-state":IF(x),"data-disabled":a?"":void 0,disabled:a,value:c,...h,ref:b,onKeyDown:Qe(t.onKeyDown,R=>{R.key==="Enter"&&R.preventDefault()}),onClick:Qe(t.onClick,R=>{v(M=>Ru(M)?!0:!M),_&&(w.current=R.isPropagationStopped(),w.current||R.stopPropagation())})}),_&&l.jsx(ele,{control:p,bubbles:!w.current,name:r,value:c,checked:x,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Ru(i)?!1:i})]})});CF.displayName=c4;var PF="CheckboxIndicator",TF=E.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=Jae(PF,n);return l.jsx(Os,{present:r||Ru(i.state)||i.state===!0,children:l.jsx(mt.span,{"data-state":IF(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});TF.displayName=PF;var ele=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,o=E.useRef(null),a=Uw(n),c=Z2(e);E.useEffect(()=>{const d=o.current,h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(a!==n&&g){const b=new Event("click",{bubbles:r});d.indeterminate=Ru(n),g.call(d,Ru(n)?!1:n),d.dispatchEvent(b)}},[a,n,r]);const u=E.useRef(Ru(n)?!1:n);return l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ru(t){return t==="indeterminate"}function IF(t){return Ru(t)?"indeterminate":t?"checked":"unchecked"}var kF=CF,tle=TF;const mv=E.forwardRef(({className:t,...e},n)=>l.jsx(kF,{ref:n,className:Xe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:l.jsx(tle,{className:Xe("flex items-center justify-center text-current"),children:l.jsx(Kf,{className:"h-4 w-4"})})}));mv.displayName=kF.displayName;function nle(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var u4="ScrollArea",[jF,Iue]=Ls(u4),[rle,wo]=jF(u4),RF=E.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,c]=E.useState(null),[u,d]=E.useState(null),[h,p]=E.useState(null),[g,b]=E.useState(null),[w,_]=E.useState(null),[x,v]=E.useState(0),[N,R]=E.useState(0),[M,$]=E.useState(!1),[I,P]=E.useState(!1),L=$t(e,k=>c(k)),F=Ch(s);return l.jsx(rle,{scope:n,type:r,dir:F,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:d,content:h,onContentChange:p,scrollbarX:g,onScrollbarXChange:b,scrollbarXEnabled:M,onScrollbarXEnabledChange:$,scrollbarY:w,onScrollbarYChange:_,scrollbarYEnabled:I,onScrollbarYEnabledChange:P,onCornerWidthChange:v,onCornerHeightChange:R,children:l.jsx(mt.div,{dir:F,...o,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":N+"px",...t.style}})})});RF.displayName=u4;var LF="ScrollAreaViewport",OF=E.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,o=wo(LF,n),a=E.useRef(null),c=$t(e,a,o.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(mt.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:l.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});OF.displayName=LF;var il="ScrollAreaScrollbar",d4=E.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=wo(il,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return E.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?l.jsx(sle,{...r,ref:e,forceMount:n}):s.type==="scroll"?l.jsx(ile,{...r,ref:e,forceMount:n}):s.type==="auto"?l.jsx(DF,{...r,ref:e,forceMount:n}):s.type==="always"?l.jsx(h4,{...r,ref:e}):null});d4.displayName=il;var sle=E.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=wo(il,t.__scopeScrollArea),[i,o]=E.useState(!1);return E.useEffect(()=>{const a=s.scrollArea;let c=0;if(a){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(Os,{present:n||i,children:l.jsx(DF,{"data-state":i?"visible":"hidden",...r,ref:e})})}),ile=E.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=wo(il,t.__scopeScrollArea),i=t.orientation==="horizontal",o=tx(()=>c("SCROLL_END"),100),[a,c]=nle("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,c]),E.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const p=()=>{const g=u[d];h!==g&&(c("SCROLL"),o()),h=g};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,i,c,o]),l.jsx(Os,{present:n||a!=="hidden",children:l.jsx(h4,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Qe(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Qe(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),DF=E.forwardRef((t,e)=>{const n=wo(il,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=E.useState(!1),a=t.orientation==="horizontal",c=tx(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:d)}},10);return Wp(n.viewport,c),Wp(n.content,c),l.jsx(Os,{present:r||i,children:l.jsx(h4,{"data-state":i?"visible":"hidden",...s,ref:e})})}),h4=E.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=wo(il,t.__scopeScrollArea),i=E.useRef(null),o=E.useRef(0),[a,c]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=BF(a.viewport,a.content),d={...r,sizes:a,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function h(p,g){return dle(p,o.current,a,g)}return n==="horizontal"?l.jsx(ole,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,g=CI(p,a,s.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):n==="vertical"?l.jsx(ale,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,g=CI(p,a);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),ole=E.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=wo(il,t.__scopeScrollArea),[o,a]=E.useState(),c=E.useRef(null),u=$t(e,c,i.onScrollbarXChange);return E.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(FF,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ex(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(p),qF(p,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:v2(o.paddingLeft),paddingEnd:v2(o.paddingRight)}})}})}),ale=E.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=wo(il,t.__scopeScrollArea),[o,a]=E.useState(),c=E.useRef(null),u=$t(e,c,i.onScrollbarYChange);return E.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(FF,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ex(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(p),qF(p,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:v2(o.paddingTop),paddingEnd:v2(o.paddingBottom)}})}})}),[lle,MF]=jF(il),FF=E.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...p}=t,g=wo(il,n),[b,w]=E.useState(null),_=$t(e,L=>w(L)),x=E.useRef(null),v=E.useRef(""),N=g.viewport,R=r.content-r.viewport,M=Jn(d),$=Jn(c),I=tx(h,10);function P(L){if(x.current){const F=L.clientX-x.current.left,k=L.clientY-x.current.top;u({x:F,y:k})}}return E.useEffect(()=>{const L=F=>{const k=F.target;(b==null?void 0:b.contains(k))&&M(F,R)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[N,b,R,M]),E.useEffect($,[r,$]),Wp(b,I),Wp(g.content,I),l.jsx(lle,{scope:n,scrollbar:b,hasThumb:s,onThumbChange:Jn(i),onThumbPointerUp:Jn(o),onThumbPositionChange:$,onThumbPointerDown:Jn(a),children:l.jsx(mt.div,{...p,ref:_,style:{position:"absolute",...p.style},onPointerDown:Qe(t.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),x.current=b.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),P(L))}),onPointerMove:Qe(t.onPointerMove,P),onPointerUp:Qe(t.onPointerUp,L=>{const F=L.target;F.hasPointerCapture(L.pointerId)&&F.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=v.current,g.viewport&&(g.viewport.style.scrollBehavior=""),x.current=null})})})}),g2="ScrollAreaThumb",VF=E.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=MF(g2,t.__scopeScrollArea);return l.jsx(Os,{present:n||s.hasThumb,children:l.jsx(cle,{ref:e,...r})})}),cle=E.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=wo(g2,n),o=MF(g2,n),{onThumbPositionChange:a}=o,c=$t(e,h=>o.onThumbChange(h)),u=E.useRef(void 0),d=tx(()=>{u.current&&(u.current(),u.current=void 0)},100);return E.useEffect(()=>{const h=i.viewport;if(h){const p=()=>{if(d(),!u.current){const g=hle(h,a);u.current=g,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,d,a]),l.jsx(mt.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Qe(t.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),b=h.clientX-g.left,w=h.clientY-g.top;o.onThumbPointerDown({x:b,y:w})}),onPointerUp:Qe(t.onPointerUp,o.onThumbPointerUp)})});VF.displayName=g2;var f4="ScrollAreaCorner",UF=E.forwardRef((t,e)=>{const n=wo(f4,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(ule,{...t,ref:e}):null});UF.displayName=f4;var ule=E.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=wo(f4,n),[i,o]=E.useState(0),[a,c]=E.useState(0),u=!!(i&&a);return Wp(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Wp(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?l.jsx(mt.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function v2(t){return t?parseInt(t,10):0}function BF(t,e){const n=t/e;return isNaN(n)?0:n}function ex(t){const e=BF(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function dle(t,e,n,r="ltr"){const s=ex(n),i=s/2,o=e||i,a=s-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return zF([c,u],h)(t)}function CI(t,e,n="ltr"){const r=ex(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,c=n==="ltr"?[0,o]:[o*-1,0],u=uv(t,c);return zF([0,o],[0,a])(u)}function zF(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function qF(t,e){return t>0&&t<e}var hle=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function tx(t,e){const n=Jn(t),r=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),E.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Wp(t,e){const n=Jn(e);Lr(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var $F=RF,fle=OF,ple=UF;const p4=E.forwardRef(({className:t,children:e,...n},r)=>l.jsxs($F,{ref:r,className:Xe("relative overflow-hidden",t),...n,children:[l.jsx(fle,{className:"h-full w-full rounded-[inherit]",children:e}),l.jsx(WF,{}),l.jsx(ple,{})]}));p4.displayName=$F.displayName;const WF=E.forwardRef(({className:t,orientation:e="vertical",...n},r)=>l.jsx(d4,{ref:r,orientation:e,className:Xe("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:l.jsx(VF,{className:"relative flex-1 rounded-full bg-border"})}));WF.displayName=d4.displayName;var mn;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(mn||(mn={}));var eS;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(eS||(eS={}));const lt=mn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),kl=t=>{switch(typeof t){case"undefined":return lt.undefined;case"string":return lt.string;case"number":return isNaN(t)?lt.nan:lt.number;case"boolean":return lt.boolean;case"function":return lt.function;case"bigint":return lt.bigint;case"symbol":return lt.symbol;case"object":return Array.isArray(t)?lt.array:t===null?lt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?lt.promise:typeof Map<"u"&&t instanceof Map?lt.map:typeof Set<"u"&&t instanceof Set?lt.set:typeof Date<"u"&&t instanceof Date?lt.date:lt.object;default:return lt.unknown}},Ge=mn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),mle=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class $i extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return s(this),r}static assert(e){if(!(e instanceof $i))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,mn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}$i.create=t=>new $i(t);const Hp=(t,e)=>{let n;switch(t.code){case Ge.invalid_type:t.received===lt.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ge.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,mn.jsonStringifyReplacer)}`;break;case Ge.unrecognized_keys:n=`Unrecognized key(s) in object: ${mn.joinValues(t.keys,", ")}`;break;case Ge.invalid_union:n="Invalid input";break;case Ge.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${mn.joinValues(t.options)}`;break;case Ge.invalid_enum_value:n=`Invalid enum value. Expected ${mn.joinValues(t.options)}, received '${t.received}'`;break;case Ge.invalid_arguments:n="Invalid function arguments";break;case Ge.invalid_return_type:n="Invalid function return type";break;case Ge.invalid_date:n="Invalid date";break;case Ge.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:mn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ge.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ge.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ge.custom:n="Invalid input";break;case Ge.invalid_intersection_types:n="Intersection results could not be merged";break;case Ge.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ge.not_finite:n="Number must be finite";break;default:n=e.defaultError,mn.assertNever(t)}return{message:n}};let HF=Hp;function gle(t){HF=t}function y2(){return HF}const w2=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)a=u(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},vle=[];function ot(t,e){const n=y2(),r=w2({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Hp?void 0:Hp].filter(s=>!!s)});t.common.issues.push(r)}class Rs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Rt;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return Rs.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Rt;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Rt=Object.freeze({status:"aborted"}),Uf=t=>({status:"dirty",value:t}),ei=t=>({status:"valid",value:t}),tS=t=>t.status==="aborted",nS=t=>t.status==="dirty",bh=t=>t.status==="valid",gv=t=>typeof Promise<"u"&&t instanceof Promise;function x2(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function GF(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var xt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(xt||(xt={}));var lg,cg;class Ja{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const PI=(t,e)=>{if(bh(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new $i(t.common.issues);return this._error=n,this._error}}};function Kt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var c,u;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(c=d??r)!==null&&c!==void 0?c:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:a.defaultError}},description:s}}class Xt{get description(){return this._def.description}_getType(e){return kl(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:kl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Rs,ctx:{common:e.parent.common,data:e.data,parsedType:kl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(gv(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:kl(e)},i=this._parseSync({data:e,path:s.path,parent:s});return PI(s,i)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:kl(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return bh(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>bh(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:kl(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(gv(s)?s:Promise.resolve(s));return PI(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:Ge.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new aa({schema:this,typeName:Tt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ya.create(this,this._def)}nullable(){return Zu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return na.create(this)}promise(){return Kp.create(this,this._def)}or(e){return xv.create([this,e],this._def)}and(e){return bv.create(this,e,this._def)}transform(e){return new aa({...Kt(this._def),schema:this,typeName:Tt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Av({...Kt(this._def),innerType:this,defaultValue:n,typeName:Tt.ZodDefault})}brand(){return new m4({typeName:Tt.ZodBranded,type:this,...Kt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Cv({...Kt(this._def),innerType:this,catchValue:n,typeName:Tt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return ly.create(this,e)}readonly(){return Pv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const yle=/^c[^\s-]{8,}$/i,wle=/^[0-9a-z]+$/,xle=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ble=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_le=/^[a-z0-9_-]{21}$/i,Sle=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Nle=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ele=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ale="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Fb;const Cle=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ple=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Tle=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ile=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,kle=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,jle=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,KF="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Rle=new RegExp(`^${KF}$`);function YF(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Lle(t){return new RegExp(`^${YF(t)}$`)}function QF(t){let e=`${KF}T${YF(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Ole(t,e){return!!((e==="v4"||!e)&&Cle.test(t)||(e==="v6"||!e)&&Tle.test(t))}function Dle(t,e){if(!Sle.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function Mle(t,e){return!!((e==="v4"||!e)&&Ple.test(t)||(e==="v6"||!e)&&Ile.test(t))}class Qo extends Xt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==lt.string){const i=this._getOrReturnCtx(e);return ot(i,{code:Ge.invalid_type,expected:lt.string,received:i.parsedType}),Rt}const r=new Rs;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),ot(s,{code:Ge.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),ot(s,{code:Ge.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?ot(s,{code:Ge.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&ot(s,{code:Ge.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Ele.test(e.data)||(s=this._getOrReturnCtx(e,s),ot(s,{validation:"email",code:Ge.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Fb||(Fb=new RegExp(Ale,"u")),Fb.test(e.data)||(s=this._getOrReturnCtx(e,s),ot(s,{validation:"emoji",code:Ge.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")ble.test(e.data)||(s=this._getOrReturnCtx(e,s),ot(s,{validation:"uuid",code:Ge.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")_le.test(e.data)||(s=this._getOrReturnCtx(e,s),ot(s,{validation:"nanoid",code:Ge.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")yle.test(e.data)||(s=this._getOrReturnCtx(e,s),ot(s,{validation:"cuid",code:Ge.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")wle.test(e.data)||(s=this._getOrReturnCtx(e,s),ot(s,{validation:"cuid2",code:Ge.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")xle.test(e.data)||(s=this._getOrReturnCtx(e,s),ot(s,{validation:"ulid",code:Ge.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ot(s,{validation:"url",code:Ge.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ot(s,{validation:"regex",code:Ge.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),ot(s,{code:Ge.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),ot(s,{code:Ge.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),ot(s,{code:Ge.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?QF(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ot(s,{code:Ge.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?Rle.test(e.data)||(s=this._getOrReturnCtx(e,s),ot(s,{code:Ge.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?Lle(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ot(s,{code:Ge.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?Nle.test(e.data)||(s=this._getOrReturnCtx(e,s),ot(s,{validation:"duration",code:Ge.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Ole(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ot(s,{validation:"ip",code:Ge.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?Dle(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),ot(s,{validation:"jwt",code:Ge.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Mle(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ot(s,{validation:"cidr",code:Ge.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?kle.test(e.data)||(s=this._getOrReturnCtx(e,s),ot(s,{validation:"base64",code:Ge.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?jle.test(e.data)||(s=this._getOrReturnCtx(e,s),ot(s,{validation:"base64url",code:Ge.invalid_string,message:i.message}),r.dirty()):mn.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:Ge.invalid_string,...xt.errToObj(r)})}_addCheck(e){return new Qo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...xt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...xt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...xt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...xt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...xt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...xt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...xt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...xt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...xt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...xt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...xt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...xt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...xt.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...xt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...xt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...xt.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...xt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...xt.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...xt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...xt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...xt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...xt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...xt.errToObj(n)})}nonempty(e){return this.min(1,xt.errToObj(e))}trim(){return new Qo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Qo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Qo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Qo.create=t=>{var e;return new Qo({checks:[],typeName:Tt.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Kt(t)})};function Fle(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Yu extends Xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==lt.number){const i=this._getOrReturnCtx(e);return ot(i,{code:Ge.invalid_type,expected:lt.number,received:i.parsedType}),Rt}let r;const s=new Rs;for(const i of this._def.checks)i.kind==="int"?mn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ot(r,{code:Ge.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ot(r,{code:Ge.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ot(r,{code:Ge.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Fle(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),ot(r,{code:Ge.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ot(r,{code:Ge.not_finite,message:i.message}),s.dirty()):mn.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,xt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,xt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,xt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,xt.toString(n))}setLimit(e,n,r,s){return new Yu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:xt.toString(s)}]})}_addCheck(e){return new Yu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:xt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:xt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:xt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&mn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Yu.create=t=>new Yu({checks:[],typeName:Tt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Kt(t)});class Qu extends Xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==lt.bigint)return this._getInvalidInput(e);let r;const s=new Rs;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ot(r,{code:Ge.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ot(r,{code:Ge.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ot(r,{code:Ge.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):mn.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ot(n,{code:Ge.invalid_type,expected:lt.bigint,received:n.parsedType}),Rt}gte(e,n){return this.setLimit("min",e,!0,xt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,xt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,xt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,xt.toString(n))}setLimit(e,n,r,s){return new Qu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:xt.toString(s)}]})}_addCheck(e){return new Qu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:xt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Qu.create=t=>{var e;return new Qu({checks:[],typeName:Tt.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Kt(t)})};class vv extends Xt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==lt.boolean){const r=this._getOrReturnCtx(e);return ot(r,{code:Ge.invalid_type,expected:lt.boolean,received:r.parsedType}),Rt}return ei(e.data)}}vv.create=t=>new vv({typeName:Tt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Kt(t)});class _h extends Xt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==lt.date){const i=this._getOrReturnCtx(e);return ot(i,{code:Ge.invalid_type,expected:lt.date,received:i.parsedType}),Rt}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ot(i,{code:Ge.invalid_date}),Rt}const r=new Rs;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),ot(s,{code:Ge.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),ot(s,{code:Ge.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):mn.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new _h({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:xt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:xt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}_h.create=t=>new _h({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Tt.ZodDate,...Kt(t)});class b2 extends Xt{_parse(e){if(this._getType(e)!==lt.symbol){const r=this._getOrReturnCtx(e);return ot(r,{code:Ge.invalid_type,expected:lt.symbol,received:r.parsedType}),Rt}return ei(e.data)}}b2.create=t=>new b2({typeName:Tt.ZodSymbol,...Kt(t)});class yv extends Xt{_parse(e){if(this._getType(e)!==lt.undefined){const r=this._getOrReturnCtx(e);return ot(r,{code:Ge.invalid_type,expected:lt.undefined,received:r.parsedType}),Rt}return ei(e.data)}}yv.create=t=>new yv({typeName:Tt.ZodUndefined,...Kt(t)});class wv extends Xt{_parse(e){if(this._getType(e)!==lt.null){const r=this._getOrReturnCtx(e);return ot(r,{code:Ge.invalid_type,expected:lt.null,received:r.parsedType}),Rt}return ei(e.data)}}wv.create=t=>new wv({typeName:Tt.ZodNull,...Kt(t)});class Gp extends Xt{constructor(){super(...arguments),this._any=!0}_parse(e){return ei(e.data)}}Gp.create=t=>new Gp({typeName:Tt.ZodAny,...Kt(t)});class eh extends Xt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ei(e.data)}}eh.create=t=>new eh({typeName:Tt.ZodUnknown,...Kt(t)});class ic extends Xt{_parse(e){const n=this._getOrReturnCtx(e);return ot(n,{code:Ge.invalid_type,expected:lt.never,received:n.parsedType}),Rt}}ic.create=t=>new ic({typeName:Tt.ZodNever,...Kt(t)});class _2 extends Xt{_parse(e){if(this._getType(e)!==lt.undefined){const r=this._getOrReturnCtx(e);return ot(r,{code:Ge.invalid_type,expected:lt.void,received:r.parsedType}),Rt}return ei(e.data)}}_2.create=t=>new _2({typeName:Tt.ZodVoid,...Kt(t)});class na extends Xt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==lt.array)return ot(n,{code:Ge.invalid_type,expected:lt.array,received:n.parsedType}),Rt;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(ot(n,{code:o?Ge.too_big:Ge.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ot(n,{code:Ge.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ot(n,{code:Ge.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new Ja(n,o,n.path,a)))).then(o=>Rs.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new Ja(n,o,n.path,a)));return Rs.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new na({...this._def,minLength:{value:e,message:xt.toString(n)}})}max(e,n){return new na({...this._def,maxLength:{value:e,message:xt.toString(n)}})}length(e,n){return new na({...this._def,exactLength:{value:e,message:xt.toString(n)}})}nonempty(e){return this.min(1,e)}}na.create=(t,e)=>new na({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Tt.ZodArray,...Kt(e)});function Nf(t){if(t instanceof er){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ya.create(Nf(r))}return new er({...t._def,shape:()=>e})}else return t instanceof na?new na({...t._def,type:Nf(t.element)}):t instanceof Ya?Ya.create(Nf(t.unwrap())):t instanceof Zu?Zu.create(Nf(t.unwrap())):t instanceof el?el.create(t.items.map(e=>Nf(e))):t}class er extends Xt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=mn.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==lt.object){const u=this._getOrReturnCtx(e);return ot(u,{code:Ge.invalid_type,expected:lt.object,received:u.parsedType}),Rt}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ic&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const c=[];for(const u of o){const d=i[u],h=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ja(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ic){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")a.length>0&&(ot(s,{code:Ge.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const h=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ja(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,p=await d.value;u.push({key:h,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>Rs.mergeObjectSync(r,u)):Rs.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return xt.errToObj,new er({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=xt.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new er({...this._def,unknownKeys:"strip"})}passthrough(){return new er({...this._def,unknownKeys:"passthrough"})}extend(e){return new er({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new er({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Tt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new er({...this._def,catchall:e})}pick(e){const n={};return mn.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new er({...this._def,shape:()=>n})}omit(e){const n={};return mn.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new er({...this._def,shape:()=>n})}deepPartial(){return Nf(this)}partial(e){const n={};return mn.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new er({...this._def,shape:()=>n})}required(e){const n={};return mn.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Ya;)i=i._def.innerType;n[r]=i}}),new er({...this._def,shape:()=>n})}keyof(){return XF(mn.objectKeys(this.shape))}}er.create=(t,e)=>new er({shape:()=>t,unknownKeys:"strip",catchall:ic.create(),typeName:Tt.ZodObject,...Kt(e)});er.strictCreate=(t,e)=>new er({shape:()=>t,unknownKeys:"strict",catchall:ic.create(),typeName:Tt.ZodObject,...Kt(e)});er.lazycreate=(t,e)=>new er({shape:t,unknownKeys:"strip",catchall:ic.create(),typeName:Tt.ZodObject,...Kt(e)});class xv extends Xt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new $i(a.ctx.common.issues));return ot(n,{code:Ge.invalid_union,unionErrors:o}),Rt}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new $i(c));return ot(n,{code:Ge.invalid_union,unionErrors:a}),Rt}}get options(){return this._def.options}}xv.create=(t,e)=>new xv({options:t,typeName:Tt.ZodUnion,...Kt(e)});const Pl=t=>t instanceof Sv?Pl(t.schema):t instanceof aa?Pl(t.innerType()):t instanceof Nv?[t.value]:t instanceof Xu?t.options:t instanceof Ev?mn.objectValues(t.enum):t instanceof Av?Pl(t._def.innerType):t instanceof yv?[void 0]:t instanceof wv?[null]:t instanceof Ya?[void 0,...Pl(t.unwrap())]:t instanceof Zu?[null,...Pl(t.unwrap())]:t instanceof m4||t instanceof Pv?Pl(t.unwrap()):t instanceof Cv?Pl(t._def.innerType):[];class nx extends Xt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==lt.object)return ot(n,{code:Ge.invalid_type,expected:lt.object,received:n.parsedType}),Rt;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(ot(n,{code:Ge.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Rt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=Pl(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new nx({typeName:Tt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Kt(r)})}}function rS(t,e){const n=kl(t),r=kl(e);if(t===e)return{valid:!0,data:t};if(n===lt.object&&r===lt.object){const s=mn.objectKeys(e),i=mn.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=rS(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===lt.array&&r===lt.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=rS(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===lt.date&&r===lt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class bv extends Xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(tS(i)||tS(o))return Rt;const a=rS(i.value,o.value);return a.valid?((nS(i)||nS(o))&&n.dirty(),{status:n.value,value:a.data}):(ot(r,{code:Ge.invalid_intersection_types}),Rt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}bv.create=(t,e,n)=>new bv({left:t,right:e,typeName:Tt.ZodIntersection,...Kt(n)});class el extends Xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==lt.array)return ot(r,{code:Ge.invalid_type,expected:lt.array,received:r.parsedType}),Rt;if(r.data.length<this._def.items.length)return ot(r,{code:Ge.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Rt;!this._def.rest&&r.data.length>this._def.items.length&&(ot(r,{code:Ge.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Ja(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Rs.mergeArray(n,o)):Rs.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new el({...this._def,rest:e})}}el.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new el({items:t,typeName:Tt.ZodTuple,rest:null,...Kt(e)})};class _v extends Xt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==lt.object)return ot(r,{code:Ge.invalid_type,expected:lt.object,received:r.parsedType}),Rt;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new Ja(r,a,r.path,a)),value:o._parse(new Ja(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Rs.mergeObjectAsync(n,s):Rs.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Xt?new _v({keyType:e,valueType:n,typeName:Tt.ZodRecord,...Kt(r)}):new _v({keyType:Qo.create(),valueType:e,typeName:Tt.ZodRecord,...Kt(n)})}}class S2 extends Xt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==lt.map)return ot(r,{code:Ge.invalid_type,expected:lt.map,received:r.parsedType}),Rt;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],u)=>({key:s._parse(new Ja(r,a,r.path,[u,"key"])),value:i._parse(new Ja(r,c,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Rt;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Rt;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}S2.create=(t,e,n)=>new S2({valueType:e,keyType:t,typeName:Tt.ZodMap,...Kt(n)});class Sh extends Xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==lt.set)return ot(r,{code:Ge.invalid_type,expected:lt.set,received:r.parsedType}),Rt;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ot(r,{code:Ge.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ot(r,{code:Ge.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Rt;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((c,u)=>i._parse(new Ja(r,c,r.path,u)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new Sh({...this._def,minSize:{value:e,message:xt.toString(n)}})}max(e,n){return new Sh({...this._def,maxSize:{value:e,message:xt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Sh.create=(t,e)=>new Sh({valueType:t,minSize:null,maxSize:null,typeName:Tt.ZodSet,...Kt(e)});class cp extends Xt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==lt.function)return ot(n,{code:Ge.invalid_type,expected:lt.function,received:n.parsedType}),Rt;function r(a,c){return w2({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,y2(),Hp].filter(u=>!!u),issueData:{code:Ge.invalid_arguments,argumentsError:c}})}function s(a,c){return w2({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,y2(),Hp].filter(u=>!!u),issueData:{code:Ge.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Kp){const a=this;return ei(async function(...c){const u=new $i([]),d=await a._def.args.parseAsync(c,i).catch(g=>{throw u.addIssue(r(c,g)),u}),h=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(h,i).catch(g=>{throw u.addIssue(s(h,g)),u})})}else{const a=this;return ei(function(...c){const u=a._def.args.safeParse(c,i);if(!u.success)throw new $i([r(c,u.error)]);const d=Reflect.apply(o,this,u.data),h=a._def.returns.safeParse(d,i);if(!h.success)throw new $i([s(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new cp({...this._def,args:el.create(e).rest(eh.create())})}returns(e){return new cp({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new cp({args:e||el.create([]).rest(eh.create()),returns:n||eh.create(),typeName:Tt.ZodFunction,...Kt(r)})}}class Sv extends Xt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Sv.create=(t,e)=>new Sv({getter:t,typeName:Tt.ZodLazy,...Kt(e)});class Nv extends Xt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ot(n,{received:n.data,code:Ge.invalid_literal,expected:this._def.value}),Rt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Nv.create=(t,e)=>new Nv({value:t,typeName:Tt.ZodLiteral,...Kt(e)});function XF(t,e){return new Xu({values:t,typeName:Tt.ZodEnum,...Kt(e)})}class Xu extends Xt{constructor(){super(...arguments),lg.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ot(n,{expected:mn.joinValues(r),received:n.parsedType,code:Ge.invalid_type}),Rt}if(x2(this,lg)||GF(this,lg,new Set(this._def.values)),!x2(this,lg).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ot(n,{received:n.data,code:Ge.invalid_enum_value,options:r}),Rt}return ei(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Xu.create(e,{...this._def,...n})}exclude(e,n=this._def){return Xu.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}lg=new WeakMap;Xu.create=XF;class Ev extends Xt{constructor(){super(...arguments),cg.set(this,void 0)}_parse(e){const n=mn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==lt.string&&r.parsedType!==lt.number){const s=mn.objectValues(n);return ot(r,{expected:mn.joinValues(s),received:r.parsedType,code:Ge.invalid_type}),Rt}if(x2(this,cg)||GF(this,cg,new Set(mn.getValidEnumValues(this._def.values))),!x2(this,cg).has(e.data)){const s=mn.objectValues(n);return ot(r,{received:r.data,code:Ge.invalid_enum_value,options:s}),Rt}return ei(e.data)}get enum(){return this._def.values}}cg=new WeakMap;Ev.create=(t,e)=>new Ev({values:t,typeName:Tt.ZodNativeEnum,...Kt(e)});class Kp extends Xt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==lt.promise&&n.common.async===!1)return ot(n,{code:Ge.invalid_type,expected:lt.promise,received:n.parsedType}),Rt;const r=n.parsedType===lt.promise?n.data:Promise.resolve(n.data);return ei(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Kp.create=(t,e)=>new Kp({type:t,typeName:Tt.ZodPromise,...Kt(e)});class aa extends Xt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Tt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{ot(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return Rt;const c=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return c.status==="aborted"?Rt:c.status==="dirty"||n.value==="dirty"?Uf(c.value):c});{if(n.value==="aborted")return Rt;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Rt:a.status==="dirty"||n.value==="dirty"?Uf(a.value):a}}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Rt:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Rt:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!bh(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>bh(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);mn.assertNever(s)}}aa.create=(t,e,n)=>new aa({schema:t,typeName:Tt.ZodEffects,effect:e,...Kt(n)});aa.createWithPreprocess=(t,e,n)=>new aa({schema:e,effect:{type:"preprocess",transform:t},typeName:Tt.ZodEffects,...Kt(n)});class Ya extends Xt{_parse(e){return this._getType(e)===lt.undefined?ei(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ya.create=(t,e)=>new Ya({innerType:t,typeName:Tt.ZodOptional,...Kt(e)});class Zu extends Xt{_parse(e){return this._getType(e)===lt.null?ei(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Zu.create=(t,e)=>new Zu({innerType:t,typeName:Tt.ZodNullable,...Kt(e)});class Av extends Xt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===lt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Av.create=(t,e)=>new Av({innerType:t,typeName:Tt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Kt(e)});class Cv extends Xt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return gv(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new $i(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new $i(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Cv.create=(t,e)=>new Cv({innerType:t,typeName:Tt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Kt(e)});class N2 extends Xt{_parse(e){if(this._getType(e)!==lt.nan){const r=this._getOrReturnCtx(e);return ot(r,{code:Ge.invalid_type,expected:lt.nan,received:r.parsedType}),Rt}return{status:"valid",value:e.data}}}N2.create=t=>new N2({typeName:Tt.ZodNaN,...Kt(t)});const Vle=Symbol("zod_brand");class m4 extends Xt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class ly extends Xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Rt:i.status==="dirty"?(n.dirty(),Uf(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Rt:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new ly({in:e,out:n,typeName:Tt.ZodPipeline})}}class Pv extends Xt{_parse(e){const n=this._def.innerType._parse(e),r=s=>(bh(s)&&(s.value=Object.freeze(s.value)),s);return gv(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Pv.create=(t,e)=>new Pv({innerType:t,typeName:Tt.ZodReadonly,...Kt(e)});function TI(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function ZF(t,e={},n){return t?Gp.create().superRefine((r,s)=>{var i,o;const a=t(r);if(a instanceof Promise)return a.then(c=>{var u,d;if(!c){const h=TI(e,r),p=(d=(u=h.fatal)!==null&&u!==void 0?u:n)!==null&&d!==void 0?d:!0;s.addIssue({code:"custom",...h,fatal:p})}});if(!a){const c=TI(e,r),u=(o=(i=c.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...c,fatal:u})}}):Gp.create()}const Ule={object:er.lazycreate};var Tt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Tt||(Tt={}));const Ble=(t,e={message:`Input not instance of ${t.name}`})=>ZF(n=>n instanceof t,e),vi=Qo.create,JF=Yu.create,zle=N2.create,qle=Qu.create,Tv=vv.create,$le=_h.create,Wle=b2.create,Hle=yv.create,Gle=wv.create,Kle=Gp.create,Yle=eh.create,Qle=ic.create,Xle=_2.create,Zle=na.create,g4=er.create,Jle=er.strictCreate,ece=xv.create,tce=nx.create,nce=bv.create,rce=el.create,sce=_v.create,ice=S2.create,oce=Sh.create,ace=cp.create,lce=Sv.create,cce=Nv.create,uce=Xu.create,dce=Ev.create,hce=Kp.create,II=aa.create,fce=Ya.create,pce=Zu.create,mce=aa.createWithPreprocess,gce=ly.create,vce=()=>vi().optional(),yce=()=>JF().optional(),wce=()=>Tv().optional(),xce={string:t=>Qo.create({...t,coerce:!0}),number:t=>Yu.create({...t,coerce:!0}),boolean:t=>vv.create({...t,coerce:!0}),bigint:t=>Qu.create({...t,coerce:!0}),date:t=>_h.create({...t,coerce:!0})},bce=Rt;var hn=Object.freeze({__proto__:null,defaultErrorMap:Hp,setErrorMap:gle,getErrorMap:y2,makeIssue:w2,EMPTY_PATH:vle,addIssueToContext:ot,ParseStatus:Rs,INVALID:Rt,DIRTY:Uf,OK:ei,isAborted:tS,isDirty:nS,isValid:bh,isAsync:gv,get util(){return mn},get objectUtil(){return eS},ZodParsedType:lt,getParsedType:kl,ZodType:Xt,datetimeRegex:QF,ZodString:Qo,ZodNumber:Yu,ZodBigInt:Qu,ZodBoolean:vv,ZodDate:_h,ZodSymbol:b2,ZodUndefined:yv,ZodNull:wv,ZodAny:Gp,ZodUnknown:eh,ZodNever:ic,ZodVoid:_2,ZodArray:na,ZodObject:er,ZodUnion:xv,ZodDiscriminatedUnion:nx,ZodIntersection:bv,ZodTuple:el,ZodRecord:_v,ZodMap:S2,ZodSet:Sh,ZodFunction:cp,ZodLazy:Sv,ZodLiteral:Nv,ZodEnum:Xu,ZodNativeEnum:Ev,ZodPromise:Kp,ZodEffects:aa,ZodTransformer:aa,ZodOptional:Ya,ZodNullable:Zu,ZodDefault:Av,ZodCatch:Cv,ZodNaN:N2,BRAND:Vle,ZodBranded:m4,ZodPipeline:ly,ZodReadonly:Pv,custom:ZF,Schema:Xt,ZodSchema:Xt,late:Ule,get ZodFirstPartyTypeKind(){return Tt},coerce:xce,any:Kle,array:Zle,bigint:qle,boolean:Tv,date:$le,discriminatedUnion:tce,effect:II,enum:uce,function:ace,instanceof:Ble,intersection:nce,lazy:lce,literal:cce,map:ice,nan:zle,nativeEnum:dce,never:Qle,null:Gle,nullable:pce,number:JF,object:g4,oboolean:wce,onumber:yce,optional:fce,ostring:vce,pipeline:gce,preprocess:mce,promise:hce,record:sce,set:oce,strictObject:Jle,string:vi,symbol:Wle,transformer:II,tuple:rce,undefined:Hle,union:ece,unknown:Yle,void:Xle,NEVER:bce,ZodIssueCode:Ge,quotelessJson:mle,ZodError:$i});const _ce=g4({title:vi().min(5,{message:"Title must be at least 5 characters"}).max(100),description:vi().min(10,{message:"Description must be at least 10 characters"}),price:vi().refine(t=>!isNaN(parseFloat(t))&&parseFloat(t)>0,{message:"Price must be a positive number"}),condition:vi().min(1,{message:"Please select a condition"}),categoryId:vi().min(1,{message:"Please select a category"}),location:vi().optional(),isBidding:Tv().default(!1),isSold:Tv().default(!1)});function X0({isOpen:t,onClose:e,product:n}){const{user:r}=Yi(),{toast:s}=Si(),[i,o]=E.useState((n==null?void 0:n.images)||[]),[a,c]=E.useState(!1),[u,d]=E.useState(!1),h=E.useRef(null),p=Iu({resolver:ku(_ce),defaultValues:{title:(n==null?void 0:n.title)||"",description:(n==null?void 0:n.description)||"",price:n!=null&&n.price?(n.price/100).toString():"",condition:(n==null?void 0:n.condition)||"",categoryId:(n==null?void 0:n.categoryId)||"",location:(n==null?void 0:n.location)||"",isBidding:(n==null?void 0:n.isBidding)||!1,isSold:(n==null?void 0:n.isSold)||!1}}),{data:g}=Qr({queryKey:["categories"],queryFn:Lh}),b=async x=>{const v=x.target.files;if(!v||!r)return;const N=5-i.length;if(N<=0){s({title:"Maximum images reached",description:"You can upload a maximum of 5 images per listing.",variant:"destructive"});return}const R=Array.from(v).slice(0,N);if(R.length!==0){c(!0);try{const M=await DE(R,r.uid);o([...i,...M]),s({title:"Images uploaded",description:`Successfully uploaded ${M.length} image(s)`}),v.length>N&&s({title:"Some images were skipped",description:`Only ${N} out of ${v.length} images were uploaded due to the 5 image limit.`})}catch(M){console.error("Error uploading images:",M),s({title:"Upload failed",description:M.message==="File too large"?"Maximum file size is 10MB":"Failed to upload images. Please try again.",variant:"destructive"})}finally{c(!1),h.current&&(h.current.value="")}}},w=x=>{const v=[...i];v.splice(x,1),o(v)},_=async x=>{if(!r){s({title:"Authentication required",description:"Please log in to update a listing",variant:"destructive"});return}if(i.length===0){s({title:"Images required",description:"Please upload at least one image",variant:"destructive"});return}d(!0);const v={title:x.title,description:x.description,price:parseFloat(x.price)*100,condition:x.condition,images:i,location:x.location,isBidding:x.isBidding,isSold:x.isSold,categoryId:x.categoryId};try{await dM(n.id,v),S1.invalidateQueries({queryKey:["products"]}),S1.invalidateQueries({queryKey:["product",n.id]}),s({title:"Product updated",description:"Your listing has been updated successfully"}),e()}catch(N){console.error("Error updating product:",N),s({title:"Error",description:"Failed to update listing. Please try again.",variant:"destructive"})}finally{d(!1)}};return l.jsx(Pu,{open:t,onOpenChange:e,children:l.jsxs(ql,{className:"sm:max-w-[600px] max-h-[90vh]",children:[l.jsxs($l,{children:[l.jsx(Wl,{children:"Edit Listing"}),l.jsx(Zd,{})]}),l.jsx(p4,{className:"max-h-[70vh] pr-4",children:l.jsx(ju,{...p,children:l.jsxs("form",{onSubmit:p.handleSubmit(_),className:"space-y-6",children:[l.jsx(zt,{control:p.control,name:"title",render:({field:x})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Title"}),l.jsx(Mt,{children:l.jsx(Qt,{placeholder:"e.g. Calculus Textbook 8th Edition",...x})}),l.jsx(xn,{})]})}),l.jsx(zt,{control:p.control,name:"description",render:({field:x})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Description"}),l.jsx(Mt,{children:l.jsx(od,{placeholder:"Describe your item in detail",rows:3,...x})}),l.jsx(xn,{})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(zt,{control:p.control,name:"price",render:({field:x})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Price (₹)"}),l.jsx(Mt,{children:l.jsx(Qt,{type:"number",placeholder:"0.00",step:"0.01",min:"0",...x})}),l.jsx(xn,{})]})}),l.jsx(zt,{control:p.control,name:"condition",render:({field:x})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Condition"}),l.jsxs(Ko,{onValueChange:x.onChange,defaultValue:x.value,children:[l.jsx(Mt,{children:l.jsx(uo,{children:l.jsx(Yo,{placeholder:"Select condition"})})}),l.jsxs(ho,{children:[l.jsx(Gt,{value:"new",children:"New"}),l.jsx(Gt,{value:"like-new",children:"Like New"}),l.jsx(Gt,{value:"good",children:"Good"}),l.jsx(Gt,{value:"fair",children:"Fair"}),l.jsx(Gt,{value:"poor",children:"Poor"})]})]}),l.jsx(xn,{})]})})]}),l.jsx(zt,{control:p.control,name:"categoryId",render:({field:x})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Category"}),l.jsxs(Ko,{onValueChange:x.onChange,defaultValue:x.value,children:[l.jsx(Mt,{children:l.jsx(uo,{children:l.jsx(Yo,{placeholder:"Select category"})})}),l.jsx(ho,{children:g==null?void 0:g.map(v=>l.jsx(Gt,{value:v.id,children:v.name},v.id))})]}),l.jsx(xn,{})]})}),l.jsx(zt,{control:p.control,name:"location",render:({field:x})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Location (Optional)"}),l.jsx(Mt,{children:l.jsx(Qt,{placeholder:"e.g. North Campus",...x})}),l.jsx(xn,{})]})}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx(zt,{control:p.control,name:"isBidding",render:({field:x})=>l.jsxs(Dt,{className:"flex flex-row items-start space-x-3 space-y-0",children:[l.jsx(Mt,{children:l.jsx(mv,{checked:x.value,onCheckedChange:x.onChange})}),l.jsx("div",{className:"space-y-1 leading-none",children:l.jsx(jt,{children:"Allow bidding"})})]})}),l.jsx(zt,{control:p.control,name:"isSold",render:({field:x})=>l.jsxs(Dt,{className:"flex flex-row items-start space-x-3 space-y-0",children:[l.jsx(Mt,{children:l.jsx(mv,{checked:x.value,onCheckedChange:x.onChange})}),l.jsx("div",{className:"space-y-1 leading-none",children:l.jsx(jt,{children:"Mark as sold"})})]})})]}),l.jsxs("div",{children:[l.jsx(jt,{children:"Images"}),l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.length," of 5 images"]}),i.length>=5&&l.jsx("p",{className:"text-sm text-orange-500",children:"Maximum limit reached"})]}),l.jsxs("div",{className:"mt-2 flex flex-wrap gap-4",children:[i.map((x,v)=>l.jsxs("div",{className:"relative w-24 h-24 rounded-md overflow-hidden border border-gray-200",children:[l.jsx("img",{src:x,alt:`Product ${v}`,className:"w-full h-full object-cover"}),l.jsx(Fe,{variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-5 w-5",onClick:()=>w(v),type:"button",children:l.jsx(ls,{className:"h-3 w-3"})})]},v)),i.length<5&&l.jsx(Fe,{type:"button",variant:"outline",className:"w-24 h-24 flex flex-col items-center justify-center border-dashed",onClick:()=>{var x;return(x=h.current)==null?void 0:x.click()},disabled:a,children:a?l.jsx("div",{className:"animate-spin h-5 w-5 border-b-2 rounded-full border-primary"}):l.jsxs(l.Fragment,{children:[l.jsx(Qd,{className:"h-4 w-4 mb-1"}),l.jsx("span",{className:"text-xs",children:"Add Image"})]})}),l.jsx("input",{type:"file",className:"hidden",accept:"image/*",multiple:!0,onChange:b,ref:h})]}),i.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Please upload at least one image"})]}),l.jsx(Fw,{children:l.jsx(Fe,{type:"submit",disabled:u,children:u?l.jsxs("span",{className:"flex items-center",children:[l.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-b-2 border-white"}),"Updating..."]}):"Update Listing"})})]})})})]})})}function th({product:t,variant:e="grid",isOwner:n=!1}){const[r,s]=E.useState(!1),[i,o]=E.useState(!1),[a,c]=E.useState(null),[u,d]=E.useState(!0),[h,p]=E.useState(!1),[g,b]=E.useState(!1);E.useEffect(()=>{async function M(){if(!t.images||t.images.length===0){d(!1),p(!0);return}try{if(d(!0),t.images[0].includes("firebasestorage.googleapis.com")){const $=await Cae(t.images[0]);c($)}else c(t.images[0]);p(!1)}catch($){console.error("Error loading image:",$),p(!0)}finally{d(!1)}}M()},[t.images]);const w=M=>{M.stopPropagation(),o(!i)},_=()=>{s(!0)},x=()=>{s(!1)},v=()=>{b(!1)},N=Vie(new Date(t.createdAt),{addSuffix:!0}),R=()=>u?l.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gray-100",children:l.jsx($q,{className:"h-8 w-8 animate-spin text-gray-400"})}):h||!a?l.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gray-100",children:l.jsx(Uq,{className:"h-8 w-8 text-gray-400"})}):l.jsx("img",{src:a,alt:t.title,className:"h-full w-full object-cover",onError:()=>p(!0)});return e==="small"?l.jsxs(l.Fragment,{children:[l.jsxs(Ot,{className:"flex-none w-64 overflow-hidden hover:shadow-md transition cursor-pointer",onClick:_,children:[l.jsx("div",{className:"relative h-36",children:R()}),l.jsxs(qt,{className:"p-3",children:[l.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:t.title}),l.jsxs("p",{className:"text-primary font-semibold text-sm mt-1",children:["₹",(t.price/100).toFixed(2)]})]})]}),r&&l.jsx(Db,{productId:t.id,isOpen:r,onClose:x}),g&&l.jsx(X0,{product:t,isOpen:g,onClose:v})]}):e==="horizontal"?l.jsxs(l.Fragment,{children:[l.jsx(Ot,{className:"overflow-hidden hover:shadow-md transition cursor-pointer",onClick:_,children:l.jsxs("div",{className:"flex",children:[l.jsxs("div",{className:"w-1/3 relative",children:[R(),t.isFeatured&&l.jsx("div",{className:"absolute top-2 left-2",children:l.jsx(hr,{className:"bg-secondary hover:bg-secondary",children:"Featured"})})]}),l.jsxs(qt,{className:"w-2/3 p-4",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:t.title}),l.jsxs("div",{className:"flex gap-1",children:[n&&l.jsx(Fe,{variant:"ghost",size:"icon",className:"text-gray-400 hover:text-blue-500",onClick:M=>{M.stopPropagation(),b(!0)},children:l.jsx(Yg,{className:"h-5 w-5"})}),l.jsx(Fe,{variant:"ghost",size:"icon",className:i?"text-red-500":"text-gray-400",onClick:w,children:l.jsx(E1,{className:"h-5 w-5"})})]})]}),l.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[t.categoryName," ",t.subcategory&&`• ${t.subcategory}`]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-primary font-semibold",children:["₹",(t.price/100).toFixed(2)]}),t.isBidding&&t.currentBid&&l.jsxs("p",{className:"text-xs text-gray-500",children:["Current bid: ₹",(t.currentBid/100).toFixed(2)]})]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx(N1,{className:"h-4 w-4 mr-1"}),N]})]})]})]})}),r&&l.jsx(Db,{productId:t.id,isOpen:r,onClose:x}),g&&l.jsx(X0,{product:t,isOpen:g,onClose:v})]}):l.jsxs(l.Fragment,{children:[l.jsxs(Ot,{className:"overflow-hidden hover:shadow-md transition cursor-pointer",onClick:_,children:[l.jsxs("div",{className:"relative pb-[70%]",children:[l.jsx("div",{className:"absolute inset-0",children:R()}),t.isFeatured&&l.jsx("div",{className:"absolute top-2 left-2",children:l.jsx(hr,{className:"bg-secondary hover:bg-secondary",children:"Featured"})}),t.isBidding&&l.jsx("div",{className:"absolute top-2 right-2",children:l.jsx(hr,{className:"bg-yellow-500 hover:bg-yellow-600",children:"Bidding"})})]}),l.jsxs(qt,{className:"p-4",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:t.title}),l.jsxs("div",{className:"flex gap-1",children:[n&&l.jsx(Fe,{variant:"ghost",size:"icon",className:"text-gray-400 hover:text-blue-500",onClick:M=>{M.stopPropagation(),b(!0)},children:l.jsx(Yg,{className:"h-5 w-5"})}),l.jsx(Fe,{variant:"ghost",size:"icon",className:i?"text-red-500":"text-gray-400",onClick:w,children:l.jsx(E1,{className:"h-5 w-5"})})]})]}),l.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[t.categoryName," ",t.subcategory&&`• ${t.subcategory}`]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-primary font-semibold",children:["₹",(t.price/100).toFixed(2)]}),t.isBidding&&t.currentBid&&l.jsxs("p",{className:"text-xs text-gray-500",children:["Current bid: ₹",(t.currentBid/100).toFixed(2)]})]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[l.jsx(N1,{className:"h-4 w-4 mr-1"}),N]})]})]})]}),r&&l.jsx(Db,{productId:t.id,isOpen:r,onClose:x}),g&&l.jsx(X0,{product:t,isOpen:g,onClose:v})]})}function sS({categoryId:t,limit:e=8,featured:n=!1,searchQuery:r,showLoadMore:s=!0,showFilters:i=!0,filters:o,searchParams:a}){const c=a||o,[u,d]=E.useState((c==null?void 0:c.sort)==="price-low"?"price-low":(c==null?void 0:c.sort)==="price-high"?"price-high":"newest"),[h,p]=E.useState([]),[g,b]=E.useState(null),[w,_]=E.useState(!1),[,x]=Ql(),v=P=>{switch(P){case"price-low":return"price_asc";case"price-high":return"price_desc";case"newest":default:return"newest"}},{data:N,isLoading:R,refetch:M}=Qr({queryKey:["products",t,n,e,u,r,c==null?void 0:c.query,c==null?void 0:c.category,c==null?void 0:c.minPrice,c==null?void 0:c.maxPrice,c==null?void 0:c.condition,c==null?void 0:c.available,c==null?void 0:c.university],queryFn:async()=>await ta({categoryId:t||(c==null?void 0:c.category),limit:e,isFeatured:n,searchQuery:r||(c==null?void 0:c.query),minPrice:c!=null&&c.minPrice?parseInt(c.minPrice)*100:void 0,maxPrice:c!=null&&c.maxPrice?parseInt(c.maxPrice)*100:void 0,condition:c!=null&&c.condition?[c.condition]:void 0,university:c==null?void 0:c.university,sortBy:v(u),onlyAvailable:(c==null?void 0:c.available)==="true"?!0:(c==null?void 0:c.available)==="false"?!1:void 0})});E.useEffect(()=>{N!=null&&N.products&&(p(N.products),b(N.lastVisible))},[N]),E.useEffect(()=>{M()},[u,M]),E.useEffect(()=>{c&&(c.sort&&c.sort!==u&&d(c.sort),M())},[c,M,u]);const $=async()=>{if(g){_(!0);try{const P=await ta({categoryId:t||(c==null?void 0:c.category),limit:e,lastVisible:g,isFeatured:n,searchQuery:r||(c==null?void 0:c.query),minPrice:c!=null&&c.minPrice?parseInt(c.minPrice)*100:void 0,maxPrice:c!=null&&c.maxPrice?parseInt(c.maxPrice)*100:void 0,condition:c!=null&&c.condition?[c.condition]:void 0,university:c==null?void 0:c.university,sortBy:v(u),onlyAvailable:(c==null?void 0:c.available)==="true"?!0:(c==null?void 0:c.available)==="false"?!1:void 0});p([...h,...P.products]),b(P.lastVisible)}catch(P){console.error("Error loading more products:",P)}finally{_(!1)}}},I=P=>{if(d(P),window.location.search&&a){const L=new URLSearchParams(window.location.search);L.set("sort",P),x(`/?${L.toString()}`)}};return R?l.jsxs("div",{children:[i&&l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx(Et,{className:"h-8 w-28"}),l.jsx(Et,{className:"h-10 w-44"})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Array(e).fill(0).map((P,L)=>l.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[l.jsx(Et,{className:"h-48 w-full"}),l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsx(Et,{className:"h-6 w-3/4"}),l.jsx(Et,{className:"h-4 w-1/2"}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx(Et,{className:"h-5 w-16"}),l.jsx(Et,{className:"h-5 w-16"})]})]})]},L))})]}):l.jsxs("div",{children:[i&&l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"text-lg font-semibold",children:[n?"Featured Items":t?`${t.charAt(0).toUpperCase()+t.slice(1)}`:"All Items",h.length>0&&l.jsxs("span",{className:"ml-2 text-sm text-gray-500 font-normal",children:["(",h.length," ",h.length===1?"item":"items",")"]})]}),l.jsxs(Ko,{value:u,onValueChange:I,children:[l.jsx(uo,{className:"w-[180px]",children:l.jsx(Yo,{placeholder:"Sort By: Newest"})}),l.jsxs(ho,{children:[l.jsx(Gt,{value:"newest",children:"Sort By: Newest"}),l.jsx(Gt,{value:"price-low",children:"Price: Low to High"}),l.jsx(Gt,{value:"price-high",children:"Price: High to Low"})]})]})]}),h.length>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:h.map(P=>l.jsx(th,{product:P},P.id))}),s&&g&&l.jsx("div",{className:"mt-6 text-center",children:l.jsx(Fe,{variant:"outline",onClick:$,disabled:w,children:w?"Loading...":"Load More"})})]}):l.jsxs("div",{className:"text-center py-12 border border-dashed border-gray-300 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),l.jsx("p",{className:"text-gray-500",children:r||c&&Object.values(c).some(P=>P!==void 0)?"No products match your search criteria":"There are no products in this category yet"})]})]})}function Sce({limit:t=5,showViewAll:e=!0}){const[n,r]=E.useState([]),{data:s,isLoading:i}=Qr({queryKey:["recent-products",t],queryFn:async()=>await ta({limit:t,isSold:!1})});return E.useEffect(()=>{s!=null&&s.products&&r(s.products)},[s]),i?l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx(Et,{className:"h-8 w-36"}),e&&l.jsx(Et,{className:"h-6 w-16"})]}),l.jsx("div",{className:"flex overflow-x-auto scrollbar-hide space-x-4 pb-2",children:Array(t).fill(0).map((o,a)=>l.jsxs("div",{className:"flex-none w-64 border border-gray-200 rounded-lg overflow-hidden",children:[l.jsx(Et,{className:"h-36 w-full"}),l.jsxs("div",{className:"p-3 space-y-2",children:[l.jsx(Et,{className:"h-5 w-3/4"}),l.jsx(Et,{className:"h-4 w-1/3"})]})]},a))})]}):n.length?l.jsxs("div",{children:[l.jsx("section",{className:"py-4",children:l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Categories"}),l.jsx(pn,{href:"/categories",children:l.jsx("span",{className:"text-primary text-sm font-medium cursor-pointer",children:"View All"})})]})}),l.jsx("div",{className:"flex overflow-x-auto scrollbar-hide space-x-4 pb-2",children:n.map(o=>l.jsx(th,{product:o,variant:"small"},o.id))})]}):null}function Nce(){const{user:t}=Yi(),[e,n]=E.useState(""),[r,s]=E.useState(!1),[i,o]=E.useState(!1),[a,c]=E.useState({}),[u,d]=E.useState(!1),[,h]=Ql(),p=Ql()[0];E.useEffect(()=>{const b=new URLSearchParams(window.location.search),w={},_=b.get("q");_?(n(_),w.query=_):n(""),b.get("category")&&(w.category=b.get("category")||void 0),b.get("minPrice")&&(w.minPrice=b.get("minPrice")||void 0),b.get("maxPrice")&&(w.maxPrice=b.get("maxPrice")||void 0),b.get("condition")&&(w.condition=b.get("condition")||void 0),b.get("university")&&(w.university=b.get("university")||void 0),b.get("sort")&&(w.sort=b.get("sort")||void 0),b.get("available")&&(w.available=b.get("available")||void 0),c(w),d(!!_||Object.values(w).some(x=>x!==void 0))},[p]);const g=()=>{n(""),c({}),d(!1),h("/")};return l.jsxs("div",{children:[!t&&!u&&l.jsx("section",{className:"bg-gradient-to-r from-primary to-indigo-800 text-white py-8 px-4 md:py-12",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[l.jsxs("div",{className:"md:w-1/2 mb-6 md:mb-0",children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Buy & Sell Within Your University"}),l.jsx("p",{className:"text-indigo-100 mb-4",children:"Connect with fellow students to buy and sell unused items easily"}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx(Fe,{className:"bg-white text-primary hover:bg-gray-100",onClick:()=>o(!0),children:"Sign Up"}),l.jsx(Fe,{variant:"outline",className:"border border-white text-white hover:bg-white/10",onClick:()=>s(!0),children:"Learn More"})]})]}),l.jsx("div",{className:"md:w-1/2",children:l.jsx("img",{src:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1471&q=80",alt:"University students",className:"rounded-lg shadow-lg object-cover h-40 md:h-64 w-full"})})]})})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[u&&l.jsxs("div",{className:"mb-6 border p-4 rounded-lg bg-gray-50",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("h2",{className:"text-lg font-medium",children:e?`Search results for "${e}"`:"Search results"}),l.jsxs(Fe,{variant:"ghost",size:"sm",onClick:g,className:"text-gray-500 hover:text-gray-700",children:[l.jsx(ls,{className:"h-4 w-4 mr-1"}),"Clear"]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[a.category&&l.jsxs(hr,{variant:"secondary",children:["Category: ",a.category]}),(a.minPrice||a.maxPrice)&&l.jsxs(hr,{variant:"secondary",children:["Price: $",a.minPrice||"0"," - $",a.maxPrice||"1000+"]}),a.condition&&l.jsxs(hr,{variant:"secondary",children:["Condition: ",a.condition]}),a.university&&l.jsxs(hr,{variant:"secondary",children:["University: ",a.university]}),a.available&&l.jsx(hr,{variant:"secondary",children:a.available==="true"?"Available items":"Sold items"}),a.sort&&l.jsxs(hr,{variant:"secondary",children:["Sort: ",a.sort==="newest"?"Newest":a.sort==="price-low"?"Price (Low to High)":"Price (High to Low)"]})]})]}),u?l.jsxs("section",{className:"py-4",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Products"}),l.jsx(sS,{searchParams:a,limit:20,showFilters:!1})]}):l.jsxs(l.Fragment,{children:[l.jsxs("section",{className:"py-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Categories"}),l.jsx(pn,{href:"/categories",children:l.jsx("span",{className:"text-primary text-sm font-medium cursor-pointer",children:"View All"})})]}),l.jsx(F_,{})]}),l.jsx("section",{className:"py-4",children:l.jsx(sS,{featured:!0,limit:8})}),l.jsx("section",{className:"py-4",children:l.jsx(Sce,{limit:5})}),l.jsx("section",{className:"py-4",children:l.jsx("div",{className:"bg-gradient-to-l from-secondary to-blue-600 rounded-lg overflow-hidden",children:l.jsxs("div",{className:"md:flex md:items-center p-6",children:[l.jsxs("div",{className:"md:w-2/3 text-white mb-4 md:mb-0",children:[l.jsx("h2",{className:"text-xl font-bold mb-2",children:"Graduating Student Deals"}),l.jsx("p",{className:"mb-4",children:"Find bulk sales from graduating students - furniture, books, electronics and more at discounted prices!"}),l.jsx(pn,{href:"/bulk-sales",children:l.jsx(Fe,{className:"bg-white text-primary hover:bg-gray-100",children:"Browse Bulk Sales"})})]}),l.jsx("div",{className:"md:w-1/3 md:pl-6",children:l.jsx("img",{src:"https://images.unsplash.com/photo-1627556592933-ffe99c1cd9eb?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80",alt:"Graduation",className:"rounded-lg shadow-lg h-48 w-full object-cover"})})]})})})]})]}),l.jsx(ua,{isOpen:r,onClose:()=>s(!1),openSignup:()=>{s(!1),o(!0)}}),l.jsx(cc,{isOpen:i,onClose:()=>o(!1),openLogin:()=>{o(!1),s(!0)}})]})}var v4="Switch",[Ece,kue]=Ls(v4),[Ace,Cce]=Ece(v4),e9=E.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c="on",onCheckedChange:u,form:d,...h}=t,[p,g]=E.useState(null),b=$t(e,N=>g(N)),w=E.useRef(!1),_=p?d||!!p.closest("form"):!0,[x=!1,v]=Hi({prop:s,defaultProp:i,onChange:u});return l.jsxs(Ace,{scope:n,checked:x,disabled:a,children:[l.jsx(mt.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":r9(x),"data-disabled":a?"":void 0,disabled:a,value:c,...h,ref:b,onClick:Qe(t.onClick,N=>{v(R=>!R),_&&(w.current=N.isPropagationStopped(),w.current||N.stopPropagation())})}),_&&l.jsx(Pce,{control:p,bubbles:!w.current,name:r,value:c,checked:x,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});e9.displayName=v4;var t9="SwitchThumb",n9=E.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=Cce(t9,n);return l.jsx(mt.span,{"data-state":r9(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});n9.displayName=t9;var Pce=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=E.useRef(null),o=Uw(n),a=Z2(e);return E.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&h){const p=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(p)}},[o,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function r9(t){return t?"checked":"unchecked"}var s9=e9,Tce=n9;const mi=E.forwardRef(({className:t,...e},n)=>l.jsx(s9,{className:Xe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:l.jsx(Tce,{className:Xe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));mi.displayName=s9.displayName;const Ice=hn.object({displayName:hn.string().min(2,{message:"Name must be at least 2 characters."}),university:hn.string().optional(),yearLevel:hn.string().optional(),phoneNumber:hn.string().optional(),whatsappNumber:hn.string().optional(),isAnonymousSeller:hn.boolean().default(!1),bio:hn.string().max(500).optional()});function kce(){const{user:t,userDetails:e,isLoading:n}=Yi(),{toast:r}=Si(),[s,i]=E.useState(!1),[o,a]=E.useState(!1),[c,u]=E.useState(!1),[d,h]=E.useState(!1),p=Iu({resolver:ku(Ice),defaultValues:{displayName:(e==null?void 0:e.displayName)||(t==null?void 0:t.displayName)||"",university:(e==null?void 0:e.university)||"",yearLevel:(e==null?void 0:e.yearLevel)||"",phoneNumber:(e==null?void 0:e.phoneNumber)||"",whatsappNumber:(e==null?void 0:e.whatsappNumber)||"",isAnonymousSeller:(e==null?void 0:e.isAnonymousSeller)||!1,bio:(e==null?void 0:e.bio)||""}}),{data:g}=Qr({queryKey:["userListings",t==null?void 0:t.uid],queryFn:async()=>[{id:"listing1",title:"Calculus Textbook",price:4500,images:["https://images.unsplash.com/photo-1544947950-fa07a98d237f"],categoryName:"Books",createdAt:new Date},{id:"listing2",title:"Study Desk Lamp",price:2500,images:["https://images.unsplash.com/photo-1519710164239-da123dc03ef4"],categoryName:"Furniture",createdAt:new Date}],enabled:!!t}),b=async _=>{if(!t){r({title:"Please log in",description:"You need to be logged in to update your profile",variant:"destructive"});return}u(!0);try{await e2(t,_),r({title:"Profile updated",description:"Your profile has been updated successfully"})}catch(x){console.error("Error updating profile:",x),r({title:"Update failed",description:"Failed to update profile. Please try again.",variant:"destructive"})}finally{u(!1)}},w=async _=>{var v;const x=(v=_.target.files)==null?void 0:v[0];if(!(!x||!t)){h(!0);try{const N=await uM(x,t.uid);await e2(t,{photoURL:N}),r({title:"Profile image updated",description:"Your profile image has been updated successfully"})}catch(N){console.error("Error uploading profile image:",N),r({title:"Upload failed",description:"Failed to upload profile image. Please try again.",variant:"destructive"})}finally{h(!1)}}};return!n&&!t?l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[l.jsxs(Ot,{className:"max-w-md mx-auto",children:[l.jsxs(en,{children:[l.jsx(rn,{children:"Sign in to UniMarket"}),l.jsx(Nr,{children:"You need to be logged in to view and manage your profile"})]}),l.jsx(Tu,{children:l.jsxs("div",{className:"flex gap-4 w-full",children:[l.jsx(Fe,{className:"flex-1",onClick:()=>i(!0),children:"Login"}),l.jsx(Fe,{variant:"outline",className:"flex-1",onClick:()=>a(!0),children:"Sign Up"})]})})]}),l.jsx(ua,{isOpen:s,onClose:()=>i(!1),openSignup:()=>{i(!1),a(!0)}}),l.jsx(cc,{isOpen:o,onClose:()=>a(!1),openLogin:()=>{a(!1),i(!0)}})]}):n?l.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12 flex justify-center",children:l.jsx("div",{className:"animate-spin h-12 w-12 border-b-2 border-primary rounded-full"})}):l.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:l.jsxs("div",{className:"md:flex md:items-start md:gap-8",children:[l.jsx("div",{className:"md:w-1/3 lg:w-1/4 mb-6 md:mb-0",children:l.jsx(Ot,{children:l.jsx(qt,{className:"pt-6",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsxs("div",{className:"relative",children:[l.jsxs(ch,{className:"h-24 w-24",children:[l.jsx(uh,{src:(t==null?void 0:t.photoURL)||void 0}),l.jsx(dh,{className:"text-3xl",children:t!=null&&t.displayName?t.displayName.charAt(0).toUpperCase():l.jsx(jp,{})})]}),l.jsxs("label",{htmlFor:"profile-image",className:"absolute bottom-0 right-0 bg-primary text-white p-1 rounded-full cursor-pointer",children:[l.jsx(cR,{className:"h-4 w-4"}),l.jsx("input",{id:"profile-image",type:"file",className:"hidden",accept:"image/*",onChange:w,disabled:d})]})]}),l.jsx("h2",{className:"mt-4 text-xl font-bold",children:t==null?void 0:t.displayName}),l.jsx("p",{className:"text-gray-500 text-sm",children:t==null?void 0:t.email}),(e==null?void 0:e.university)&&(e==null?void 0:e.yearLevel)&&l.jsxs("div",{className:"mt-2 text-sm text-center",children:[l.jsx("p",{children:e.university}),l.jsx("p",{children:e.yearLevel})]}),l.jsxs("div",{className:"mt-4 w-full",children:[l.jsx(Ll,{}),l.jsxs("div",{className:"mt-4 flex justify-between text-sm text-gray-500",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"font-bold text-black",children:(g==null?void 0:g.length)||0}),l.jsx("p",{children:"Listings"})]}),l.jsx(Ll,{orientation:"vertical"}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"font-bold text-black",children:"0"}),l.jsx("p",{children:"Sold"})]}),l.jsx(Ll,{orientation:"vertical"}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"font-bold text-black",children:"0"}),l.jsx("p",{children:"Purchases"})]})]})]})]})})})}),l.jsx("div",{className:"md:flex-1",children:l.jsxs(oy,{defaultValue:"profile",children:[l.jsxs(hm,{className:"mb-4",children:[l.jsxs(Qs,{value:"profile",children:[l.jsx(jp,{className:"h-4 w-4 mr-2"})," Profile"]}),l.jsxs(Qs,{value:"listings",children:[l.jsx(kp,{className:"h-4 w-4 mr-2"})," My Listings"]}),l.jsxs(Qs,{value:"purchases",children:[l.jsx(N1,{className:"h-4 w-4 mr-2"})," Purchase History"]}),l.jsxs(Qs,{value:"settings",children:[l.jsx(iR,{className:"h-4 w-4 mr-2"})," Settings"]})]}),l.jsx(Xs,{value:"profile",children:l.jsxs(Ot,{children:[l.jsxs(en,{children:[l.jsx(rn,{children:"Profile Information"}),l.jsx(Nr,{children:"Manage your personal information and preferences"})]}),l.jsx(qt,{children:l.jsx(ju,{...p,children:l.jsxs("form",{onSubmit:p.handleSubmit(b),className:"space-y-6",children:[l.jsx(zt,{control:p.control,name:"displayName",render:({field:_})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Display Name"}),l.jsx(Mt,{children:l.jsx(Qt,{placeholder:"Your Name",..._})}),l.jsx(xn,{})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(zt,{control:p.control,name:"university",render:({field:_})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"University"}),l.jsx(Mt,{children:l.jsx(Qt,{placeholder:"Your University",..._})}),l.jsx(xn,{})]})}),l.jsx(zt,{control:p.control,name:"yearLevel",render:({field:_})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Year Level"}),l.jsx(Mt,{children:l.jsx(Qt,{placeholder:"e.g. Junior Year",..._})}),l.jsx(xn,{})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(zt,{control:p.control,name:"phoneNumber",render:({field:_})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Phone Number"}),l.jsx(Mt,{children:l.jsx(Qt,{placeholder:"Your Phone Number",..._})}),l.jsx(xn,{})]})}),l.jsx(zt,{control:p.control,name:"whatsappNumber",render:({field:_})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"WhatsApp Number"}),l.jsx(Mt,{children:l.jsx(Qt,{placeholder:"Your WhatsApp Number",..._})}),l.jsx(Fr,{children:"Used for direct WhatsApp messaging"}),l.jsx(xn,{})]})})]}),l.jsx(zt,{control:p.control,name:"bio",render:({field:_})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Bio"}),l.jsx(Mt,{children:l.jsx(od,{placeholder:"Tell others a bit about yourself...",className:"resize-none",..._})}),l.jsx(Fr,{children:"Maximum 500 characters"}),l.jsx(xn,{})]})}),l.jsx(zt,{control:p.control,name:"isAnonymousSeller",render:({field:_})=>l.jsxs(Dt,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(jt,{className:"text-base",children:"Anonymous Seller"}),l.jsx(Fr,{children:"Hide your identity when selling items"})]}),l.jsx(Mt,{children:l.jsx(mi,{checked:_.value,onCheckedChange:_.onChange})})]})}),l.jsx(Fe,{type:"submit",className:"w-full",disabled:c,children:c?"Updating...":"Update Profile"})]})})})]})}),l.jsx(Xs,{value:"listings",children:l.jsxs(Ot,{children:[l.jsxs(en,{children:[l.jsx(rn,{children:"My Listings"}),l.jsx(Nr,{children:"Manage your product listings"})]}),l.jsx(qt,{children:g&&g.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(_=>l.jsx(th,{product:_,variant:"horizontal"},_.id))}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(kp,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-medium",children:"No listings yet"}),l.jsx("p",{className:"text-gray-500 mt-1",children:"Start selling by adding your first listing"}),l.jsx(Fe,{className:"mt-4",children:"Add New Listing"})]})})]})}),l.jsx(Xs,{value:"purchases",children:l.jsxs(Ot,{children:[l.jsxs(en,{children:[l.jsx(rn,{children:"Purchase History"}),l.jsx(Nr,{children:"View your past purchases"})]}),l.jsx(qt,{children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(N1,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-medium",children:"No purchase history"}),l.jsx("p",{className:"text-gray-500 mt-1",children:"Your purchase history will appear here"})]})})]})}),l.jsx(Xs,{value:"settings",children:l.jsxs(Ot,{children:[l.jsxs(en,{children:[l.jsx(rn,{children:"Account Settings"}),l.jsx(Nr,{children:"Manage your account settings and preferences"})]}),l.jsx(qt,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col space-y-1",children:[l.jsx("h3",{className:"font-medium",children:"Email Notifications"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Configure your email notification preferences"}),l.jsxs("div",{className:"mt-2 space-y-2",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(mi,{id:"new-messages"}),l.jsx("label",{htmlFor:"new-messages",className:"text-sm font-medium",children:"New messages"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(mi,{id:"new-bids"}),l.jsx("label",{htmlFor:"new-bids",className:"text-sm font-medium",children:"New bids"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(mi,{id:"sold-items"}),l.jsx("label",{htmlFor:"sold-items",className:"text-sm font-medium",children:"Sold items"})]})]})]}),l.jsx(Ll,{}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"font-medium",children:"Privacy Settings"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Manage your privacy preferences"}),l.jsx("div",{className:"mt-2 space-y-2",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(mi,{id:"profile-visibility"}),l.jsx("label",{htmlFor:"profile-visibility",className:"text-sm font-medium",children:"Public profile visibility"})]})})]}),l.jsx(Ll,{}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"font-medium text-red-500",children:"Danger Zone"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Permanently delete your account and all of your content"}),l.jsx(Fe,{variant:"destructive",className:"mt-2",children:"Delete Account"})]})]})})]})})]})})]})})}function jce(t){const e=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(t.url)}&quote=${encodeURIComponent(t.text)}`;fm(e,"Facebook")}function Rce(t){var r;const e=((r=t.hashtags)==null?void 0:r.join(","))||"UniMarket",n=`https://twitter.com/intent/tweet?text=${encodeURIComponent(t.text)}&url=${encodeURIComponent(t.url)}&hashtags=${encodeURIComponent(e)}`;fm(n,"Twitter")}function Lce(t){const e=`${t.text} ${t.url}`,n=`https://wa.me/?text=${encodeURIComponent(e)}`;fm(n,"WhatsApp")}function Oce(t){const e=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(t.url)}`;fm(e,"LinkedIn")}function Dce(t){if(!t.image){console.error("Pinterest sharing requires an image URL");return}const e=`https://pinterest.com/pin/create/button/?url=${encodeURIComponent(t.url)}&media=${encodeURIComponent(t.image)}&description=${encodeURIComponent(t.text)}`;fm(e,"Pinterest")}function Mce(t){const e=`https://t.me/share/url?url=${encodeURIComponent(t.url)}&text=${encodeURIComponent(t.text)}`;fm(e,"Telegram")}async function Fce(t){if(!navigator.share)throw new Error("Web Share API not supported");try{await navigator.share({title:t.title,text:t.text,url:t.url})}catch(e){throw console.error("Error sharing content:",e),e}}function Vce(){return typeof navigator<"u"&&!!navigator.share}async function Uce(t){try{await navigator.clipboard.writeText(t)}catch(e){throw console.error("Failed to copy:",e),e}}function Bce(t,e,n="social_share"){const r=new URL(t);return r.searchParams.append("utm_source",e),r.searchParams.append("utm_medium","social"),r.searchParams.append("utm_campaign",n),r.toString()}function fm(t,e){const s=window.innerWidth/2-300,i=window.innerHeight/2-400/2;window.open(t,e,`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes, copyhistory=no, width=600, height=400, top=${i}, left=${s}`)}function zce(t){return Vw({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"},child:[]}]})(t)}function qce(t){return Vw({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"},child:[]}]})(t)}function kI(t){return Vw({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function i9({isOpen:t,onClose:e,product:n}){const[r,s]=E.useState(`Check out this amazing product: ${n.title} for ₹${n.price} on UniMarket!`),[i,o]=E.useState("quick-share"),a=()=>`${window.location.origin}/product-detail?id=${n.id}`,c=u=>{const d={title:n.title,text:r,url:Bce(a(),u),image:n.images&&n.images.length>0?n.images[0]:void 0,hashtags:["UniMarket","StudentMarketplace","University",n.categoryName||"Products"]};try{switch(u){case"facebook":jce(d);break;case"twitter":Rce(d);break;case"whatsapp":Lce(d);break;case"linkedin":Oce(d);break;case"telegram":Mce(d);break;case"pinterest":n.images&&n.images.length>0?Dce(d):Td({title:"Image Required",description:"Pinterest sharing requires at least one product image.",variant:"destructive"});break;case"copy":Uce(a()).then(()=>{Td({title:"Link Copied!",description:"Product link copied to clipboard"})}).catch(()=>{Td({title:"Failed to Copy",description:"Could not copy the link to clipboard.",variant:"destructive"})});break;case"native":Vce()?Fce(d).catch(h=>{console.error("Web Share API error:",h),Td({title:"Sharing Failed",description:"Could not share using your device. Try another method.",variant:"destructive"})}):(Td({title:"Not Supported",description:"Web Share API is not supported on this device.",variant:"destructive"}),o("social"));break;default:break}}catch(h){console.error(`Error sharing to ${u}:`,h),Td({title:"Sharing Failed",description:`Could not share to ${u}. Please try another option.`,variant:"destructive"})}};return l.jsx(Pu,{open:t,onOpenChange:u=>!u&&e(),children:l.jsxs(ql,{className:"sm:max-w-[525px]",children:[l.jsx($l,{children:l.jsxs(Wl,{className:"flex items-center gap-2",children:[l.jsx(Kq,{className:"h-5 w-5"}),"Share Your Product"]})}),l.jsxs(oy,{value:i,onValueChange:o,className:"w-full",children:[l.jsxs(hm,{className:"grid w-full grid-cols-3",children:[l.jsx(Qs,{value:"quick-share",children:"Quick Share"}),l.jsx(Qs,{value:"social",children:"Social Media"}),l.jsx(Qs,{value:"customize",children:"Customize"})]}),l.jsxs(Xs,{value:"quick-share",className:"space-y-4 pt-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-center gap-4 py-2",children:[l.jsx(Fe,{variant:"outline",size:"icon",className:"h-14 w-14 rounded-full",onClick:()=>c("whatsapp"),children:l.jsx(kI,{className:"h-6 w-6 text-green-600"})}),l.jsx(Fe,{variant:"outline",size:"icon",className:"h-14 w-14 rounded-full",onClick:()=>c("copy"),children:l.jsx(NC,{className:"h-6 w-6 text-gray-600"})}),l.jsx(Fe,{variant:"outline",size:"icon",className:"h-14 w-14 rounded-full",onClick:()=>c("native"),children:l.jsx(bg,{className:"h-6 w-6 text-indigo-600"})})]}),l.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Share via WhatsApp, copy the link, or use your device's share feature"})]}),l.jsx("div",{className:"rounded-md bg-secondary p-3",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"h-12 w-12 overflow-hidden rounded-md",children:n.images&&n.images.length>0?l.jsx("img",{src:n.images[0],alt:n.title,className:"h-full w-full object-cover"}):l.jsx("div",{className:"flex h-full w-full items-center justify-center bg-muted",children:l.jsx(Bq,{className:"h-6 w-6 text-muted-foreground"})})}),l.jsxs("div",{className:"flex-1 space-y-1",children:[l.jsx("p",{className:"font-medium",children:n.title}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["₹",n.price/100," · ",n.categoryName||"Product"]})]})]})})]}),l.jsx(Xs,{value:"social",className:"space-y-4 pt-4",children:l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs(Fe,{variant:"outline",className:"flex h-20 flex-col items-center justify-center gap-1",onClick:()=>c("facebook"),children:[l.jsx(Mq,{className:"h-8 w-8 text-blue-600"}),l.jsx("span",{className:"text-xs",children:"Facebook"})]}),l.jsxs(Fe,{variant:"outline",className:"flex h-20 flex-col items-center justify-center gap-1",onClick:()=>c("twitter"),children:[l.jsx(Zq,{className:"h-8 w-8 text-sky-500"}),l.jsx("span",{className:"text-xs",children:"Twitter"})]}),l.jsxs(Fe,{variant:"outline",className:"flex h-20 flex-col items-center justify-center gap-1",onClick:()=>c("whatsapp"),children:[l.jsx(kI,{className:"h-8 w-8 text-green-600"}),l.jsx("span",{className:"text-xs",children:"WhatsApp"})]}),l.jsxs(Fe,{variant:"outline",className:"flex h-20 flex-col items-center justify-center gap-1",onClick:()=>c("telegram"),children:[l.jsx(qce,{className:"h-8 w-8 text-blue-500"}),l.jsx("span",{className:"text-xs",children:"Telegram"})]}),l.jsxs(Fe,{variant:"outline",className:"flex h-20 flex-col items-center justify-center gap-1",onClick:()=>c("linkedin"),children:[l.jsx(qq,{className:"h-8 w-8 text-blue-700"}),l.jsx("span",{className:"text-xs",children:"LinkedIn"})]}),l.jsxs(Fe,{variant:"outline",className:"flex h-20 flex-col items-center justify-center gap-1",onClick:()=>c("pinterest"),children:[l.jsx(zce,{className:"h-8 w-8 text-red-600"}),l.jsx("span",{className:"text-xs",children:"Pinterest"})]})]})}),l.jsx(Xs,{value:"customize",className:"space-y-4 pt-4",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(Ks,{htmlFor:"share-message",children:"Customize Your Message"}),l.jsx(od,{id:"share-message",placeholder:"Enter your custom share message",value:r,onChange:u=>s(u.target.value),className:"min-h-[80px]"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx(Ks,{htmlFor:"share-link",children:"Share Link"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Qt,{id:"share-link",value:a(),readOnly:!0,className:"flex-1"}),l.jsx(Fe,{variant:"secondary",size:"icon",onClick:()=>c("copy"),children:l.jsx(NC,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"pt-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Preview:"}),l.jsxs("div",{className:"rounded-md border p-3",children:[l.jsx("p",{className:"text-sm",children:r}),l.jsx("p",{className:"mt-2 text-xs text-blue-600 underline",children:a()})]})]})]})})]}),l.jsxs(Fw,{className:"flex items-center justify-between sm:justify-between",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Sharing helps you sell faster!"}),l.jsx(Fe,{onClick:e,children:"Done"})]})]})})}const $ce=em("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o9=E.forwardRef(({className:t,variant:e,...n},r)=>l.jsx("div",{ref:r,role:"alert",className:Xe($ce({variant:e}),t),...n}));o9.displayName="Alert";const a9=E.forwardRef(({className:t,...e},n)=>l.jsx("h5",{ref:n,className:Xe("mb-1 font-medium leading-none tracking-tight",t),...e}));a9.displayName="AlertTitle";const l9=E.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Xe("text-sm [&_p]:leading-relaxed",t),...e}));l9.displayName="AlertDescription";function Wce(){var te;const[,t]=KB("/product/:id"),e=t==null?void 0:t.id,{user:n}=Yi(),{toast:r}=Si(),[s,i]=E.useState(0),[o,a]=E.useState(""),[c,u]=E.useState(""),[d,h]=E.useState(!1),[p,g]=E.useState(!1),[b,w]=E.useState(!1),[_,x]=E.useState(!1),{data:v,isLoading:N,refetch:R}=Qr({queryKey:["product",e],queryFn:async()=>{if(!e)return null;const re=await jw(e);return console.log("Fetched product data:",re),re},enabled:!!e}),{data:M,isLoading:$,refetch:I}=Qr({queryKey:["bids",e],queryFn:async()=>e?await VE(e):[],enabled:!!e&&!!(v!=null&&v.isBidding)}),P=M&&M.length>0?M[0].amount:0,[L,F]=E.useState([]),[k,T]=E.useState(!1);E.useEffect(()=>{async function re(){if(v!=null&&v.categoryId&&(v!=null&&v.id)){T(!0);try{const{getProducts:Ee}=await dv(async()=>{const{getProducts:J}=await Promise.resolve().then(()=>gM);return{getProducts:J}},void 0),{products:B}=await Ee({categoryId:v.categoryId,limit:5,isSold:!1}),Q=B.filter(J=>J.id!==v.id).slice(0,4);F(Q)}catch(Ee){console.error("Error fetching similar products:",Ee),F([])}finally{T(!1)}}}re()},[v]);const O=async()=>{if(!n){r({title:"Authentication required",description:"Please log in to place a bid",variant:"destructive"});return}if(!o||isNaN(parseFloat(o))){r({title:"Invalid bid",description:"Please enter a valid bid amount",variant:"destructive"});return}const re=parseFloat(o)*100;if(re<=P){r({title:"Bid too low",description:`Your bid must be higher than the current highest bid ($${(P/100).toFixed(2)})`,variant:"destructive"});return}h(!0);try{await FE(e,n.uid,re),await I(),a(""),r({title:"Bid placed",description:"Your bid has been placed successfully"})}catch(Ee){console.error("Error placing bid:",Ee),r({title:"Error",description:"Failed to place bid. Please try again.",variant:"destructive"})}finally{h(!1)}},[G,ue]=E.useState(!1),ie=async()=>{if(!n){r({title:"Authentication required",description:"Please log in to message the seller",variant:"destructive"});return}if(!c.trim()){r({title:"Empty message",description:"Please enter a message to send",variant:"destructive"});return}if(!v||!v.userId){r({title:"Error",description:"Seller information is unavailable",variant:"destructive"});return}g(!0);try{await Rw(n.uid,v.userId,c,e),u(""),r({title:"Message sent",description:"Your message has been sent to the seller"})}catch(re){console.error("Error sending message:",re),r({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}finally{g(!1)}},fe=()=>{if(!(v!=null&&v.whatsappNumber)){r({title:"WhatsApp unavailable",description:"This seller has not provided a WhatsApp number",variant:"destructive"});return}try{const re=v.whatsappNumber.replace(/\D/g,""),Ee=`Hi, I'm interested in your product "${v.title}" on UniMarket.`,B=`https://wa.me/${re}?text=${encodeURIComponent(Ee)}`;window.open(B,"_blank","noopener,noreferrer"),console.log(`Opening WhatsApp with number: ${re}`)}catch(re){console.error("Error opening WhatsApp:",re),r({title:"WhatsApp Error",description:"There was a problem opening WhatsApp. Please try copying the seller's number manually.",variant:"destructive"})}};if(N)return l.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:l.jsxs("div",{className:"md:flex",children:[l.jsxs("div",{className:"md:w-1/2 md:pr-4",children:[l.jsx("div",{className:"relative pb-[75%] mb-2 rounded-lg overflow-hidden border border-gray-200",children:l.jsx(Et,{className:"absolute h-full w-full"})}),l.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:[1,2,3].map((re,Ee)=>l.jsx(Et,{className:"flex-none w-16 h-16 rounded-md"},Ee))})]}),l.jsxs("div",{className:"md:w-1/2 mt-4 md:mt-0",children:[l.jsx(Et,{className:"h-8 w-2/3 mb-1"}),l.jsx(Et,{className:"h-4 w-1/3 mb-4"}),l.jsx(Et,{className:"h-8 w-1/4 mb-2"}),l.jsx(Et,{className:"h-4 w-3/4 mb-4"}),l.jsx(Et,{className:"h-36 w-full mb-4"}),l.jsx(Et,{className:"h-10 w-full mb-2"}),l.jsx(Et,{className:"h-10 w-full"})]})]})});if(!v)return l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 text-center",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Product Not Found"}),l.jsx("p",{children:"The product you're looking for doesn't exist or has been removed."})]});const Y=n&&n.uid===v.userId;return l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[l.jsxs("div",{className:"md:flex",children:[l.jsxs("div",{className:"md:w-1/2 md:pr-4",children:[l.jsx("div",{className:"relative pb-[75%] mb-2 rounded-lg overflow-hidden border border-gray-200",children:l.jsx("img",{src:v.images[s],alt:v.title,className:"absolute h-full w-full object-cover"})}),l.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:v.images.map((re,Ee)=>l.jsx("button",{className:`flex-none w-16 h-16 rounded-md overflow-hidden border-2 ${s===Ee?"border-primary":"border-gray-200"}`,onClick:()=>i(Ee),children:l.jsx("img",{src:re,alt:`Thumbnail ${Ee+1}`,className:"h-full w-full object-cover"})},Ee))})]}),l.jsxs("div",{className:"md:w-1/2 mt-4 md:mt-0",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:v.title}),l.jsxs("p",{className:"text-gray-500 text-sm",children:[v.categoryName," ",v.subcategory&&`• ${v.subcategory}`]}),v.isSold&&l.jsxs(hr,{variant:"destructive",className:"mt-1",children:[l.jsx(aR,{className:"h-3 w-3 mr-1"}),"Sold"]})]}),l.jsxs("div",{className:"flex space-x-1",children:[Y&&l.jsx(Fe,{variant:"ghost",size:"icon",className:"text-gray-400 hover:text-blue-500",onClick:()=>w(!0),children:l.jsx(Yg,{className:"h-5 w-5"})}),l.jsx(Fe,{variant:"ghost",size:"icon",className:"text-gray-400 hover:text-red-500",children:l.jsx(E1,{className:"h-5 w-5"})}),l.jsx(Fe,{variant:"ghost",size:"icon",className:"text-gray-400 hover:text-blue-500",onClick:()=>x(!0),children:l.jsx(bg,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("p",{className:"text-2xl font-bold text-primary",children:["₹",(v.price/100).toFixed(2)]}),v.isBidding&&P>0&&l.jsxs("p",{className:"text-sm text-gray-600",children:["Current highest bid: ₹",(P/100).toFixed(2)]}),v.sellerRating&&l.jsxs("div",{className:"flex items-center mt-1",children:[[...Array(5)].map((re,Ee)=>l.jsx(oR,{className:`h-4 w-4 ${Ee<Math.round(v.sellerRating)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},Ee)),l.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["Seller rating (",v.sellerRating,"/5)"]})]})]}),l.jsxs(oy,{defaultValue:"description",className:"mt-4",children:[l.jsxs(hm,{children:[l.jsx(Qs,{value:"description",children:"Description"}),l.jsx(Qs,{value:"details",children:"Details"})]}),l.jsx(Xs,{value:"description",className:"pt-2",children:l.jsx("p",{className:"text-gray-600 text-sm",children:v.description})}),l.jsx(Xs,{value:"details",className:"pt-2",children:l.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Condition:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:v.condition})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Posted:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:fv(new Date(v.createdAt),"MMM d, yyyy")})]}),v.isbn&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"ISBN:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:v.isbn})]}),v.location&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Location:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:v.location})]})]})})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("h3",{className:"font-medium",children:"Seller"}),l.jsxs("div",{className:"flex items-center mt-2",children:[l.jsxs(ch,{className:"h-10 w-10",children:[l.jsx(uh,{src:v.sellerPhotoURL,alt:"Seller"}),l.jsx(dh,{children:((te=v.sellerName)==null?void 0:te.charAt(0))||"S"})]}),l.jsxs("div",{className:"ml-3",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:v.isAnonymousSeller?"Anonymous Seller":v.sellerName}),v.sellerYearLevel&&v.sellerUniversity&&l.jsxs("p",{className:"text-xs text-gray-500",children:[v.sellerUniversity,", ",v.sellerYearLevel]})]})]})]}),v.isBidding?l.jsxs("div",{className:"mt-6",children:[l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Qt,{type:"number",placeholder:"Enter bid amount",value:o,onChange:re=>a(re.target.value),className:"flex-1",min:P/100+.01,step:"0.01"}),l.jsxs(Fe,{onClick:O,disabled:d,className:"whitespace-nowrap",children:[l.jsx(xg,{className:"h-4 w-4 mr-2"}),"Place Bid"]})]}),$?l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading bids..."}):M&&M.length>0?l.jsx("div",{className:"mt-2",children:l.jsxs("p",{className:"text-sm text-gray-600",children:[M.length," bid(s) so far"]})}):l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No bids yet. Be the first!"})]}):l.jsxs("div",{className:"mt-6 flex flex-col space-y-3",children:[G&&l.jsxs(o9,{className:"bg-green-50 border-green-200",children:[l.jsx(nR,{className:"h-4 w-4 text-green-600"}),l.jsx(a9,{className:"text-green-800",children:"Seller Contact"}),l.jsx(l9,{className:"text-green-700",children:l.jsxs("div",{className:"font-medium",children:["Phone/WhatsApp: ",v.whatsappNumber||"Not provided"]})})]}),Y?l.jsxs(Fe,{onClick:()=>w(!0),className:"w-full",children:[l.jsx(Yg,{className:"h-4 w-4 mr-2"}),"Edit Product Listing"]}):l.jsxs(Fe,{onClick:fe,disabled:v.isSold||!v.whatsappNumber,className:"w-full",children:[l.jsx(H2,{className:"h-4 w-4 mr-2"}),v.isSold?"Sold Out":"Contact Seller on WhatsApp"]})]}),l.jsx("div",{className:"mt-3 flex flex-col space-y-3",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Qt,{placeholder:"Message the seller...",value:c,onChange:re=>u(re.target.value),className:"flex-1"}),l.jsx(Fe,{variant:"outline",onClick:ie,disabled:p,className:"self-end",children:"Send"})]})})]})]}),v&&b&&l.jsx(X0,{isOpen:b,onClose:()=>{w(!1),R()},product:v}),v&&l.jsx(i9,{isOpen:_,onClose:()=>x(!1),product:{id:v.id,title:v.title,price:v.price,description:v.description,images:v.images,categoryName:v.categoryName}})]})}function jI(){const e=h3().id,[n,r]=E.useState(""),{data:s,isLoading:i}=Qr({queryKey:["categories"],queryFn:Lh}),o=s==null?void 0:s.find(a=>a.id===e);return l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[l.jsx("div",{className:"md:hidden mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(Qt,{type:"text",placeholder:"Search for items...",className:"w-full pl-10 pr-4 py-2",value:n,onChange:a=>r(a.target.value)}),l.jsx("div",{className:"absolute left-3 top-2.5 text-gray-400",children:l.jsx(G2,{className:"h-4 w-4"})})]})}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:e?`${(o==null?void 0:o.name)||e.charAt(0).toUpperCase()+e.slice(1)} Category`:"All Categories"}),(o==null?void 0:o.description)&&l.jsx("p",{className:"text-gray-600 mb-4",children:o.description}),!e&&l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Browse Categories"}),i?l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:Array(8).fill(0).map((a,c)=>l.jsx(Et,{className:"h-24"},c))}):l.jsx(F_,{variant:"grid"})]})]}),e&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"All Categories"}),l.jsx(F_,{selectedCategoryId:e})]}),l.jsx("div",{className:"mt-8",children:l.jsx(sS,{categoryId:e,showLoadMore:!0,searchQuery:n})})]})}const Hce=g4({title:vi().min(5,{message:"Title must be at least 5 characters"}).max(100),description:vi().min(10,{message:"Description must be at least 10 characters"}),price:vi().refine(t=>!isNaN(parseFloat(t))&&parseFloat(t)>0,{message:"Price must be a positive number"}),condition:vi().min(1,{message:"Please select a condition"}),categoryId:vi().min(1,{message:"Please select a category"}),location:vi().optional(),isBidding:Tv().default(!1)});function Gce({isOpen:t,onClose:e}){const{user:n}=Yi(),{toast:r}=Si(),[s,i]=E.useState([]),[o,a]=E.useState(!1),c=E.useRef(null),u=Iu({resolver:ku(Hce),defaultValues:{title:"",description:"",price:"",condition:"",categoryId:"",location:"",isBidding:!1}}),{data:d}=Qr({queryKey:["categories"],queryFn:Lh}),h=async b=>{const w=b.target.files;if(!w||!n)return;const _=5-s.length;if(_<=0){r({title:"Maximum images reached",description:"You can upload a maximum of 5 images per listing.",variant:"destructive"});return}const x=Array.from(w).slice(0,_);if(x.length!==0){a(!0);try{const v=await DE(x,n.uid);i([...s,...v]),r({title:"Images uploaded",description:`Successfully uploaded ${v.length} image(s)`}),w.length>_&&r({title:"Some images were skipped",description:`Only ${_} out of ${w.length} images were uploaded due to the 5 image limit.`})}catch(v){console.error("Error uploading images:",v),r({title:"Upload failed",description:v.message==="File too large"?"Maximum file size is 10MB":"Failed to upload images. Please try again.",variant:"destructive"})}finally{a(!1),c.current&&(c.current.value="")}}},p=b=>{const w=[...s];w.splice(b,1),i(w)},g=async b=>{if(!n){r({title:"Authentication required",description:"Please log in to create a listing",variant:"destructive"});return}if(s.length===0){r({title:"Images required",description:"Please upload at least one image",variant:"destructive"});return}const w={title:b.title,description:b.description,price:parseFloat(b.price)*100,condition:b.condition,images:s,location:b.location,isBidding:b.isBidding,categoryId:b.categoryId};try{await ME(w,n.uid),S1.invalidateQueries({queryKey:["products"]}),r({title:"Product listed",description:"Your item has been listed successfully"}),u.reset(),i([]),e()}catch(_){console.error("Error creating product:",_),r({title:"Error",description:"Failed to create listing. Please try again.",variant:"destructive"})}};return l.jsx(Pu,{open:t,onOpenChange:e,children:l.jsxs(ql,{className:"sm:max-w-[600px] max-h-[90vh]",children:[l.jsxs($l,{children:[l.jsx(Wl,{children:"List an Item for Sale"}),l.jsx(Zd,{})]}),l.jsx(p4,{className:"max-h-[70vh] pr-4",children:l.jsx(ju,{...u,children:l.jsxs("form",{onSubmit:u.handleSubmit(g),className:"space-y-6",children:[l.jsx(zt,{control:u.control,name:"title",render:({field:b})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Title"}),l.jsx(Mt,{children:l.jsx(Qt,{placeholder:"e.g. Calculus Textbook 8th Edition",...b})}),l.jsx(xn,{})]})}),l.jsx(zt,{control:u.control,name:"description",render:({field:b})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Description"}),l.jsx(Mt,{children:l.jsx(od,{placeholder:"Describe your item in detail",rows:3,...b})}),l.jsx(xn,{})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(zt,{control:u.control,name:"price",render:({field:b})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Price (₹)"}),l.jsx(Mt,{children:l.jsx(Qt,{type:"number",placeholder:"0.00",step:"0.01",min:"0",...b})}),l.jsx(xn,{})]})}),l.jsx(zt,{control:u.control,name:"condition",render:({field:b})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Condition"}),l.jsxs(Ko,{onValueChange:b.onChange,defaultValue:b.value,children:[l.jsx(Mt,{children:l.jsx(uo,{children:l.jsx(Yo,{placeholder:"Select condition"})})}),l.jsxs(ho,{children:[l.jsx(Gt,{value:"new",children:"New"}),l.jsx(Gt,{value:"like-new",children:"Like New"}),l.jsx(Gt,{value:"good",children:"Good"}),l.jsx(Gt,{value:"fair",children:"Fair"}),l.jsx(Gt,{value:"poor",children:"Poor"})]})]}),l.jsx(xn,{})]})})]}),l.jsx(zt,{control:u.control,name:"categoryId",render:({field:b})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Category"}),l.jsxs(Ko,{onValueChange:b.onChange,defaultValue:b.value,children:[l.jsx(Mt,{children:l.jsx(uo,{children:l.jsx(Yo,{placeholder:"Select category"})})}),l.jsx(ho,{children:d==null?void 0:d.map(w=>l.jsx(Gt,{value:w.id,children:w.name},w.id))})]}),l.jsx(xn,{})]})}),l.jsx(zt,{control:u.control,name:"location",render:({field:b})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Location (Optional)"}),l.jsx(Mt,{children:l.jsx(Qt,{placeholder:"e.g. North Campus",...b})}),l.jsx(xn,{})]})}),l.jsx(zt,{control:u.control,name:"isBidding",render:({field:b})=>l.jsxs(Dt,{className:"flex flex-row items-start space-x-3 space-y-0",children:[l.jsx(Mt,{children:l.jsx(mv,{checked:b.value,onCheckedChange:b.onChange})}),l.jsx("div",{className:"space-y-1 leading-none",children:l.jsx(jt,{children:"Allow bidding on this item"})})]})}),l.jsxs("div",{children:[l.jsx(jt,{children:"Images"}),l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.length," of 5 images"]}),s.length>=5&&l.jsx("p",{className:"text-sm text-orange-500",children:"Maximum limit reached"})]}),l.jsxs("div",{className:"mt-2 flex flex-wrap gap-4",children:[s.map((b,w)=>l.jsxs("div",{className:"relative w-24 h-24 rounded-md overflow-hidden border border-gray-200",children:[l.jsx("img",{src:b,alt:`Product ${w}`,className:"w-full h-full object-cover"}),l.jsx(Fe,{variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-5 w-5",onClick:()=>p(w),type:"button",children:l.jsx(ls,{className:"h-3 w-3"})})]},w)),s.length<5&&l.jsx(Fe,{type:"button",variant:"outline",className:"w-24 h-24 flex flex-col items-center justify-center border-dashed",onClick:()=>{var b;return(b=c.current)==null?void 0:b.click()},disabled:o,children:o?l.jsx("div",{className:"animate-spin h-5 w-5 border-b-2 rounded-full border-primary"}):l.jsxs(l.Fragment,{children:[l.jsx(Qd,{className:"h-4 w-4 mb-1"}),l.jsx("span",{className:"text-xs",children:"Add Image"})]})}),l.jsx("input",{type:"file",className:"hidden",accept:"image/*",multiple:!0,onChange:h,ref:c})]}),s.length===0&&l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Please upload at least one image"})]}),l.jsx(Fw,{children:l.jsx(Fe,{type:"submit",children:"Create Listing"})})]})})})]})})}function Kce(){const{user:t,isLoading:e}=Yi(),[n,r]=E.useState("active"),[s,i]=E.useState(!1),[o,a]=E.useState(!1),[c,u]=E.useState(!1),[d,h]=E.useState(null),{data:p,isLoading:g}=Qr({queryKey:["myListings",t==null?void 0:t.uid,"active"],queryFn:async()=>t?(await ta({userId:t.uid,isSold:!1})).products||[]:[],enabled:!!t}),{data:b,isLoading:w}=Qr({queryKey:["myListings",t==null?void 0:t.uid,"sold"],queryFn:async()=>t?(await ta({userId:t.uid,isSold:!0})).products||[]:[],enabled:!!t}),{data:_,isLoading:x}=Qr({queryKey:["myListings",t==null?void 0:t.uid,"bidding"],queryFn:async()=>{var M;return t?((M=(await ta({userId:t.uid})).products)==null?void 0:M.filter($=>$.isBidding))||[]:[]},enabled:!!t}),v=n==="active"&&g||n==="sold"&&w||n==="bidding"&&x;return!e&&!t?l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[l.jsxs(Ot,{className:"max-w-md mx-auto",children:[l.jsxs(en,{children:[l.jsx(rn,{children:"Sign in to UniMarket"}),l.jsx(Nr,{children:"You need to be logged in to view and manage your listings"})]}),l.jsx(Tu,{children:l.jsxs("div",{className:"flex gap-4 w-full",children:[l.jsx(Fe,{className:"flex-1",onClick:()=>a(!0),children:"Login"}),l.jsx(Fe,{variant:"outline",className:"flex-1",onClick:()=>u(!0),children:"Sign Up"})]})})]}),l.jsx(ua,{isOpen:o,onClose:()=>a(!1),openSignup:()=>{a(!1),u(!0)}}),l.jsx(cc,{isOpen:c,onClose:()=>u(!1),openLogin:()=>{u(!1),a(!0)}})]}):e?l.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12 flex justify-center",children:l.jsx("div",{className:"animate-spin h-12 w-12 border-b-2 border-primary rounded-full"})}):l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"My Listings"}),l.jsxs(Fe,{onClick:()=>i(!0),children:[l.jsx(Qd,{className:"h-4 w-4 mr-2"})," Add Listing"]})]}),l.jsxs(Ot,{children:[l.jsx(en,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(rn,{children:"Your Items"}),l.jsx(Nr,{children:"Manage your product listings"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(hr,{variant:"outline",className:"flex gap-1",children:[l.jsx(kp,{className:"h-4 w-4"}),(p==null?void 0:p.length)||0," Active"]}),l.jsxs(hr,{variant:"outline",className:"flex gap-1",children:[l.jsx(Su,{className:"h-4 w-4"}),(b==null?void 0:b.length)||0," Sold"]}),l.jsxs(hr,{variant:"outline",className:"flex gap-1",children:[l.jsx(xg,{className:"h-4 w-4"}),(_==null?void 0:_.length)||0," Bidding"]})]})]})}),l.jsx(qt,{children:l.jsxs(oy,{value:n,onValueChange:r,children:[l.jsxs(hm,{className:"mb-4",children:[l.jsxs(Qs,{value:"active",children:[l.jsx(kp,{className:"h-4 w-4 mr-2"})," Active"]}),l.jsxs(Qs,{value:"sold",children:[l.jsx(Su,{className:"h-4 w-4 mr-2"})," Sold"]}),l.jsxs(Qs,{value:"bidding",children:[l.jsx(xg,{className:"h-4 w-4 mr-2"})," Bidding"]})]}),l.jsx(Xs,{value:"active",children:v?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2].map(N=>l.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:l.jsxs("div",{className:"flex",children:[l.jsx(Et,{className:"w-1/3 h-40"}),l.jsxs("div",{className:"w-2/3 p-4 space-y-3",children:[l.jsx(Et,{className:"h-6 w-3/4"}),l.jsx(Et,{className:"h-4 w-1/2"}),l.jsx(Et,{className:"h-4 w-1/4"})]})]})},N))}):p&&p.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map(N=>l.jsxs("div",{className:"relative group border rounded-lg overflow-hidden hover:shadow-md transition-all",children:[l.jsx(th,{product:N,variant:"horizontal",isOwner:!0}),l.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Fe,{variant:"secondary",size:"icon",className:"h-8 w-8 rounded-full bg-white/90 shadow-sm hover:bg-white",onClick:R=>{R.preventDefault(),R.stopPropagation(),h(N)},children:l.jsx(bg,{className:"h-4 w-4"})})})]},N.id))}):l.jsxs("div",{className:"text-center py-12 border border-dashed border-gray-300 rounded-lg",children:[l.jsx(lR,{className:"h-12 w-12 mx-auto text-yellow-500 mb-4"}),l.jsx("h3",{className:"text-lg font-medium",children:"No active listings"}),l.jsx("p",{className:"text-gray-500 mt-1 mb-4",children:"You don't have any active listings yet"}),l.jsxs(Fe,{onClick:()=>i(!0),children:[l.jsx(Qd,{className:"h-4 w-4 mr-2"})," Add New Listing"]})]})}),l.jsx(Xs,{value:"sold",children:v?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2].map(N=>l.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:l.jsxs("div",{className:"flex",children:[l.jsx(Et,{className:"w-1/3 h-40"}),l.jsxs("div",{className:"w-2/3 p-4 space-y-3",children:[l.jsx(Et,{className:"h-6 w-3/4"}),l.jsx(Et,{className:"h-4 w-1/2"}),l.jsx(Et,{className:"h-4 w-1/4"})]})]})},N))}):b&&b.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.map(N=>l.jsxs("div",{className:"relative group border rounded-lg overflow-hidden hover:shadow-md transition-all",children:[l.jsx(th,{product:N,variant:"horizontal",isOwner:!0}),l.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Fe,{variant:"secondary",size:"icon",className:"h-8 w-8 rounded-full bg-white/90 shadow-sm hover:bg-white",onClick:R=>{R.preventDefault(),R.stopPropagation(),h(N)},children:l.jsx(bg,{className:"h-4 w-4"})})})]},N.id))}):l.jsxs("div",{className:"text-center py-12 border border-dashed border-gray-300 rounded-lg",children:[l.jsx(Su,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-medium",children:"No sold items yet"}),l.jsx("p",{className:"text-gray-500 mt-1",children:"Items you've sold will appear here"})]})}),l.jsx(Xs,{value:"bidding",children:v?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2].map(N=>l.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:l.jsxs("div",{className:"flex",children:[l.jsx(Et,{className:"w-1/3 h-40"}),l.jsxs("div",{className:"w-2/3 p-4 space-y-3",children:[l.jsx(Et,{className:"h-6 w-3/4"}),l.jsx(Et,{className:"h-4 w-1/2"}),l.jsx(Et,{className:"h-4 w-1/4"})]})]})},N))}):_&&_.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.map(N=>l.jsxs("div",{className:"relative group border rounded-lg overflow-hidden hover:shadow-md transition-all",children:[l.jsx(th,{product:N,variant:"horizontal",isOwner:!0}),l.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Fe,{variant:"secondary",size:"icon",className:"h-8 w-8 rounded-full bg-white/90 shadow-sm hover:bg-white",onClick:R=>{R.preventDefault(),R.stopPropagation(),h(N)},children:l.jsx(bg,{className:"h-4 w-4"})})})]},N.id))}):l.jsxs("div",{className:"text-center py-12 border border-dashed border-gray-300 rounded-lg",children:[l.jsx(xg,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-medium",children:"No bidding items"}),l.jsx("p",{className:"text-gray-500 mt-1 mb-4",children:"You don't have any items open for bidding"}),l.jsxs(Fe,{onClick:()=>i(!0),children:[l.jsx(Qd,{className:"h-4 w-4 mr-2"})," Add Bidding Item"]})]})})]})})]}),l.jsx(Gce,{isOpen:s,onClose:()=>i(!1)}),d&&l.jsx(i9,{isOpen:!!d,onClose:()=>h(null),product:d})]})}const c9=E.forwardRef(({className:t,...e},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:Xe("w-full caption-bottom text-sm",t),...e})}));c9.displayName="Table";const u9=E.forwardRef(({className:t,...e},n)=>l.jsx("thead",{ref:n,className:Xe("[&_tr]:border-b",t),...e}));u9.displayName="TableHeader";const d9=E.forwardRef(({className:t,...e},n)=>l.jsx("tbody",{ref:n,className:Xe("[&_tr:last-child]:border-0",t),...e}));d9.displayName="TableBody";const Yce=E.forwardRef(({className:t,...e},n)=>l.jsx("tfoot",{ref:n,className:Xe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Yce.displayName="TableFooter";const iS=E.forwardRef(({className:t,...e},n)=>l.jsx("tr",{ref:n,className:Xe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));iS.displayName="TableRow";const Ef=E.forwardRef(({className:t,...e},n)=>l.jsx("th",{ref:n,className:Xe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ef.displayName="TableHead";const Af=E.forwardRef(({className:t,...e},n)=>l.jsx("td",{ref:n,className:Xe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Af.displayName="TableCell";const Qce=E.forwardRef(({className:t,...e},n)=>l.jsx("caption",{ref:n,className:Xe("mt-4 text-sm text-muted-foreground",t),...e}));Qce.displayName="TableCaption";function Xce(){const{user:t,isLoading:e}=Yi(),[n,r]=E.useState(!1),[s,i]=E.useState(!1),{data:o,isLoading:a}=Qr({queryKey:["purchases",t==null?void 0:t.uid],queryFn:async()=>{if(!t)return[];const u=await fM(t.uid,"buyer");return await Promise.all(u.map(async h=>{const p=await jw(h.productId);return{...h,product:p}}))},enabled:!!t}),c=async u=>{var d,h;try{await Aae({buyerName:(t==null?void 0:t.displayName)||"Buyer",sellerName:((d=u.product)==null?void 0:d.sellerName)||"Seller",productTitle:((h=u.product)==null?void 0:h.title)||"Product",price:u.amount,date:new Date(u.createdAt),transactionId:u.id})}catch(p){console.error("Error downloading receipt:",p)}};return!e&&!t?l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[l.jsxs(Ot,{className:"max-w-md mx-auto",children:[l.jsxs(en,{children:[l.jsx(rn,{children:"Sign in to UniMarket"}),l.jsx(Nr,{children:"You need to be logged in to view your purchase history"})]}),l.jsx(qt,{children:l.jsxs("div",{className:"flex gap-4",children:[l.jsx(Fe,{className:"flex-1",onClick:()=>r(!0),children:"Login"}),l.jsx(Fe,{variant:"outline",className:"flex-1",onClick:()=>i(!0),children:"Sign Up"})]})})]}),l.jsx(ua,{isOpen:n,onClose:()=>r(!1),openSignup:()=>{r(!1),i(!0)}}),l.jsx(cc,{isOpen:s,onClose:()=>i(!1),openLogin:()=>{i(!1),r(!0)}})]}):e||a?l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[l.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Purchase History"}),l.jsxs(Ot,{children:[l.jsxs(en,{children:[l.jsx(Et,{className:"h-8 w-48 mb-2"}),l.jsx(Et,{className:"h-4 w-64"})]}),l.jsx(qt,{children:l.jsxs("div",{className:"rounded-md border",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b",children:[l.jsx(Et,{className:"h-5 w-24"}),l.jsx(Et,{className:"h-9 w-32"})]}),l.jsxs("div",{className:"p-4",children:[l.jsx(Et,{className:"h-10 w-full mb-4"}),l.jsx(Et,{className:"h-10 w-full mb-4"}),l.jsx(Et,{className:"h-10 w-full"})]})]})})]})]}):l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[l.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Purchase History"}),l.jsxs(Ot,{children:[l.jsxs(en,{children:[l.jsx(rn,{children:"Your Purchases"}),l.jsx(Nr,{children:"View and manage your purchase history"})]}),l.jsx(qt,{children:o&&o.length>0?l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",o.length," purchase",o.length!==1?"s":""]}),l.jsxs(Fe,{variant:"outline",size:"sm",children:[l.jsx(Fq,{className:"h-4 w-4 mr-2"})," Filter"]})]}),l.jsx("div",{className:"rounded-md border",children:l.jsxs(c9,{children:[l.jsx(u9,{children:l.jsxs(iS,{children:[l.jsx(Ef,{children:"Product"}),l.jsx(Ef,{children:"Date"}),l.jsx(Ef,{children:"Seller"}),l.jsx(Ef,{className:"text-right",children:"Amount"}),l.jsx(Ef,{className:"text-right",children:"Receipt"})]})}),l.jsx(d9,{children:o.map(u=>{var d,h,p;return l.jsxs(iS,{children:[l.jsx(Af,{className:"font-medium",children:((d=u.product)==null?void 0:d.title)||"Unknown Product"}),l.jsx(Af,{children:fv(new Date(u.createdAt),"MMM d, yyyy")}),l.jsx(Af,{children:(h=u.product)!=null&&h.isAnonymousSeller?"Anonymous Seller":((p=u.product)==null?void 0:p.sellerName)||"Unknown"}),l.jsxs(Af,{className:"text-right",children:["$",(u.amount/100).toFixed(2)]}),l.jsx(Af,{className:"text-right",children:l.jsxs(Fe,{variant:"ghost",size:"sm",onClick:()=>c(u),children:[l.jsx(Z3,{className:"h-4 w-4 mr-2"}),"Receipt"]})})]},u.id)})})]})})]}):l.jsxs("div",{className:"text-center py-12 border border-dashed border-gray-300 rounded-lg",children:[l.jsx(Su,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-medium",children:"No purchase history"}),l.jsx("p",{className:"text-gray-500 mt-1",children:"You haven't made any purchases yet"}),l.jsx(Fe,{className:"mt-4",variant:"outline",children:"Browse Products"})]})})]})]})}function Zce(){var R;const{user:t,isLoading:e}=Yi(),{toast:n}=Si(),[r,s]=E.useState(null),[i,o]=E.useState(""),[a,c]=E.useState(!1),[u,d]=E.useState(!1),[h,p]=E.useState([]),[g,b]=E.useState(!1),{data:w,isLoading:_,refetch:x}=Qr({queryKey:["messages",t==null?void 0:t.uid],queryFn:async()=>t?await pM(t.uid):[],enabled:!!t});E.useEffect(()=>{if(w){const M=new Map;w.forEach(I=>{const P=I.senderId===(t==null?void 0:t.uid)?I.receiverId:I.senderId;M.has(P)||M.set(P,{userId:P,messages:[],lastMessage:null,unreadCount:0,displayName:I.senderName||I.receiverName||"User",photoURL:I.senderPhotoURL||I.receiverPhotoURL});const L=M.get(P);L.messages.push(I),(!L.lastMessage||new Date(I.createdAt)>new Date(L.lastMessage.createdAt))&&(L.lastMessage=I),I.senderId!==(t==null?void 0:t.uid)&&!I.isRead&&L.unreadCount++});const $=Array.from(M.values()).sort((I,P)=>{var L,F;return new Date((L=P.lastMessage)==null?void 0:L.createdAt).getTime()-new Date((F=I.lastMessage)==null?void 0:F.createdAt).getTime()});p($),$.length>0&&!r&&s($[0].userId)}},[w,t]);const v=async()=>{if(!(!t||!r||!i.trim())){b(!0);try{await Rw(t.uid,r,i),o(""),await x(),n({title:"Message sent",description:"Your message has been sent successfully"})}catch(M){console.error("Error sending message:",M),n({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}finally{b(!1)}}},N=h.find(M=>M.userId===r);return!e&&!t?l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[l.jsxs(Ot,{className:"max-w-md mx-auto",children:[l.jsxs(en,{children:[l.jsx(rn,{children:"Sign in to UniMarket"}),l.jsx(Nr,{children:"You need to be logged in to view and send messages"})]}),l.jsx(qt,{children:l.jsxs("div",{className:"flex gap-4",children:[l.jsx(Fe,{className:"flex-1",onClick:()=>c(!0),children:"Login"}),l.jsx(Fe,{variant:"outline",className:"flex-1",onClick:()=>d(!0),children:"Sign Up"})]})})]}),l.jsx(ua,{isOpen:a,onClose:()=>c(!1),openSignup:()=>{c(!1),d(!0)}}),l.jsx(cc,{isOpen:u,onClose:()=>d(!1),openLogin:()=>{d(!1),c(!0)}})]}):e||_?l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[l.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Messages"}),l.jsxs("div",{className:"flex h-[600px] border rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"w-1/3 border-r",children:[l.jsx("div",{className:"p-4 border-b",children:l.jsx(Et,{className:"h-8 w-full"})}),l.jsx("div",{className:"p-2",children:[1,2,3].map(M=>l.jsxs("div",{className:"p-2 flex items-center space-x-3",children:[l.jsx(Et,{className:"h-10 w-10 rounded-full"}),l.jsxs("div",{className:"space-y-2 flex-1",children:[l.jsx(Et,{className:"h-4 w-1/2"}),l.jsx(Et,{className:"h-3 w-3/4"})]})]},M))})]}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsx("div",{className:"p-4 border-b",children:l.jsx(Et,{className:"h-6 w-1/3"})}),l.jsx("div",{className:"flex-1 p-4 space-y-4",children:[1,2,3].map(M=>l.jsx("div",{className:`flex ${M%2===0?"justify-end":""}`,children:l.jsx(Et,{className:"h-10 w-2/3 rounded-lg"})},M))}),l.jsx("div",{className:"p-4 border-t",children:l.jsx(Et,{className:"h-10 w-full"})})]})]})]}):l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[l.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Messages"}),l.jsxs("div",{className:"flex h-[600px] border rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"w-1/3 border-r",children:[l.jsx("div",{className:"p-4 border-b",children:l.jsx(Qt,{placeholder:"Search messages..."})}),l.jsx("div",{className:"overflow-y-auto h-[calc(600px-65px)]",children:h.length>0?h.map(M=>{var $;return l.jsxs("div",{className:`p-3 flex items-center space-x-3 cursor-pointer hover:bg-gray-50 
                    ${r===M.userId?"bg-gray-100":""}`,onClick:()=>s(M.userId),children:[l.jsxs(ch,{children:[l.jsx(uh,{src:M.photoURL}),l.jsx(dh,{children:(($=M.displayName)==null?void 0:$.charAt(0))||l.jsx(jp,{className:"h-6 w-6"})})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"font-medium truncate",children:M.displayName}),M.lastMessage&&l.jsx("span",{className:"text-xs text-gray-500",children:fv(new Date(M.lastMessage.createdAt),"h:mm a")})]}),M.lastMessage&&l.jsx("p",{className:"text-sm text-gray-500 truncate",children:M.lastMessage.content})]}),M.unreadCount>0&&l.jsx(hr,{className:"ml-2",children:M.unreadCount})]},M.userId)}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(AC,{className:"h-12 w-12 mx-auto text-gray-400 mb-2"}),l.jsx("p",{className:"text-gray-500",children:"No messages yet"})]})})]}),l.jsx("div",{className:"flex-1 flex flex-col",children:r&&N?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"p-4 border-b",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs(ch,{children:[l.jsx(uh,{src:N.photoURL}),l.jsx(dh,{children:((R=N.displayName)==null?void 0:R.charAt(0))||l.jsx(jp,{className:"h-6 w-6"})})]}),l.jsx("h2",{className:"font-medium",children:N.displayName})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:N.messages.length>0?N.messages.sort((M,$)=>new Date(M.createdAt).getTime()-new Date($.createdAt).getTime()).map(M=>l.jsx("div",{className:`flex ${M.senderId===(t==null?void 0:t.uid)?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[70%] px-4 py-2 rounded-lg ${M.senderId===(t==null?void 0:t.uid)?"bg-primary text-white":"bg-gray-100 text-gray-800"}`,children:[l.jsx("p",{children:M.content}),l.jsx("p",{className:`text-xs mt-1 ${M.senderId===(t==null?void 0:t.uid)?"text-primary-foreground/70":"text-gray-500"}`,children:fv(new Date(M.createdAt),"h:mm a")})]})},M.id)):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-500",children:"No messages in this conversation yet"})})}),l.jsx("div",{className:"p-4 border-t",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Qt,{value:i,onChange:M=>o(M.target.value),placeholder:"Type a message...",onKeyDown:M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),v())}}),l.jsx(Fe,{onClick:v,disabled:g||!i.trim(),children:l.jsx(sR,{className:"h-4 w-4"})})]})})]}):l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[l.jsx(AC,{className:"h-16 w-16 text-gray-300 mb-4"}),l.jsx("h3",{className:"text-lg font-medium",children:"No conversation selected"}),l.jsx("p",{className:"text-gray-500",children:"Select a conversation to start messaging"})]})})]})]})}function Jce(){return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:l.jsx(Ot,{className:"w-full max-w-md mx-4",children:l.jsxs(qt,{className:"pt-6",children:[l.jsxs("div",{className:"flex mb-4 gap-2",children:[l.jsx(X3,{className:"h-8 w-8 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),l.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const eue=hn.object({title:hn.string().min(5,{message:"Title must be at least 5 characters"}).max(100),description:hn.string().min(10,{message:"Description must be at least 10 characters"}),price:hn.string().refine(t=>!isNaN(parseFloat(t))&&parseFloat(t)>0,{message:"Price must be a positive number"}),condition:hn.string().min(1,{message:"Please select a condition"}),categoryId:hn.string().min(1,{message:"Please select a category"}),location:hn.string().optional(),isBidding:hn.boolean().default(!1)});function tue(){const{user:t,isLoading:e}=Yi(),{toast:n}=Si(),[,r]=Ql(),[s,i]=E.useState([]),[o,a]=E.useState(!1),[c,u]=E.useState(!1),[d,h]=E.useState(!1),[p,g]=E.useState(!1),b=Iu({resolver:ku(eue),defaultValues:{title:"",description:"",price:"",condition:"",categoryId:"",location:"",isBidding:!1}}),{data:w}=Qr({queryKey:["categories"],queryFn:Lh}),_=async N=>{const R=N.target.files;if(!(!R||!t)){a(!0);try{const M=[];for(let $=0;$<R.length;$++){const I=R[$],P=await cM(I,t.uid);M.push(P)}i([...s,...M]),n({title:"Images uploaded",description:`Successfully uploaded ${M.length} image(s)`})}catch(M){console.error("Error uploading images:",M),n({title:"Upload failed",description:"Failed to upload images. Please try again.",variant:"destructive"})}finally{a(!1),N.target&&(N.target.value="")}}},x=N=>{const R=[...s];R.splice(N,1),i(R)},v=async N=>{if(!t){n({title:"Authentication required",description:"Please log in to create a listing",variant:"destructive"}),h(!0);return}if(s.length===0){n({title:"Images required",description:"Please upload at least one image",variant:"destructive"});return}u(!0);try{const R={title:N.title,description:N.description,price:parseFloat(N.price)*100,condition:N.condition,images:s,location:N.location,isBidding:N.isBidding,categoryId:N.categoryId};await ME(R,t.uid),n({title:"Listing created",description:"Your product has been listed successfully!"}),b.reset(),i([]),r("/my-listings")}catch(R){console.error("Error creating product:",R),n({title:"Error",description:"Failed to create listing. Please try again.",variant:"destructive"})}finally{u(!1)}};return!e&&!t?l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[l.jsxs(Ot,{className:"max-w-md mx-auto",children:[l.jsxs(en,{children:[l.jsx(rn,{children:"Sign in to UniMarket"}),l.jsx(Nr,{children:"You need to be logged in to create a listing"})]}),l.jsx(qt,{children:l.jsxs("div",{className:"flex gap-4",children:[l.jsx(Fe,{className:"flex-1",onClick:()=>h(!0),children:"Login"}),l.jsx(Fe,{variant:"outline",className:"flex-1",onClick:()=>g(!0),children:"Sign Up"})]})})]}),l.jsx(ua,{isOpen:d,onClose:()=>h(!1),openSignup:()=>{h(!1),g(!0)}}),l.jsx(cc,{isOpen:p,onClose:()=>g(!1),openLogin:()=>{g(!1),h(!0)}})]}):l.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[l.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Create a New Listing"}),l.jsxs(Ot,{children:[l.jsxs(en,{children:[l.jsx(rn,{children:"Item Details"}),l.jsx(Nr,{children:"Provide information about what you're selling"})]}),l.jsx(qt,{children:l.jsx(ju,{...b,children:l.jsxs("form",{onSubmit:b.handleSubmit(v),className:"space-y-6",children:[l.jsx(zt,{control:b.control,name:"title",render:({field:N})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Title"}),l.jsx(Mt,{children:l.jsx(Qt,{placeholder:"e.g. Calculus Textbook 8th Edition",...N})}),l.jsx(Fr,{children:"A clear title helps buyers find your item"}),l.jsx(xn,{})]})}),l.jsx(zt,{control:b.control,name:"description",render:({field:N})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Description"}),l.jsx(Mt,{children:l.jsx(od,{placeholder:"Describe your item in detail",rows:4,...N})}),l.jsx(Fr,{children:"Include details like brand, model, age, and any defects"}),l.jsx(xn,{})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(zt,{control:b.control,name:"price",render:({field:N})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Price (₹)"}),l.jsx(Mt,{children:l.jsx(Qt,{type:"number",placeholder:"0.00",step:"0.01",min:"0",...N})}),l.jsx(xn,{})]})}),l.jsx(zt,{control:b.control,name:"condition",render:({field:N})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Condition"}),l.jsxs(Ko,{onValueChange:N.onChange,defaultValue:N.value,children:[l.jsx(Mt,{children:l.jsx(uo,{children:l.jsx(Yo,{placeholder:"Select condition"})})}),l.jsxs(ho,{children:[l.jsx(Gt,{value:"new",children:"New"}),l.jsx(Gt,{value:"like-new",children:"Like New"}),l.jsx(Gt,{value:"good",children:"Good"}),l.jsx(Gt,{value:"fair",children:"Fair"}),l.jsx(Gt,{value:"poor",children:"Poor"})]})]}),l.jsx(xn,{})]})})]}),l.jsx(zt,{control:b.control,name:"categoryId",render:({field:N})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Category"}),l.jsxs(Ko,{onValueChange:N.onChange,defaultValue:N.value,children:[l.jsx(Mt,{children:l.jsx(uo,{children:l.jsx(Yo,{placeholder:"Select category"})})}),l.jsx(ho,{children:w==null?void 0:w.map(R=>l.jsx(Gt,{value:R.id,children:R.name},R.id))})]}),l.jsx(xn,{})]})}),l.jsx(zt,{control:b.control,name:"location",render:({field:N})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Location (Optional)"}),l.jsx(Mt,{children:l.jsx(Qt,{placeholder:"e.g. North Campus Library",...N})}),l.jsx(Fr,{children:"Where on campus can buyers meet you?"}),l.jsx(xn,{})]})}),l.jsx(zt,{control:b.control,name:"isBidding",render:({field:N})=>l.jsxs(Dt,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[l.jsx(Mt,{children:l.jsx(mv,{checked:N.value,onCheckedChange:N.onChange})}),l.jsxs("div",{className:"space-y-1 leading-none",children:[l.jsx(jt,{children:"Allow bidding on this item"}),l.jsx(Fr,{children:"Buyers can place bids instead of purchasing directly"})]})]})}),l.jsxs("div",{children:[l.jsx(jt,{children:"Images"}),l.jsxs("div",{className:"mt-2",children:[l.jsx(Fr,{className:"mb-2",children:"Upload at least one image of your item"}),l.jsxs("div",{className:"flex flex-wrap gap-4 mt-2",children:[s.map((N,R)=>l.jsxs("div",{className:"relative w-24 h-24 rounded-md overflow-hidden border border-gray-200",children:[l.jsx("img",{src:N,alt:`Product ${R}`,className:"w-full h-full object-cover"}),l.jsx(Fe,{variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-5 w-5",onClick:()=>x(R),type:"button",children:l.jsx(ls,{className:"h-3 w-3"})})]},R)),l.jsxs("label",{className:"w-24 h-24 flex flex-col items-center justify-center border border-dashed border-gray-300 rounded-md cursor-pointer hover:border-primary transition",children:[o?l.jsx("div",{className:"animate-spin h-5 w-5 border-b-2 rounded-full border-primary"}):l.jsxs(l.Fragment,{children:[l.jsx(cR,{className:"h-6 w-6 text-gray-400 mb-1"}),l.jsx("span",{className:"text-xs text-gray-500",children:"Add Image"})]}),l.jsx("input",{type:"file",className:"hidden",accept:"image/*",multiple:!0,onChange:_,disabled:o})]})]}),s.length===0&&l.jsx("p",{className:"text-red-500 text-sm mt-2",children:"At least one image is required"})]})]}),l.jsx(Fe,{type:"submit",className:"w-full",disabled:c||o,children:c?l.jsxs("span",{className:"flex items-center",children:[l.jsx("span",{className:"animate-spin h-4 w-4 mr-2 border-b-2 rounded-full border-current"}),"Creating Listing..."]}):l.jsxs("span",{className:"flex items-center",children:[l.jsx(Qd,{className:"h-4 w-4 mr-2"}),"Create Listing"]})})]})})})]})]})}function nue(){const[t,e]=E.useState(!1),{data:n,isLoading:r}=Qr({queryKey:["bulkSales"],queryFn:mM});return l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Graduating Student Deals"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Find bulk sales from graduating students at discounted prices"})]}),l.jsxs(hr,{className:"px-4 py-2 bg-secondary hover:bg-secondary/90 flex items-center gap-2",children:[l.jsx(J3,{className:"h-4 w-4"}),l.jsx("span",{children:"Graduation Discounts"})]})]}),l.jsx("div",{className:"mb-10 rounded-xl overflow-hidden",children:l.jsx("div",{className:"bg-gradient-to-r from-secondary to-orange-600 p-6 md:p-10",children:l.jsxs("div",{className:"md:flex md:items-center",children:[l.jsxs("div",{className:"md:w-2/3 text-white mb-6 md:mb-0 md:pr-6",children:[l.jsx("h2",{className:"text-xl md:text-2xl font-bold mb-3",children:"Bulk Deals from Graduating Students"}),l.jsx("p",{className:"mb-6",children:"Graduating students often need to sell multiple items at once. Find furniture sets, complete study materials, electronic bundles, and more at special discounted prices!"}),l.jsxs("div",{className:"flex flex-wrap gap-4",children:[l.jsxs(Fe,{className:"bg-white text-secondary hover:bg-gray-100",children:[l.jsx(aR,{className:"h-4 w-4 mr-2"}),"View All Deals"]}),l.jsxs(Fe,{variant:"outline",className:"border-white text-white hover:bg-white/10",children:[l.jsx(uR,{className:"h-4 w-4 mr-2"}),"Find Sellers"]})]})]}),l.jsx("div",{className:"md:w-1/3",children:l.jsx("img",{src:"https://images.unsplash.com/photo-1627556592933-ffe99c1cd9eb?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80",alt:"Graduation",className:"rounded-lg shadow-lg h-48 w-full object-cover"})})]})})}),l.jsxs("div",{className:"mb-12",children:[l.jsx("h2",{className:"text-xl font-bold mb-6",children:"Featured Bulk Sales"}),r?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2].map(s=>l.jsx(Et,{className:"h-64 w-full"},s))}):n&&n.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map(s=>{var i;return l.jsxs(Ot,{className:"overflow-hidden",children:[l.jsx(en,{className:"p-0",children:l.jsx("div",{className:"relative h-40",children:l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-secondary/80 to-orange-600/80 flex items-center justify-center",children:l.jsxs("div",{className:"text-center text-white p-4",children:[l.jsx("h3",{className:"text-xl font-bold",children:s.title}),s.discount&&l.jsxs(hr,{className:"mt-2 bg-white text-secondary hover:bg-white/90",children:[s.discount,"% OFF"]})]})})})}),l.jsxs(qt,{className:"p-4",children:[l.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-2",children:s.description}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(kp,{className:"h-4 w-4 text-gray-500 mr-1"}),l.jsxs("span",{className:"text-sm text-gray-500",children:[((i=s.productIds)==null?void 0:i.length)||0," items"]})]}),l.jsxs("span",{className:"text-sm text-gray-500",children:["Posted ",new Date(s.createdAt).toLocaleDateString()]})]})]}),l.jsx(Tu,{className:"p-4 pt-0",children:l.jsx(Fe,{className:"w-full",children:"View Bundle"})})]},s.id)})}):l.jsx(Ot,{children:l.jsxs(qt,{className:"p-8 text-center",children:[l.jsx(kp,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-medium",children:"No bulk sales available"}),l.jsx("p",{className:"text-gray-500 mt-1 mb-4",children:"Check back soon for new bulk sales from graduating students"})]})})]}),l.jsxs("div",{className:"mb-12",children:[l.jsx("h2",{className:"text-xl font-bold mb-6",children:"How Bulk Sales Work"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs(Ot,{children:[l.jsx(en,{children:l.jsxs(rn,{className:"flex items-center gap-2",children:[l.jsx("span",{className:"bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center text-sm",children:"1"}),"Bundle Creation"]})}),l.jsx(qt,{children:l.jsx("p",{className:"text-gray-600",children:"Graduating students create bundles of items they want to sell together at a discount."})})]}),l.jsxs(Ot,{children:[l.jsx(en,{children:l.jsxs(rn,{className:"flex items-center gap-2",children:[l.jsx("span",{className:"bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center text-sm",children:"2"}),"Browse and Select"]})}),l.jsx(qt,{children:l.jsx("p",{className:"text-gray-600",children:"Browse through available bundles and select the one that contains items you need."})})]}),l.jsxs(Ot,{children:[l.jsx(en,{children:l.jsxs(rn,{className:"flex items-center gap-2",children:[l.jsx("span",{className:"bg-primary text-white rounded-full w-8 h-8 flex items-center justify-center text-sm",children:"3"}),"Save with Discounts"]})}),l.jsx(qt,{children:l.jsx("p",{className:"text-gray-600",children:"Purchase the entire bundle at a discounted price, saving money compared to buying items individually."})})]})]})]}),l.jsx(Ot,{className:"bg-gradient-to-r from-primary/10 to-primary/5 border-primary/20",children:l.jsx(qt,{className:"p-8",children:l.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[l.jsxs("div",{className:"mb-6 md:mb-0 md:mr-6",children:[l.jsx("h3",{className:"text-xl font-bold mb-2",children:"Are You Graduating?"}),l.jsx("p",{className:"text-gray-600",children:"Create your own bulk sale bundle and sell multiple items at once. Perfect for when you're moving out and need to sell quickly."})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsx(Fe,{onClick:()=>e(!0),children:"Create Bulk Sale"}),l.jsxs(Fe,{variant:"outline",children:["Learn More ",l.jsx(Dq,{className:"h-4 w-4 ml-2"})]})]})]})})}),l.jsx(ua,{isOpen:t,onClose:()=>e(!1),openSignup:()=>{e(!1)}})]})}function rue(){const[t,e]=E.useState(!1),[n,r]=E.useState(!1);return l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h1",{className:"text-3xl font-bold mb-4",children:"About UniMarket"}),l.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"A student-centered marketplace designed to help university students buy and sell unused or unneeded goods within their campus community."})]}),l.jsx("div",{className:"mb-16",children:l.jsx("div",{className:"bg-gradient-to-l from-primary to-indigo-800 text-white rounded-xl p-8 md:p-12",children:l.jsxs("div",{className:"md:flex md:items-center",children:[l.jsxs("div",{className:"md:w-2/3 mb-6 md:mb-0 md:pr-8",children:[l.jsx("h2",{className:"text-xl md:text-2xl font-bold mb-4",children:"Our Mission"}),l.jsx("p",{className:"mb-6",children:"UniMarket aims to create a sustainable, affordable, and trustworthy marketplace that connects university students, reducing waste and helping students save money through reuse of quality items."}),l.jsx("h2",{className:"text-xl md:text-2xl font-bold mb-4",children:"Our Vision"}),l.jsx("p",{children:"To be the go-to platform for university students to find affordable goods, reduce their environmental footprint, and create a stronger sense of community on campus."})]}),l.jsx("div",{className:"md:w-1/3",children:l.jsx("img",{src:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1471&q=80",alt:"Students at university",className:"rounded-lg shadow-lg h-48 md:h-64 w-full object-cover"})})]})})}),l.jsxs("div",{className:"mb-16",children:[l.jsx("h2",{className:"text-2xl font-bold mb-8 text-center",children:"What Makes UniMarket Special"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs(Ot,{children:[l.jsxs(en,{className:"pb-2",children:[l.jsx(Q3,{className:"h-8 w-8 text-primary mb-2"}),l.jsx(rn,{children:"Campus-Specific Marketplace"})]}),l.jsx(qt,{children:l.jsx("p",{className:"text-gray-600",children:"UniMarket focuses exclusively on university students, ensuring all listings are relevant to campus life."})})]}),l.jsxs(Ot,{children:[l.jsxs(en,{className:"pb-2",children:[l.jsx(Su,{className:"h-8 w-8 text-primary mb-2"}),l.jsx(rn,{children:"Secure Bidding System"})]}),l.jsx(qt,{children:l.jsx("p",{className:"text-gray-600",children:"Our built-in bidding feature allows fair price negotiations between buyers and sellers."})})]}),l.jsxs(Ot,{children:[l.jsxs(en,{className:"pb-2",children:[l.jsx(J3,{className:"h-8 w-8 text-primary mb-2"}),l.jsx(rn,{children:"Bulk Selling for Graduates"})]}),l.jsx(qt,{children:l.jsx("p",{className:"text-gray-600",children:"Graduating students can sell multiple items at once with our special bulk selling feature."})})]}),l.jsxs(Ot,{children:[l.jsxs(en,{className:"pb-2",children:[l.jsx(H2,{className:"h-8 w-8 text-primary mb-2"}),l.jsx(rn,{children:"Direct Communication"})]}),l.jsx(qt,{children:l.jsx("p",{className:"text-gray-600",children:"Connect directly with sellers through our in-app messaging or WhatsApp integration."})})]}),l.jsxs(Ot,{children:[l.jsxs(en,{className:"pb-2",children:[l.jsx(uR,{className:"h-8 w-8 text-primary mb-2"}),l.jsx(rn,{children:"Anonymous Selling Option"})]}),l.jsx(qt,{children:l.jsx("p",{className:"text-gray-600",children:"Privacy-focused features allow students to list items anonymously if preferred."})})]}),l.jsxs(Ot,{children:[l.jsxs(en,{className:"pb-2",children:[l.jsx(Gq,{className:"h-8 w-8 text-primary mb-2"}),l.jsx(rn,{children:"Sustainability Impact"})]}),l.jsx(qt,{children:l.jsx("p",{className:"text-gray-600",children:"Each transaction on UniMarket helps reduce waste and promotes sustainable consumption."})})]})]})]}),l.jsx("div",{className:"mb-16",children:l.jsxs(Ot,{children:[l.jsxs(en,{children:[l.jsx(rn,{className:"text-2xl",children:"Our Story"}),l.jsx(Nr,{children:"How UniMarket came to be"})]}),l.jsxs(qt,{children:[l.jsx("p",{className:"mb-4",children:"UniMarket was born from a simple observation: at the end of each semester, university dorms and apartments would fill with perfectly good items that students were throwing away simply because they couldn't bring them home or didn't need them anymore."}),l.jsx("p",{className:"mb-4",children:"At the same time, new students were spending hundreds of dollars buying these same items brand new. We saw an opportunity to create a specialized marketplace that would solve both problems while building a more sustainable and affordable campus environment."}),l.jsx("p",{children:"Built by students for students, UniMarket understands the unique needs of university life. From textbooks that are only needed for one semester to dorm furniture that doesn't fit in your car when you go home for summer break, our platform is designed to keep these items in circulation and out of landfills."})]})]})}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ready to Join the UniMarket Community?"}),l.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto mb-6",children:"Whether you're looking to declutter your dorm room or find affordable textbooks, UniMarket is here to help you connect with fellow students."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(Fe,{size:"lg",onClick:()=>window.location.href="/",children:"Browse Listings"}),l.jsx(Fe,{variant:"outline",size:"lg",onClick:()=>e(!0),children:"Create Account"})]}),l.jsx(cc,{isOpen:t,onClose:()=>e(!1),openLogin:()=>{e(!1),r(!0)}}),l.jsx(ua,{isOpen:n,onClose:()=>r(!1),openSignup:()=>{r(!1),e(!0)}})]})]})}const sue=hn.object({name:hn.string().min(2,{message:"Name must be at least 2 characters"}),email:hn.string().email({message:"Please enter a valid email"}),subject:hn.string().min(5,{message:"Subject must be at least 5 characters"}),message:hn.string().min(10,{message:"Message must be at least 10 characters"})});function iue(){const{toast:t}=Si(),[e,n]=E.useState(!1),[r,s]=E.useState(!1),i=Iu({resolver:ku(sue),defaultValues:{name:"",email:"",subject:"",message:""}}),o=async a=>{n(!0);try{await new Promise(c=>setTimeout(c,1500)),s(!0),t({title:"Message sent",description:"We've received your message and will get back to you soon!"}),i.reset()}catch(c){console.error("Error sending message:",c),t({title:"Error",description:"Failed to send your message. Please try again.",variant:"destructive"})}finally{n(!1)}};return l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[l.jsx("h1",{className:"text-3xl font-bold mb-2 text-center",children:"Contact Us"}),l.jsx("p",{className:"text-gray-600 text-center mb-12 max-w-xl mx-auto",children:"Have questions or feedback about UniMarket? We'd love to hear from you!"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[l.jsxs(Ot,{children:[l.jsx(en,{children:l.jsxs(rn,{className:"flex items-center gap-2",children:[l.jsx(tR,{className:"h-5 w-5 text-primary"}),"Email"]})}),l.jsx(qt,{children:l.jsx("p",{className:"text-gray-600",children:"unimarket.84eca@gmail.com"})}),l.jsx(Tu,{children:l.jsx("p",{className:"text-sm text-gray-500",children:"We respond within 24 hours"})})]}),l.jsxs(Ot,{children:[l.jsx(en,{children:l.jsxs(rn,{className:"flex items-center gap-2",children:[l.jsx(nR,{className:"h-5 w-5 text-primary"}),"Phone"]})}),l.jsxs(qt,{children:[l.jsx("p",{className:"text-gray-600",children:"+91 8658635176"}),l.jsx("p",{className:"text-gray-600",children:"Monday - Friday, 9am - 5pm EST"})]}),l.jsx(Tu,{children:l.jsx("p",{className:"text-sm text-gray-500",children:"Call us for urgent matters"})})]}),l.jsxs(Ot,{children:[l.jsx(en,{children:l.jsxs(rn,{className:"flex items-center gap-2",children:[l.jsx(Hq,{className:"h-5 w-5 text-primary"}),"Address"]})}),l.jsxs(qt,{children:[l.jsx("p",{className:"text-gray-600",children:"C.V. Raman Global University"}),l.jsx("p",{className:"text-gray-600",children:"Khorda, 752054"})]}),l.jsx(Tu,{children:l.jsx("p",{className:"text-sm text-gray-500",children:"Main campus location"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-start",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Send Us a Message"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Fill out the form and we'll get back to you as soon as possible. We appreciate your feedback and questions!"}),l.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[l.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[l.jsx(X3,{className:"h-5 w-5 text-amber-500"}),"Before contacting support"]}),l.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-1 text-sm",children:[l.jsxs("li",{children:["Check our ",l.jsx("a",{href:"#",className:"text-primary hover:underline",children:"FAQ page"})," for common questions"]}),l.jsx("li",{children:"For account issues, make sure you're logged in"}),l.jsx("li",{children:"For buying/selling issues, try messaging the other party first"}),l.jsx("li",{children:"Include your order/listing ID if applicable"})]})]})]}),l.jsxs(Ot,{children:[l.jsxs(en,{children:[l.jsx(rn,{children:"Contact Form"}),l.jsx(Nr,{children:"All fields are required unless specified otherwise"})]}),l.jsx(qt,{children:r?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(kq,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-bold mb-2",children:"Message Sent!"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Thank you for reaching out. We've received your message and will respond shortly."}),l.jsx(Fe,{onClick:()=>s(!1),children:"Send Another Message"})]}):l.jsx(ju,{...i,children:l.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-4",children:[l.jsx(zt,{control:i.control,name:"name",render:({field:a})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Name"}),l.jsx(Mt,{children:l.jsx(Qt,{placeholder:"Your name",...a})}),l.jsx(xn,{})]})}),l.jsx(zt,{control:i.control,name:"email",render:({field:a})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Email"}),l.jsx(Mt,{children:l.jsx(Qt,{placeholder:"your@email.edu",...a})}),l.jsx(Fr,{children:"We'll never share your email with anyone else"}),l.jsx(xn,{})]})}),l.jsx(zt,{control:i.control,name:"subject",render:({field:a})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Subject"}),l.jsx(Mt,{children:l.jsx(Qt,{placeholder:"What is this about?",...a})}),l.jsx(xn,{})]})}),l.jsx(zt,{control:i.control,name:"message",render:({field:a})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Message"}),l.jsx(Mt,{children:l.jsx(od,{placeholder:"Your message here...",rows:4,...a})}),l.jsx(xn,{})]})}),l.jsx(Fe,{type:"submit",className:"w-full",disabled:e,children:e?l.jsxs("span",{className:"flex items-center",children:[l.jsx("span",{className:"animate-spin h-4 w-4 mr-2 border-b-2 rounded-full border-current"}),"Sending..."]}):l.jsxs("span",{className:"flex items-center",children:[l.jsx(sR,{className:"h-4 w-4 mr-2"}),"Send Message"]})})]})})})]})]}),l.jsxs("div",{className:"mt-16",children:[l.jsx("h2",{className:"text-2xl font-bold mb-8 text-center",children:"Frequently Asked Questions"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs(Ot,{children:[l.jsx(en,{children:l.jsx(rn,{className:"text-lg",children:"How do I list an item for sale?"})}),l.jsx(qt,{children:l.jsx("p",{className:"text-gray-600",children:'To list an item, log in to your account, click on "Sell Item" in the navigation menu, fill out the product details form, upload images, and submit!'})})]}),l.jsxs(Ot,{children:[l.jsx(en,{children:l.jsx(rn,{className:"text-lg",children:"Is there a fee for using UniMarket?"})}),l.jsx(qt,{children:l.jsx("p",{className:"text-gray-600",children:"UniMarket is completely free to use for university students. We don't charge any listing or transaction fees."})})]}),l.jsxs(Ot,{children:[l.jsx(en,{children:l.jsx(rn,{className:"text-lg",children:"How do I contact a seller?"})}),l.jsx(qt,{children:l.jsx("p",{className:"text-gray-600",children:'Click on a listing, then use either the in-app messaging system or the "WhatsApp Seller" button to contact them directly.'})})]}),l.jsxs(Ot,{children:[l.jsx(en,{children:l.jsx(rn,{className:"text-lg",children:"Can I sell items in bulk?"})}),l.jsx(qt,{children:l.jsx("p",{className:"text-gray-600",children:'Yes! Our bulk selling feature is perfect for graduating students. Go to "Bulk Sales" in the menu to create a bundle of items.'})})]})]})]})]})}const oue=hn.object({emailNotifications:hn.boolean().default(!0),newMessages:hn.boolean().default(!0),newBids:hn.boolean().default(!0),soldItems:hn.boolean().default(!0),marketingEmails:hn.boolean().default(!1)}),aue=hn.object({profileVisibility:hn.boolean().default(!0),anonymousSelling:hn.boolean().default(!1),hideContactInfo:hn.boolean().default(!1)}),lue=hn.object({currentPassword:hn.string().min(1,"Current password is required"),newPassword:hn.string().min(8,"Password must be at least 8 characters"),confirmPassword:hn.string()}).refine(t=>t.newPassword===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function cue(){const{user:t,isLoading:e}=Yi(),{toast:n}=Si(),[r,s]=E.useState(!1),[i,o]=E.useState(!1),[a,c]=E.useState("notifications"),[u,d]=E.useState(!1),h=Iu({resolver:ku(oue),defaultValues:{emailNotifications:!0,newMessages:!0,newBids:!0,soldItems:!0,marketingEmails:!1}}),p=Iu({resolver:ku(aue),defaultValues:{profileVisibility:!0,anonymousSelling:!1,hideContactInfo:!1}}),g=Iu({resolver:ku(lue),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),b=async v=>{if(t){d(!0);try{await new Promise(N=>setTimeout(N,1e3)),n({title:"Settings updated",description:"Your notification preferences have been saved."})}catch(N){console.error("Error updating settings:",N),n({title:"Error",description:"Failed to update settings. Please try again.",variant:"destructive"})}finally{d(!1)}}},w=async v=>{if(t){d(!0);try{await e2(t,{isAnonymousSeller:v.anonymousSelling}),n({title:"Settings updated",description:"Your privacy settings have been saved."})}catch(N){console.error("Error updating settings:",N),n({title:"Error",description:"Failed to update settings. Please try again.",variant:"destructive"})}finally{d(!1)}}},_=async v=>{d(!0);try{await new Promise(N=>setTimeout(N,1e3)),n({title:"Password updated",description:"Your password has been changed successfully."}),g.reset({currentPassword:"",newPassword:"",confirmPassword:""})}catch(N){console.error("Error updating password:",N),n({title:"Error",description:"Failed to update password. Please check your current password.",variant:"destructive"})}finally{d(!1)}},x=async()=>{if(window.confirm("Are you sure you want to delete your account? This action cannot be undone.")){d(!0);try{await new Promise(v=>setTimeout(v,1500)),n({title:"Account deleted",description:"Your account has been permanently deleted."})}catch(v){console.error("Error deleting account:",v),n({title:"Error",description:"Failed to delete account. Please try again.",variant:"destructive"})}finally{d(!1)}}};return!e&&!t?l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[l.jsxs(Ot,{className:"max-w-md mx-auto",children:[l.jsxs(en,{children:[l.jsx(rn,{children:"Sign in to UniMarket"}),l.jsx(Nr,{children:"You need to be logged in to access account settings"})]}),l.jsx(qt,{children:l.jsxs("div",{className:"flex gap-4",children:[l.jsx(Fe,{className:"flex-1",onClick:()=>s(!0),children:"Login"}),l.jsx(Fe,{variant:"outline",className:"flex-1",onClick:()=>o(!0),children:"Sign Up"})]})})]}),l.jsx(ua,{isOpen:r,onClose:()=>s(!1),openSignup:()=>{s(!1),o(!0)}}),l.jsx(cc,{isOpen:i,onClose:()=>o(!1),openLogin:()=>{o(!1),s(!0)}})]}):l.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Account Settings"}),l.jsx("p",{className:"text-gray-600 mb-8",children:"Manage your account preferences and settings"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[l.jsx("div",{className:"sm:w-64 flex-shrink-0",children:l.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:l.jsxs("div",{className:"space-y-1 p-2",children:[l.jsxs(Fe,{variant:a==="notifications"?"default":"ghost",className:"w-full justify-start",onClick:()=>c("notifications"),children:[l.jsx(SC,{className:"h-4 w-4 mr-2"}),"Notifications"]}),l.jsxs(Fe,{variant:a==="privacy"?"default":"ghost",className:"w-full justify-start",onClick:()=>c("privacy"),children:[l.jsx(PC,{className:"h-4 w-4 mr-2"}),"Privacy"]}),l.jsxs(Fe,{variant:a==="security"?"default":"ghost",className:"w-full justify-start",onClick:()=>c("security"),children:[l.jsx(EC,{className:"h-4 w-4 mr-2"}),"Security"]}),l.jsxs(Fe,{variant:a==="danger"?"default":"ghost",className:"w-full justify-start text-red-500",onClick:()=>c("danger"),children:[l.jsx(Xq,{className:"h-4 w-4 mr-2"}),"Danger Zone"]})]})})}),l.jsxs("div",{className:"flex-1",children:[a==="notifications"&&l.jsxs(Ot,{children:[l.jsxs(en,{children:[l.jsxs(rn,{className:"flex items-center gap-2",children:[l.jsx(SC,{className:"h-5 w-5"}),"Notification Preferences"]}),l.jsx(Nr,{children:"Control how and when you receive notifications"})]}),l.jsx(qt,{children:l.jsx(ju,{...h,children:l.jsxs("form",{onSubmit:h.handleSubmit(b),className:"space-y-6",children:[l.jsx(zt,{control:h.control,name:"emailNotifications",render:({field:v})=>l.jsxs(Dt,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(jt,{className:"text-base",children:"Email Notifications"}),l.jsx(Fr,{children:"Receive notifications via email"})]}),l.jsx(Mt,{children:l.jsx(mi,{checked:v.value,onCheckedChange:v.onChange})})]})}),l.jsxs("div",{className:"ml-6 space-y-4",children:[l.jsx(zt,{control:h.control,name:"newMessages",render:({field:v})=>l.jsxs(Dt,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(jt,{children:"New Messages"}),l.jsx(Fr,{children:"Get notified when you receive new messages"})]}),l.jsx(Mt,{children:l.jsx(mi,{checked:v.value,onCheckedChange:v.onChange,disabled:!h.watch("emailNotifications")})})]})}),l.jsx(zt,{control:h.control,name:"newBids",render:({field:v})=>l.jsxs(Dt,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(jt,{children:"New Bids"}),l.jsx(Fr,{children:"Get notified when someone bids on your item"})]}),l.jsx(Mt,{children:l.jsx(mi,{checked:v.value,onCheckedChange:v.onChange,disabled:!h.watch("emailNotifications")})})]})}),l.jsx(zt,{control:h.control,name:"soldItems",render:({field:v})=>l.jsxs(Dt,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(jt,{children:"Sold Items"}),l.jsx(Fr,{children:"Get notified when your item is sold"})]}),l.jsx(Mt,{children:l.jsx(mi,{checked:v.value,onCheckedChange:v.onChange,disabled:!h.watch("emailNotifications")})})]})})]}),l.jsx(Ll,{}),l.jsx(zt,{control:h.control,name:"marketingEmails",render:({field:v})=>l.jsxs(Dt,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(jt,{className:"text-base",children:"Marketing Emails"}),l.jsx(Fr,{children:"Receive emails about new features and updates"})]}),l.jsx(Mt,{children:l.jsx(mi,{checked:v.value,onCheckedChange:v.onChange})})]})}),l.jsxs(Fe,{type:"submit",disabled:u,children:[l.jsx(CC,{className:"h-4 w-4 mr-2"}),u?"Saving...":"Save Changes"]})]})})})]}),a==="privacy"&&l.jsxs(Ot,{children:[l.jsxs(en,{children:[l.jsxs(rn,{className:"flex items-center gap-2",children:[l.jsx(PC,{className:"h-5 w-5"}),"Privacy Settings"]}),l.jsx(Nr,{children:"Control your profile visibility and privacy options"})]}),l.jsx(qt,{children:l.jsx(ju,{...p,children:l.jsxs("form",{onSubmit:p.handleSubmit(w),className:"space-y-6",children:[l.jsx(zt,{control:p.control,name:"profileVisibility",render:({field:v})=>l.jsxs(Dt,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(jt,{className:"text-base",children:"Public Profile"}),l.jsx(Fr,{children:"Allow other users to view your profile details"})]}),l.jsx(Mt,{children:l.jsx(mi,{checked:v.value,onCheckedChange:v.onChange})})]})}),l.jsx(zt,{control:p.control,name:"anonymousSelling",render:({field:v})=>l.jsxs(Dt,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(jt,{className:"text-base",children:"Anonymous Selling"}),l.jsx(Fr,{children:"Hide your identity when selling items"})]}),l.jsx(Mt,{children:l.jsx(mi,{checked:v.value,onCheckedChange:v.onChange})})]})}),l.jsx(zt,{control:p.control,name:"hideContactInfo",render:({field:v})=>l.jsxs(Dt,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(jt,{className:"text-base",children:"Hide Contact Information"}),l.jsx(Fr,{children:"Only show contact info to buyers after they express interest"})]}),l.jsx(Mt,{children:l.jsx(mi,{checked:v.value,onCheckedChange:v.onChange})})]})}),l.jsxs(Fe,{type:"submit",disabled:u,children:[l.jsx(CC,{className:"h-4 w-4 mr-2"}),u?"Saving...":"Save Changes"]})]})})})]}),a==="security"&&l.jsxs(Ot,{children:[l.jsxs(en,{children:[l.jsxs(rn,{className:"flex items-center gap-2",children:[l.jsx(EC,{className:"h-5 w-5"}),"Security Settings"]}),l.jsx(Nr,{children:"Update your password and security preferences"})]}),l.jsx(qt,{children:l.jsx(ju,{...g,children:l.jsxs("form",{onSubmit:g.handleSubmit(_),className:"space-y-6",children:[l.jsx(zt,{control:g.control,name:"currentPassword",render:({field:v})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Current Password"}),l.jsx(Mt,{children:l.jsx(Qt,{type:"password",placeholder:"Enter your current password",...v})}),l.jsx(xn,{})]})}),l.jsx(zt,{control:g.control,name:"newPassword",render:({field:v})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"New Password"}),l.jsx(Mt,{children:l.jsx(Qt,{type:"password",placeholder:"Enter new password",...v})}),l.jsx(Fr,{children:"Password must be at least 8 characters"}),l.jsx(xn,{})]})}),l.jsx(zt,{control:g.control,name:"confirmPassword",render:({field:v})=>l.jsxs(Dt,{children:[l.jsx(jt,{children:"Confirm New Password"}),l.jsx(Mt,{children:l.jsx(Qt,{type:"password",placeholder:"Confirm new password",...v})}),l.jsx(xn,{})]})}),l.jsx(Fe,{type:"submit",disabled:u,children:u?"Updating...":"Update Password"})]})})})]}),a==="danger"&&l.jsxs(Ot,{className:"border-red-200",children:[l.jsxs(en,{className:"border-b border-red-100",children:[l.jsxs(rn,{className:"flex items-center gap-2 text-red-600",children:[l.jsx(lR,{className:"h-5 w-5"}),"Danger Zone"]}),l.jsx(Nr,{children:"Actions here are irreversible. Please proceed with caution."})]}),l.jsx(qt,{className:"pt-6",children:l.jsxs("div",{className:"rounded-lg border border-red-200 p-4 bg-red-50",children:[l.jsx("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Delete Account"}),l.jsx("p",{className:"text-red-600 mb-4",children:"This will permanently delete your account and all your data. This action cannot be undone."}),l.jsx(Fe,{variant:"destructive",onClick:x,disabled:u,children:u?"Processing...":"Delete My Account"})]})})]})]})]})]})}function uue(){return l.jsxs(XB,{children:[l.jsx(hi,{path:"/",component:Nce}),l.jsx(hi,{path:"/profile",component:kce}),l.jsx(hi,{path:"/my-listings",component:Kce}),l.jsx(hi,{path:"/purchase-history",component:Xce}),l.jsx(hi,{path:"/messages",component:Zce}),l.jsx(hi,{path:"/categories",component:jI}),l.jsx(hi,{path:"/categories/:id",component:jI}),l.jsx(hi,{path:"/product/:id",component:Wce}),l.jsx(hi,{path:"/sell",component:tue}),l.jsx(hi,{path:"/bulk-sales",component:nue}),l.jsx(hi,{path:"/about",component:rue}),l.jsx(hi,{path:"/contact",component:iue}),l.jsx(hi,{path:"/settings",component:cue}),l.jsx(hi,{component:Jce})]})}function due(){return l.jsx(wz,{client:S1,children:l.jsx(Sne,{children:l.jsxs(fse,{children:[l.jsx(Nse,{children:l.jsx(uue,{})}),l.jsx(O$,{})]})})})}const hue=document.getElementById("root");n3(hue).render(l.jsx(due,{}));wse();export{jn as _,pue as c,zI as g};
